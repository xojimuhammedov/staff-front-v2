import{r as hn,j as tn,t as nn,a as pn,u as wa,d as Rs,e as Ds,f as Ss,g as ws,h as Ms}from"./index.e5d80a55.js";const Jd=hn.exports.forwardRef((e,t)=>{var J;const{error:r=!1,fullWidth:n=!0,size:i="base",rounded:a,className:s,label:l,helperText:c,startIcon:d,endIcon:u,rootClassName:h,labelExtractInfo:y,...m}=e,p=["appearance-none dark:bg-bg-form py-xs px-3 text-c-m text-text-base border-0 rounded-sm shadow-base bg-bg-field placeholder-text-muted hover:bg-bg-field-hover focus:bg-bg-field focus:ring-bg-brand focus:shadow-border-interactive-active focus:border-bg-brand disabled:bg-bg-disabled disabled:shadow-base disabled:text-text-disabled dark:text-text-title-dark"],I=["h-8"],E=["h-10"],T=["w-full"],g=["bg-bg-field shadow-custom-border-error"],O=["before:absolute before:right-[-10px] before:top-0 before:text-text-error before:content-['*']"],P=["text-text-error"],x=l==null?void 0:l.endsWith("*"),F=x?(J=l==null?void 0:l.slice(0,-1))==null?void 0:J.trim():l;return tn("div",{className:nn(n&&T,h),children:[l&&tn("label",{className:nn(["relative mb-1.5 inline-block text-c-m-p font-medium text-text-base  dark:text-text-title-dark",m.required&&O]),htmlFor:m.name,children:[F," ",pn("span",{className:"text-red-500",children:x?"*":""}),y&&tn("span",{className:"ml-1 text-c-m-p text-text-muted",children:["(",y,")"]})]}),tn("div",{className:"relative",children:[d&&pn("div",{className:"absolute left-2.5 top-2/4 -translate-y-2/4 [&>svg]:h-5 [&>svg]:w-5",children:d}),u&&pn("div",{className:"absolute right-2.5 top-2/4 -translate-y-2/4 [&>svg]:h-5 [&>svg]:w-5",children:u}),pn("input",{ref:t,"aria-invalid":!0,...m,className:nn([p,i==="base"&&E,i==="small"&&I,r&&g,n&&T,s,d&&"pl-9"])})]}),c&&pn("p",{className:nn(["mt-xs text-c-xs",r&&P]),children:c==="undefined"?"":c})]})}),Zd=hn.exports.forwardRef((e,t)=>{const{t:r}=wa(),{error:n=!1,fullWidth:i=!0,label:a,helperText:s,rounded:l,className:c,rootClassName:d,...u}=e,h=["appearance-none dark:bg-bg-form py-xs px-3 h-[70px] text-c-m text-text-base border-0 rounded-sm shadow-base bg-bg-field placeholder-text-muted hover:bg-bg-field-hover focus:ring-bg-brand focus:bg-bg-field focus:shadow-border-interactive-active disabled:bg-bg-disabled disabled:shadow-base disabled:text-text-disabled dark:text-text-title-dark"],y=["w-full"],m=["bg-bg-field shadow-custom-border-error"],p=["before:absolute before:right-[-10px] before:top-0 before:text-text-error before:content-['*']"],I=["text-text-error"];return tn("div",{className:nn(i&&y,d),children:[a&&tn("label",{className:nn(["relative mb-1.5 inline-block text-c-m-p text-text-base",u.required&&p]),htmlFor:u.name,children:[a," ",!u.required&&tn("span",{className:"text-c-m-p text-text-muted",children:["(",r("Optional"),")"]})]}),pn("textarea",{ref:t,"aria-invalid":!0,...u,className:nn([h,n&&m,i&&y,c])}),s&&tn("p",{className:nn(["mt-xs text-c-xs",n&&I]),children:[" ",s==="undefined"?"":s]})]})});/*!
 * FilePond 4.32.9
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const Ps=e=>e instanceof HTMLElement,As=(e,t=[],r=[])=>{const n={...e},i=[],a=[],s=()=>({...n}),l=()=>{const p=[...i];return i.length=0,p},c=()=>{const p=[...a];a.length=0,p.forEach(({type:I,data:E})=>{d(I,E)})},d=(p,I,E)=>{if(E&&!document.hidden){a.push({type:p,data:I});return}m[p]&&m[p](I),i.push({type:p,data:I})},u=(p,...I)=>y[p]?y[p](...I):null,h={getState:s,processActionQueue:l,processDispatchQueue:c,dispatch:d,query:u};let y={};t.forEach(p=>{y={...p(n),...y}});let m={};return r.forEach(p=>{m={...p(d,u,n),...m}}),h},Ls=(e,t,r)=>{if(typeof r=="function"){e[t]=r;return}Object.defineProperty(e,t,{...r})},Ze=(e,t)=>{for(const r in e)!e.hasOwnProperty(r)||t(r,e[r])},Gn=e=>{const t={};return Ze(e,r=>{Ls(t,r,e[r])}),t},mt=(e,t,r=null)=>{if(r===null)return e.getAttribute(t)||e.hasAttribute(t);e.setAttribute(t,r)},Cs="http://www.w3.org/2000/svg",Ns=["svg","path"],Li=e=>Ns.includes(e),Fr=(e,t,r={})=>{typeof t=="object"&&(r=t,t=null);const n=Li(e)?document.createElementNS(Cs,e):document.createElement(e);return t&&(Li(e)?mt(n,"class",t):n.className=t),Ze(r,(i,a)=>{mt(n,i,a)}),n},xs=e=>(t,r)=>{typeof r<"u"&&e.children[r]?e.insertBefore(t,e.children[r]):e.appendChild(t)},Gs=(e,t)=>(r,n)=>(typeof n<"u"?t.splice(n,0,r):t.push(r),r),ks=(e,t)=>r=>(t.splice(t.indexOf(r),1),r.element.parentNode&&e.removeChild(r.element),r),Fs=(()=>typeof window<"u"&&typeof window.document<"u")(),Ma=()=>Fs,Bs=Ma()?Fr("svg"):{},Ys="children"in Bs?e=>e.children.length:e=>e.childNodes.length,Pa=(e,t,r,n)=>{const i=r[0]||e.left,a=r[1]||e.top,s=i+e.width,l=a+e.height*(n[1]||1),c={element:{...e},inner:{left:e.left,top:e.top,right:e.right,bottom:e.bottom},outer:{left:i,top:a,right:s,bottom:l}};return t.filter(d=>!d.isRectIgnored()).map(d=>d.rect).forEach(d=>{Ci(c.inner,{...d.inner}),Ci(c.outer,{...d.outer})}),Ni(c.inner),c.outer.bottom+=c.element.marginBottom,c.outer.right+=c.element.marginRight,Ni(c.outer),c},Ci=(e,t)=>{t.top+=e.top,t.right+=e.left,t.bottom+=e.top,t.left+=e.left,t.bottom>e.bottom&&(e.bottom=t.bottom),t.right>e.right&&(e.right=t.right)},Ni=e=>{e.width=e.right-e.left,e.height=e.bottom-e.top},Vn=e=>typeof e=="number",Us=(e,t,r,n=.001)=>Math.abs(e-t)<n&&Math.abs(r)<n,Vs=({stiffness:e=.5,damping:t=.75,mass:r=10}={})=>{let n=null,i=null,a=0,s=!1;const d=Gn({interpolate:(u,h)=>{if(s)return;if(!(Vn(n)&&Vn(i))){s=!0,a=0;return}const y=-(i-n)*e;a+=y/r,i+=a,a*=t,Us(i,n,a)||h?(i=n,a=0,s=!0,d.onupdate(i),d.oncomplete(i)):d.onupdate(i)},target:{set:u=>{if(Vn(u)&&!Vn(i)&&(i=u),n===null&&(n=u,i=u),n=u,i===n||typeof n>"u"){s=!0,a=0,d.onupdate(i),d.oncomplete(i);return}s=!1},get:()=>n},resting:{get:()=>s},onupdate:u=>{},oncomplete:u=>{}});return d},qs=e=>e<.5?2*e*e:-1+(4-2*e)*e,Ws=({duration:e=500,easing:t=qs,delay:r=0}={})=>{let n=null,i,a,s=!0,l=!1,c=null;const u=Gn({interpolate:(h,y)=>{s||c===null||(n===null&&(n=h),!(h-n<r)&&(i=h-n-r,i>=e||y?(i=1,a=l?0:1,u.onupdate(a*c),u.oncomplete(a*c),s=!0):(a=i/e,u.onupdate((i>=0?t(l?1-a:a):0)*c))))},target:{get:()=>l?0:c,set:h=>{if(c===null){c=h,u.onupdate(h),u.oncomplete(h);return}h<c?(c=1,l=!0):(l=!1,c=h),s=!1,n=null}},resting:{get:()=>s},onupdate:h=>{},oncomplete:h=>{}});return u},xi={spring:Vs,tween:Ws},Hs=(e,t,r)=>{const n=e[t]&&typeof e[t][r]=="object"?e[t][r]:e[t]||e,i=typeof n=="string"?n:n.type,a=typeof n=="object"?{...n}:{};return xi[i]?xi[i](a):null},yi=(e,t,r,n=!1)=>{t=Array.isArray(t)?t:[t],t.forEach(i=>{e.forEach(a=>{let s=a,l=()=>r[a],c=d=>r[a]=d;typeof a=="object"&&(s=a.key,l=a.getter||l,c=a.setter||c),!(i[s]&&!n)&&(i[s]={get:l,set:c})})})},js=({mixinConfig:e,viewProps:t,viewInternalAPI:r,viewExternalAPI:n})=>{const i={...t},a=[];return Ze(e,(s,l)=>{const c=Hs(l);if(!c)return;c.onupdate=u=>{t[s]=u},c.target=i[s],yi([{key:s,setter:u=>{c.target!==u&&(c.target=u)},getter:()=>t[s]}],[r,n],t,!0),a.push(c)}),{write:s=>{let l=document.hidden,c=!0;return a.forEach(d=>{d.resting||(c=!1),d.interpolate(s,l)}),c},destroy:()=>{}}},$s=e=>(t,r)=>{e.addEventListener(t,r)},zs=e=>(t,r)=>{e.removeEventListener(t,r)},Xs=({mixinConfig:e,viewProps:t,viewInternalAPI:r,viewExternalAPI:n,viewState:i,view:a})=>{const s=[],l=$s(a.element),c=zs(a.element);return n.on=(d,u)=>{s.push({type:d,fn:u}),l(d,u)},n.off=(d,u)=>{s.splice(s.findIndex(h=>h.type===d&&h.fn===u),1),c(d,u)},{write:()=>!0,destroy:()=>{s.forEach(d=>{c(d.type,d.fn)})}}},Qs=({mixinConfig:e,viewProps:t,viewExternalAPI:r})=>{yi(e,r,t)},At=e=>e!=null,Ks={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},Js=({mixinConfig:e,viewProps:t,viewInternalAPI:r,viewExternalAPI:n,view:i})=>{const a={...t},s={};yi(e,[r,n],t);const l=()=>[t.translateX||0,t.translateY||0],c=()=>[t.scaleX||0,t.scaleY||0],d=()=>i.rect?Pa(i.rect,i.childViews,l(),c()):null;return r.rect={get:d},n.rect={get:d},e.forEach(u=>{t[u]=typeof a[u]>"u"?Ks[u]:a[u]}),{write:()=>{if(!!Zs(s,t))return eo(i.element,t),Object.assign(s,{...t}),!0},destroy:()=>{}}},Zs=(e,t)=>{if(Object.keys(e).length!==Object.keys(t).length)return!0;for(const r in t)if(t[r]!==e[r])return!0;return!1},eo=(e,{opacity:t,perspective:r,translateX:n,translateY:i,scaleX:a,scaleY:s,rotateX:l,rotateY:c,rotateZ:d,originX:u,originY:h,width:y,height:m})=>{let p="",I="";(At(u)||At(h))&&(I+=`transform-origin: ${u||0}px ${h||0}px;`),At(r)&&(p+=`perspective(${r}px) `),(At(n)||At(i))&&(p+=`translate3d(${n||0}px, ${i||0}px, 0) `),(At(a)||At(s))&&(p+=`scale3d(${At(a)?a:1}, ${At(s)?s:1}, 1) `),At(d)&&(p+=`rotateZ(${d}rad) `),At(l)&&(p+=`rotateX(${l}rad) `),At(c)&&(p+=`rotateY(${c}rad) `),p.length&&(I+=`transform:${p};`),At(t)&&(I+=`opacity:${t};`,t===0&&(I+="visibility:hidden;"),t<1&&(I+="pointer-events:none;")),At(m)&&(I+=`height:${m}px;`),At(y)&&(I+=`width:${y}px;`);const E=e.elementCurrentStyle||"";(I.length!==E.length||I!==E)&&(e.style.cssText=I,e.elementCurrentStyle=I)},to={styles:Js,listeners:Xs,animations:js,apis:Qs},Gi=(e={},t={},r={})=>(t.layoutCalculated||(e.paddingTop=parseInt(r.paddingTop,10)||0,e.marginTop=parseInt(r.marginTop,10)||0,e.marginRight=parseInt(r.marginRight,10)||0,e.marginBottom=parseInt(r.marginBottom,10)||0,e.marginLeft=parseInt(r.marginLeft,10)||0,t.layoutCalculated=!0),e.left=t.offsetLeft||0,e.top=t.offsetTop||0,e.width=t.offsetWidth||0,e.height=t.offsetHeight||0,e.right=e.left+e.width,e.bottom=e.top+e.height,e.scrollTop=t.scrollTop,e.hidden=t.offsetParent===null,e),ct=({tag:e="div",name:t=null,attributes:r={},read:n=()=>{},write:i=()=>{},create:a=()=>{},destroy:s=()=>{},filterFrameActionsForChild:l=(m,p)=>p,didCreateView:c=()=>{},didWriteView:d=()=>{},ignoreRect:u=!1,ignoreRectUpdate:h=!1,mixins:y=[]}={})=>(m,p={})=>{const I=Fr(e,`filepond--${t}`,r),E=window.getComputedStyle(I,null),T=Gi();let g=null,O=!1;const P=[],x=[],F={},J={},A=[i],B=[n],ee=[s],U=()=>I,te=()=>P.concat(),Se=()=>F,L=oe=>(Oe,we)=>Oe(oe,we),Ee=()=>g||(g=Pa(T,P,[0,0],[1,1]),g),D=()=>E,C=()=>{g=null,P.forEach(we=>we._read()),!(h&&T.width&&T.height)&&Gi(T,I,E);const Oe={root:st,props:p,rect:T};B.forEach(we=>we(Oe))},j=(oe,Oe,we)=>{let bt=Oe.length===0;return A.forEach(Ye=>{Ye({props:p,root:st,actions:Oe,timestamp:oe,shouldOptimize:we})===!1&&(bt=!1)}),x.forEach(Ye=>{Ye.write(oe)===!1&&(bt=!1)}),P.filter(Ye=>!!Ye.element.parentNode).forEach(Ye=>{Ye._write(oe,l(Ye,Oe),we)||(bt=!1)}),P.forEach((Ye,ht)=>{Ye.element.parentNode||(st.appendChild(Ye.element,ht),Ye._read(),Ye._write(oe,l(Ye,Oe),we),bt=!1)}),O=bt,d({props:p,root:st,actions:Oe,timestamp:oe}),bt},$=()=>{x.forEach(oe=>oe.destroy()),ee.forEach(oe=>{oe({root:st,props:p})}),P.forEach(oe=>oe._destroy())},Pe={element:{get:U},style:{get:D},childViews:{get:te}},se={...Pe,rect:{get:Ee},ref:{get:Se},is:oe=>t===oe,appendChild:xs(I),createChildView:L(m),linkView:oe=>(P.push(oe),oe),unlinkView:oe=>{P.splice(P.indexOf(oe),1)},appendChildView:Gs(I,P),removeChildView:ks(I,P),registerWriter:oe=>A.push(oe),registerReader:oe=>B.push(oe),registerDestroyer:oe=>ee.push(oe),invalidateLayout:()=>I.layoutCalculated=!1,dispatch:m.dispatch,query:m.query},_t={element:{get:U},childViews:{get:te},rect:{get:Ee},resting:{get:()=>O},isRectIgnored:()=>u,_read:C,_write:j,_destroy:$},St={...Pe,rect:{get:()=>T}};Object.keys(y).sort((oe,Oe)=>oe==="styles"?1:Oe==="styles"?-1:0).forEach(oe=>{const Oe=to[oe]({mixinConfig:y[oe],viewProps:p,viewState:J,viewInternalAPI:se,viewExternalAPI:_t,view:Gn(St)});Oe&&x.push(Oe)});const st=Gn(se);a({root:st,props:p});const $e=Ys(I);return P.forEach((oe,Oe)=>{st.appendChild(oe.element,$e+Oe)}),c(st),Gn(_t)},no=(e,t,r=60)=>{const n="__framePainter";if(window[n]){window[n].readers.push(e),window[n].writers.push(t);return}window[n]={readers:[e],writers:[t]};const i=window[n],a=1e3/r;let s=null,l=null,c=null,d=null;const u=()=>{document.hidden?(c=()=>window.setTimeout(()=>h(performance.now()),a),d=()=>window.clearTimeout(l)):(c=()=>window.requestAnimationFrame(h),d=()=>window.cancelAnimationFrame(l))};document.addEventListener("visibilitychange",()=>{d&&d(),u(),h(performance.now())});const h=y=>{l=c(h),s||(s=y);const m=y-s;m<=a||(s=y-m%a,i.readers.forEach(p=>p()),i.writers.forEach(p=>p(y)))};return u(),h(performance.now()),{pause:()=>{d(l)}}},Ct=(e,t)=>({root:r,props:n,actions:i=[],timestamp:a,shouldOptimize:s})=>{i.filter(l=>e[l.type]).forEach(l=>e[l.type]({root:r,props:n,action:l.data,timestamp:a,shouldOptimize:s})),t&&t({root:r,props:n,actions:i,timestamp:a,shouldOptimize:s})},ki=(e,t)=>t.parentNode.insertBefore(e,t),Fi=(e,t)=>t.parentNode.insertBefore(e,t.nextSibling),Vr=e=>Array.isArray(e),wn=e=>e==null,ro=e=>e.trim(),qr=e=>""+e,io=(e,t=",")=>wn(e)?[]:Vr(e)?e:qr(e).split(t).map(ro).filter(r=>r.length),Aa=e=>typeof e=="boolean",La=e=>Aa(e)?e:e==="true",Lt=e=>typeof e=="string",Ca=e=>Vn(e)?e:Lt(e)?qr(e).replace(/[a-z]+/gi,""):0,Gr=e=>parseInt(Ca(e),10),Bi=e=>parseFloat(Ca(e)),lr=e=>Vn(e)&&isFinite(e)&&Math.floor(e)===e,Yi=(e,t=1e3)=>{if(lr(e))return e;let r=qr(e).trim();return/MB$/i.test(r)?(r=r.replace(/MB$i/,"").trim(),Gr(r)*t*t):/KB/i.test(r)?(r=r.replace(/KB$i/,"").trim(),Gr(r)*t):Gr(r)},qn=e=>typeof e=="function",ao=e=>{let t=self,r=e.split("."),n=null;for(;n=r.shift();)if(t=t[n],!t)return null;return t},Ui={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},so=e=>{const t={};return t.url=Lt(e)?e:e.url||"",t.timeout=e.timeout?parseInt(e.timeout,10):0,t.headers=e.headers?e.headers:{},Ze(Ui,r=>{t[r]=oo(r,e[r],Ui[r],t.timeout,t.headers)}),t.process=e.process||Lt(e)||e.url?t.process:null,t.remove=e.remove||null,delete t.headers,t},oo=(e,t,r,n,i)=>{if(t===null)return null;if(typeof t=="function")return t;const a={url:r==="GET"||r==="PATCH"?`?${e}=`:"",method:r,headers:i,withCredentials:!1,timeout:n,onload:null,ondata:null,onerror:null};if(Lt(t))return a.url=t,a;if(Object.assign(a,t),Lt(a.headers)){const s=a.headers.split(/:(.+)/);a.headers={header:s[0],value:s[1]}}return a.withCredentials=La(a.withCredentials),a},lo=e=>so(e),co=e=>e===null,Tt=e=>typeof e=="object"&&e!==null,uo=e=>Tt(e)&&Lt(e.url)&&Tt(e.process)&&Tt(e.revert)&&Tt(e.restore)&&Tt(e.fetch),oi=e=>Vr(e)?"array":co(e)?"null":lr(e)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(e)?"bytes":uo(e)?"api":typeof e,fo=e=>e.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",'),po={array:io,boolean:La,int:e=>oi(e)==="bytes"?Yi(e):Gr(e),number:Bi,float:Bi,bytes:Yi,string:e=>qn(e)?e:qr(e),function:e=>ao(e),serverapi:lo,object:e=>{try{return JSON.parse(fo(e))}catch{return null}}},mo=(e,t)=>po[t](e),Na=(e,t,r)=>{if(e===t)return e;let n=oi(e);if(n!==r){const i=mo(e,r);if(n=oi(i),i===null)throw`Trying to assign value with incorrect type to "${option}", allowed type: "${r}"`;e=i}return e},ho=(e,t)=>{let r=e;return{enumerable:!0,get:()=>r,set:n=>{r=Na(n,e,t)}}},go=e=>{const t={};return Ze(e,r=>{const n=e[r];t[r]=ho(n[0],n[1])}),Gn(t)},Eo=e=>({items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:go(e)}),Wr=(e,t="-")=>e.split(/(?=[A-Z])/).map(r=>r.toLowerCase()).join(t),yo=(e,t)=>{const r={};return Ze(t,n=>{r[n]={get:()=>e.getState().options[n],set:i=>{e.dispatch(`SET_${Wr(n,"_").toUpperCase()}`,{value:i})}}}),r},Io=e=>(t,r,n)=>{const i={};return Ze(e,a=>{const s=Wr(a,"_").toUpperCase();i[`SET_${s}`]=l=>{try{n.options[a]=l.value}catch{}t(`DID_SET_${s}`,{value:n.options[a]})}}),i},To=e=>t=>{const r={};return Ze(e,n=>{r[`GET_${Wr(n,"_").toUpperCase()}`]=i=>t.options[n]}),r},rn={API:1,DROP:2,BROWSE:3,PASTE:4,NONE:5},Ii=()=>Math.random().toString(36).substring(2,11),Ti=(e,t)=>e.splice(t,1),_o=(e,t)=>{t?e():document.hidden?Promise.resolve(1).then(e):setTimeout(e,0)},Hr=()=>{const e=[],t=(n,i)=>{Ti(e,e.findIndex(a=>a.event===n&&(a.cb===i||!i)))},r=(n,i,a)=>{e.filter(s=>s.event===n).map(s=>s.cb).forEach(s=>_o(()=>s(...i),a))};return{fireSync:(n,...i)=>{r(n,i,!0)},fire:(n,...i)=>{r(n,i,!1)},on:(n,i)=>{e.push({event:n,cb:i})},onOnce:(n,i)=>{e.push({event:n,cb:(...a)=>{t(n,i),i(...a)}})},off:t}},xa=(e,t,r)=>{Object.getOwnPropertyNames(e).filter(n=>!r.includes(n)).forEach(n=>Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n)))},bo=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],kt=e=>{const t={};return xa(e,t,bo),t},vo=e=>{e.forEach((t,r)=>{t.released&&Ti(e,r)})},ge={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},It={INPUT:1,LIMBO:2,LOCAL:3},Ga=e=>/[^0-9]+/.exec(e),ka=()=>Ga(1.1 .toLocaleString())[0],Oo=()=>{const e=ka(),t=1e3 .toLocaleString(),r=1e3 .toString();return t!==r?Ga(t)[0]:e==="."?",":"."},R={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},_i=[],fn=(e,t,r)=>new Promise((n,i)=>{const a=_i.filter(l=>l.key===e).map(l=>l.cb);if(a.length===0){n(t);return}const s=a.shift();a.reduce((l,c)=>l.then(d=>c(d,r)),s(t,r)).then(l=>n(l)).catch(l=>i(l))}),Xn=(e,t,r)=>_i.filter(n=>n.key===e).map(n=>n.cb(t,r)),Ro=(e,t)=>_i.push({key:e,cb:t}),Do=e=>Object.assign(rr,e),Br=()=>({...rr}),So=e=>{Ze(e,(t,r)=>{!rr[t]||(rr[t][0]=Na(r,rr[t][0],rr[t][1]))})},rr={id:[null,R.STRING],name:["filepond",R.STRING],disabled:[!1,R.BOOLEAN],className:[null,R.STRING],required:[!1,R.BOOLEAN],captureMethod:[null,R.STRING],allowSyncAcceptAttribute:[!0,R.BOOLEAN],allowDrop:[!0,R.BOOLEAN],allowBrowse:[!0,R.BOOLEAN],allowPaste:[!0,R.BOOLEAN],allowMultiple:[!1,R.BOOLEAN],allowReplace:[!0,R.BOOLEAN],allowRevert:[!0,R.BOOLEAN],allowRemove:[!0,R.BOOLEAN],allowProcess:[!0,R.BOOLEAN],allowReorder:[!1,R.BOOLEAN],allowDirectoriesOnly:[!1,R.BOOLEAN],storeAsFile:[!1,R.BOOLEAN],forceRevert:[!1,R.BOOLEAN],maxFiles:[null,R.INT],checkValidity:[!1,R.BOOLEAN],itemInsertLocationFreedom:[!0,R.BOOLEAN],itemInsertLocation:["before",R.STRING],itemInsertInterval:[75,R.INT],dropOnPage:[!1,R.BOOLEAN],dropOnElement:[!0,R.BOOLEAN],dropValidation:[!1,R.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],R.ARRAY],instantUpload:[!0,R.BOOLEAN],maxParallelUploads:[2,R.INT],allowMinimumUploadDuration:[!0,R.BOOLEAN],chunkUploads:[!1,R.BOOLEAN],chunkForce:[!1,R.BOOLEAN],chunkSize:[5e6,R.INT],chunkRetryDelays:[[500,1e3,3e3],R.ARRAY],server:[null,R.SERVER_API],fileSizeBase:[1e3,R.INT],labelFileSizeBytes:["bytes",R.STRING],labelFileSizeKilobytes:["KB",R.STRING],labelFileSizeMegabytes:["MB",R.STRING],labelFileSizeGigabytes:["GB",R.STRING],labelDecimalSeparator:[ka(),R.STRING],labelThousandsSeparator:[Oo(),R.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',R.STRING],labelInvalidField:["Field contains invalid files",R.STRING],labelFileWaitingForSize:["Waiting for size",R.STRING],labelFileSizeNotAvailable:["Size not available",R.STRING],labelFileCountSingular:["file in list",R.STRING],labelFileCountPlural:["files in list",R.STRING],labelFileLoading:["Loading",R.STRING],labelFileAdded:["Added",R.STRING],labelFileLoadError:["Error during load",R.STRING],labelFileRemoved:["Removed",R.STRING],labelFileRemoveError:["Error during remove",R.STRING],labelFileProcessing:["Uploading",R.STRING],labelFileProcessingComplete:["Upload complete",R.STRING],labelFileProcessingAborted:["Upload cancelled",R.STRING],labelFileProcessingError:["Error during upload",R.STRING],labelFileProcessingRevertError:["Error during revert",R.STRING],labelTapToCancel:["tap to cancel",R.STRING],labelTapToRetry:["tap to retry",R.STRING],labelTapToUndo:["tap to undo",R.STRING],labelButtonRemoveItem:["Remove",R.STRING],labelButtonAbortItemLoad:["Abort",R.STRING],labelButtonRetryItemLoad:["Retry",R.STRING],labelButtonAbortItemProcessing:["Cancel",R.STRING],labelButtonUndoItemProcessing:["Undo",R.STRING],labelButtonRetryItemProcessing:["Retry",R.STRING],labelButtonProcessItem:["Upload",R.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',R.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',R.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',R.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',R.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',R.STRING],oninit:[null,R.FUNCTION],onwarning:[null,R.FUNCTION],onerror:[null,R.FUNCTION],onactivatefile:[null,R.FUNCTION],oninitfile:[null,R.FUNCTION],onaddfilestart:[null,R.FUNCTION],onaddfileprogress:[null,R.FUNCTION],onaddfile:[null,R.FUNCTION],onprocessfilestart:[null,R.FUNCTION],onprocessfileprogress:[null,R.FUNCTION],onprocessfileabort:[null,R.FUNCTION],onprocessfilerevert:[null,R.FUNCTION],onprocessfile:[null,R.FUNCTION],onprocessfiles:[null,R.FUNCTION],onremovefile:[null,R.FUNCTION],onpreparefile:[null,R.FUNCTION],onupdatefiles:[null,R.FUNCTION],onreorderfiles:[null,R.FUNCTION],beforeDropFile:[null,R.FUNCTION],beforeAddFile:[null,R.FUNCTION],beforeRemoveFile:[null,R.FUNCTION],beforePrepareFile:[null,R.FUNCTION],stylePanelLayout:[null,R.STRING],stylePanelAspectRatio:[null,R.STRING],styleItemPanelAspectRatio:[null,R.STRING],styleButtonRemoveItemPosition:["left",R.STRING],styleButtonProcessItemPosition:["right",R.STRING],styleLoadIndicatorPosition:["right",R.STRING],styleProgressIndicatorPosition:["right",R.STRING],styleButtonRemoveItemAlign:[!1,R.BOOLEAN],files:[[],R.ARRAY],credits:[["https://pqina.nl/","Powered by PQINA"],R.ARRAY]},Wn=(e,t)=>wn(t)?e[0]||null:lr(t)?e[t]||null:(typeof t=="object"&&(t=t.id),e.find(r=>r.id===t)||null),Fa=e=>{if(wn(e))return e;if(/:/.test(e)){const t=e.split(":");return t[1]/t[0]}return parseFloat(e)},mn=e=>e.filter(t=>!t.archived),wo={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4};let Mr=null;const Mo=()=>{if(Mr===null)try{const e=new DataTransfer;e.items.add(new File(["hello world"],"This_Works.txt"));const t=document.createElement("input");t.setAttribute("type","file"),t.files=e.files,Mr=t.files.length===1}catch{Mr=!1}return Mr},Po=[ge.LOAD_ERROR,ge.PROCESSING_ERROR,ge.PROCESSING_REVERT_ERROR],Ao=[ge.LOADING,ge.PROCESSING,ge.PROCESSING_QUEUED,ge.INIT],Lo=[ge.PROCESSING_COMPLETE],Co=e=>Po.includes(e.status),No=e=>Ao.includes(e.status),xo=e=>Lo.includes(e.status),Vi=e=>Tt(e.options.server)&&(Tt(e.options.server.process)||qn(e.options.server.process)),Go=e=>({GET_STATUS:()=>{const t=mn(e.items),{EMPTY:r,ERROR:n,BUSY:i,IDLE:a,READY:s}=wo;return t.length===0?r:t.some(Co)?n:t.some(No)?i:t.some(xo)?s:a},GET_ITEM:t=>Wn(e.items,t),GET_ACTIVE_ITEM:t=>Wn(mn(e.items),t),GET_ACTIVE_ITEMS:()=>mn(e.items),GET_ITEMS:()=>e.items,GET_ITEM_NAME:t=>{const r=Wn(e.items,t);return r?r.filename:null},GET_ITEM_SIZE:t=>{const r=Wn(e.items,t);return r?r.fileSize:null},GET_STYLES:()=>Object.keys(e.options).filter(t=>/^style/.test(t)).map(t=>({name:t,value:e.options[t]})),GET_PANEL_ASPECT_RATIO:()=>/circle/.test(e.options.stylePanelLayout)?1:Fa(e.options.stylePanelAspectRatio),GET_ITEM_PANEL_ASPECT_RATIO:()=>e.options.styleItemPanelAspectRatio,GET_ITEMS_BY_STATUS:t=>mn(e.items).filter(r=>r.status===t),GET_TOTAL_ITEMS:()=>mn(e.items).length,SHOULD_UPDATE_FILE_INPUT:()=>e.options.storeAsFile&&Mo()&&!Vi(e),IS_ASYNC:()=>Vi(e),GET_FILE_SIZE_LABELS:t=>({labelBytes:t("GET_LABEL_FILE_SIZE_BYTES")||void 0,labelKilobytes:t("GET_LABEL_FILE_SIZE_KILOBYTES")||void 0,labelMegabytes:t("GET_LABEL_FILE_SIZE_MEGABYTES")||void 0,labelGigabytes:t("GET_LABEL_FILE_SIZE_GIGABYTES")||void 0})}),ko=e=>{const t=mn(e.items).length;if(!e.options.allowMultiple)return t===0;const r=e.options.maxFiles;return r===null||t<r},Ba=(e,t,r)=>Math.max(Math.min(r,e),t),Fo=(e,t,r)=>e.splice(t,0,r),Bo=(e,t,r)=>wn(t)?null:typeof r>"u"?(e.push(t),t):(r=Ba(r,0,e.length),Fo(e,r,t),t),li=e=>/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(e),Sr=e=>`${e}`.split("/").pop().split("?").shift(),jr=e=>e.split(".").pop(),Yo=e=>{if(typeof e!="string")return"";const t=e.split("/").pop();return/svg/.test(t)?"svg":/zip|compressed/.test(t)?"zip":/plain/.test(t)?"txt":/msword/.test(t)?"doc":/[a-z]+/.test(t)?t==="jpeg"?"jpg":t:""},vr=(e,t="")=>(t+e).slice(-t.length),Ya=(e=new Date)=>`${e.getFullYear()}-${vr(e.getMonth()+1,"00")}-${vr(e.getDate(),"00")}_${vr(e.getHours(),"00")}-${vr(e.getMinutes(),"00")}-${vr(e.getSeconds(),"00")}`,or=(e,t,r=null,n=null)=>{const i=typeof r=="string"?e.slice(0,e.size,r):e.slice(0,e.size,e.type);return i.lastModifiedDate=new Date,e._relativePath&&(i._relativePath=e._relativePath),Lt(t)||(t=Ya()),t&&n===null&&jr(t)?i.name=t:(n=n||Yo(i.type),i.name=t+(n?"."+n:"")),i},Uo=()=>window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,Ua=(e,t)=>{const r=Uo();if(r){const n=new r;return n.append(e),n.getBlob(t)}return new Blob([e],{type:t})},Vo=(e,t)=>{const r=new ArrayBuffer(e.length),n=new Uint8Array(r);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return Ua(r,t)},Va=e=>(/^data:(.+);/.exec(e)||[])[1]||null,qo=e=>e.split(",")[1].replace(/\s/g,""),Wo=e=>atob(qo(e)),Ho=e=>{const t=Va(e),r=Wo(e);return Vo(r,t)},jo=(e,t,r)=>or(Ho(e),t,null,r),$o=e=>{if(!/^content-disposition:/i.test(e))return null;const t=e.split(/filename=|filename\*=.+''/).splice(1).map(r=>r.trim().replace(/^["']|[;"']{0,2}$/g,"")).filter(r=>r.length);return t.length?decodeURI(t[t.length-1]):null},zo=e=>{if(/content-length:/i.test(e)){const t=e.match(/[0-9]+/)[0];return t?parseInt(t,10):null}return null},Xo=e=>/x-content-transfer-id:/i.test(e)&&(e.split(":")[1]||"").trim()||null,bi=e=>{const t={source:null,name:null,size:null},r=e.split(`
`);for(let n of r){const i=$o(n);if(i){t.name=i;continue}const a=zo(n);if(a){t.size=a;continue}const s=Xo(n);if(s){t.source=s;continue}}return t},Qo=e=>{const t={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},r=()=>t.progress,n=()=>{t.request&&t.request.abort&&t.request.abort()},i=()=>{const l=t.source;s.fire("init",l),l instanceof File?s.fire("load",l):l instanceof Blob?s.fire("load",or(l,l.name)):li(l)?s.fire("load",jo(l)):a(l)},a=l=>{if(!e){s.fire("error",{type:"error",body:"Can't load URL",code:400});return}t.timestamp=Date.now(),t.request=e(l,c=>{t.duration=Date.now()-t.timestamp,t.complete=!0,c instanceof Blob&&(c=or(c,c.name||Sr(l))),s.fire("load",c instanceof Blob?c:c?c.body:null)},c=>{s.fire("error",typeof c=="string"?{type:"error",code:0,body:c}:c)},(c,d,u)=>{if(u&&(t.size=u),t.duration=Date.now()-t.timestamp,!c){t.progress=null;return}t.progress=d/u,s.fire("progress",t.progress)},()=>{s.fire("abort")},c=>{const d=bi(typeof c=="string"?c:c.headers);s.fire("meta",{size:t.size||d.size,filename:d.name,source:d.source})})},s={...Hr(),setSource:l=>t.source=l,getProgress:r,abort:n,load:i};return s},qi=e=>/GET|HEAD/.test(e),Hn=(e,t,r)=>{const n={onheaders:()=>{},onprogress:()=>{},onload:()=>{},ontimeout:()=>{},onerror:()=>{},onabort:()=>{},abort:()=>{i=!0,s.abort()}};let i=!1,a=!1;r={method:"POST",headers:{},withCredentials:!1,...r},t=encodeURI(t),qi(r.method)&&e&&(t=`${t}${encodeURIComponent(typeof e=="string"?e:JSON.stringify(e))}`);const s=new XMLHttpRequest,l=qi(r.method)?s:s.upload;return l.onprogress=c=>{i||n.onprogress(c.lengthComputable,c.loaded,c.total)},s.onreadystatechange=()=>{s.readyState<2||s.readyState===4&&s.status===0||a||(a=!0,n.onheaders(s))},s.onload=()=>{s.status>=200&&s.status<300?n.onload(s):n.onerror(s)},s.onerror=()=>n.onerror(s),s.onabort=()=>{i=!0,n.onabort()},s.ontimeout=()=>n.ontimeout(s),s.open(r.method,t,!0),lr(r.timeout)&&(s.timeout=r.timeout),Object.keys(r.headers).forEach(c=>{const d=unescape(encodeURIComponent(r.headers[c]));s.setRequestHeader(c,d)}),r.responseType&&(s.responseType=r.responseType),r.withCredentials&&(s.withCredentials=!0),s.send(e),n},it=(e,t,r,n)=>({type:e,code:t,body:r,headers:n}),jn=e=>t=>{e(it("error",0,"Timeout",t.getAllResponseHeaders()))},Wi=e=>/\?/.test(e),Dr=(...e)=>{let t="";return e.forEach(r=>{t+=Wi(t)&&Wi(r)?r.replace(/\?/,"&"):r}),t},Jr=(e="",t)=>{if(typeof t=="function")return t;if(!t||!Lt(t.url))return null;const r=t.onload||(i=>i),n=t.onerror||(i=>null);return(i,a,s,l,c,d)=>{const u=Hn(i,Dr(e,t.url),{...t,responseType:"blob"});return u.onload=h=>{const y=h.getAllResponseHeaders(),m=bi(y).name||Sr(i);a(it("load",h.status,t.method==="HEAD"?null:or(r(h.response),m),y))},u.onerror=h=>{s(it("error",h.status,n(h.response)||h.statusText,h.getAllResponseHeaders()))},u.onheaders=h=>{d(it("headers",h.status,null,h.getAllResponseHeaders()))},u.ontimeout=jn(s),u.onprogress=l,u.onabort=c,u}},Xt={QUEUED:0,COMPLETE:1,PROCESSING:2,ERROR:3,WAITING:4},Ko=(e,t,r,n,i,a,s,l,c,d,u)=>{const h=[],{chunkTransferId:y,chunkServer:m,chunkSize:p,chunkRetryDelays:I}=u,E={serverId:y,aborted:!1},T=t.ondata||(L=>L),g=t.onload||((L,Ee)=>Ee==="HEAD"?L.getResponseHeader("Upload-Offset"):L.response),O=t.onerror||(L=>null),P=L=>{const Ee=new FormData;Tt(i)&&Ee.append(r,JSON.stringify(i));const D=typeof t.headers=="function"?t.headers(n,i):{...t.headers,"Upload-Length":n.size},C={...t,headers:D},j=Hn(T(Ee),Dr(e,t.url),C);j.onload=$=>L(g($,C.method)),j.onerror=$=>s(it("error",$.status,O($.response)||$.statusText,$.getAllResponseHeaders())),j.ontimeout=jn(s)},x=L=>{const Ee=Dr(e,m.url,E.serverId),C={headers:typeof t.headers=="function"?t.headers(E.serverId):{...t.headers},method:"HEAD"},j=Hn(null,Ee,C);j.onload=$=>L(g($,C.method)),j.onerror=$=>s(it("error",$.status,O($.response)||$.statusText,$.getAllResponseHeaders())),j.ontimeout=jn(s)},F=Math.floor(n.size/p);for(let L=0;L<=F;L++){const Ee=L*p,D=n.slice(Ee,Ee+p,"application/offset+octet-stream");h[L]={index:L,size:D.size,offset:Ee,data:D,file:n,progress:0,retries:[...I],status:Xt.QUEUED,error:null,request:null,timeout:null}}const J=()=>a(E.serverId),A=L=>L.status===Xt.QUEUED||L.status===Xt.ERROR,B=L=>{if(E.aborted)return;if(L=L||h.find(A),!L){h.every(se=>se.status===Xt.COMPLETE)&&J();return}L.status=Xt.PROCESSING,L.progress=null;const Ee=m.ondata||(se=>se),D=m.onerror||(se=>null),C=m.onload||(()=>{}),j=Dr(e,m.url,E.serverId),$=typeof m.headers=="function"?m.headers(L):{...m.headers,"Content-Type":"application/offset+octet-stream","Upload-Offset":L.offset,"Upload-Length":n.size,"Upload-Name":n.name},Pe=L.request=Hn(Ee(L.data),j,{...m,headers:$});Pe.onload=se=>{C(se,L.index,h.length),L.status=Xt.COMPLETE,L.request=null,te()},Pe.onprogress=(se,_t,St)=>{L.progress=se?_t:null,U()},Pe.onerror=se=>{L.status=Xt.ERROR,L.request=null,L.error=D(se.response)||se.statusText,ee(L)||s(it("error",se.status,D(se.response)||se.statusText,se.getAllResponseHeaders()))},Pe.ontimeout=se=>{L.status=Xt.ERROR,L.request=null,ee(L)||jn(s)(se)},Pe.onabort=()=>{L.status=Xt.QUEUED,L.request=null,c()}},ee=L=>L.retries.length===0?!1:(L.status=Xt.WAITING,clearTimeout(L.timeout),L.timeout=setTimeout(()=>{B(L)},L.retries.shift()),!0),U=()=>{const L=h.reduce((D,C)=>D===null||C.progress===null?null:D+C.progress,0);if(L===null)return l(!1,0,0);const Ee=h.reduce((D,C)=>D+C.size,0);l(!0,L,Ee)},te=()=>{h.filter(Ee=>Ee.status===Xt.PROCESSING).length>=1||B()},Se=()=>{h.forEach(L=>{clearTimeout(L.timeout),L.request&&L.request.abort()})};return E.serverId?x(L=>{E.aborted||(h.filter(Ee=>Ee.offset<L).forEach(Ee=>{Ee.status=Xt.COMPLETE,Ee.progress=Ee.size}),te())}):P(L=>{E.aborted||(d(L),E.serverId=L,te())}),{abort:()=>{E.aborted=!0,Se()}}},Jo=(e,t,r,n)=>(i,a,s,l,c,d,u)=>{if(!i)return;const h=n.chunkUploads,y=h&&i.size>n.chunkSize,m=h&&(y||n.chunkForce);if(i instanceof Blob&&m)return Ko(e,t,r,i,a,s,l,c,d,u,n);const p=t.ondata||(x=>x),I=t.onload||(x=>x),E=t.onerror||(x=>null),T=typeof t.headers=="function"?t.headers(i,a)||{}:{...t.headers},g={...t,headers:T};var O=new FormData;Tt(a)&&O.append(r,JSON.stringify(a)),(i instanceof Blob?[{name:null,file:i}]:i).forEach(x=>{O.append(r,x.file,x.name===null?x.file.name:`${x.name}${x.file.name}`)});const P=Hn(p(O),Dr(e,t.url),g);return P.onload=x=>{s(it("load",x.status,I(x.response),x.getAllResponseHeaders()))},P.onerror=x=>{l(it("error",x.status,E(x.response)||x.statusText,x.getAllResponseHeaders()))},P.ontimeout=jn(l),P.onprogress=c,P.onabort=d,P},Zo=(e="",t,r,n)=>typeof t=="function"?(...i)=>t(r,...i,n):!t||!Lt(t.url)?null:Jo(e,t,r,n),Or=(e="",t)=>{if(typeof t=="function")return t;if(!t||!Lt(t.url))return(i,a)=>a();const r=t.onload||(i=>i),n=t.onerror||(i=>null);return(i,a,s)=>{const l=Hn(i,e+t.url,t);return l.onload=c=>{a(it("load",c.status,r(c.response),c.getAllResponseHeaders()))},l.onerror=c=>{s(it("error",c.status,n(c.response)||c.statusText,c.getAllResponseHeaders()))},l.ontimeout=jn(s),l}},qa=(e=0,t=1)=>e+Math.random()*(t-e),el=(e,t=1e3,r=0,n=25,i=250)=>{let a=null;const s=Date.now(),l=()=>{let c=Date.now()-s,d=qa(n,i);c+d>t&&(d=c+d-t);let u=c/t;if(u>=1||document.hidden){e(1);return}e(u),a=setTimeout(l,d)};return t>0&&l(),{clear:()=>{clearTimeout(a)}}},tl=(e,t)=>{const r={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},{allowMinimumUploadDuration:n}=t,i=(u,h)=>{const y=()=>{r.duration===0||r.progress===null||d.fire("progress",d.getProgress())},m=()=>{r.complete=!0,d.fire("load-perceived",r.response.body)};d.fire("start"),r.timestamp=Date.now(),r.perceivedPerformanceUpdater=el(p=>{r.perceivedProgress=p,r.perceivedDuration=Date.now()-r.timestamp,y(),r.response&&r.perceivedProgress===1&&!r.complete&&m()},n?qa(750,1500):0),r.request=e(u,h,p=>{r.response=Tt(p)?p:{type:"load",code:200,body:`${p}`,headers:{}},r.duration=Date.now()-r.timestamp,r.progress=1,d.fire("load",r.response.body),(!n||n&&r.perceivedProgress===1)&&m()},p=>{r.perceivedPerformanceUpdater.clear(),d.fire("error",Tt(p)?p:{type:"error",code:0,body:`${p}`})},(p,I,E)=>{r.duration=Date.now()-r.timestamp,r.progress=p?I/E:null,y()},()=>{r.perceivedPerformanceUpdater.clear(),d.fire("abort",r.response?r.response.body:null)},p=>{d.fire("transfer",p)})},a=()=>{!r.request||(r.perceivedPerformanceUpdater.clear(),r.request.abort&&r.request.abort(),r.complete=!0)},s=()=>{a(),r.complete=!1,r.perceivedProgress=0,r.progress=0,r.timestamp=null,r.perceivedDuration=0,r.duration=0,r.request=null,r.response=null},l=n?()=>r.progress?Math.min(r.progress,r.perceivedProgress):null:()=>r.progress||null,c=n?()=>Math.min(r.duration,r.perceivedDuration):()=>r.duration,d={...Hr(),process:i,abort:a,getProgress:l,getDuration:c,reset:s};return d},Wa=e=>e.substring(0,e.lastIndexOf("."))||e,nl=e=>{let t=[e.name,e.size,e.type];return e instanceof Blob||li(e)?t[0]=e.name||Ya():li(e)?(t[1]=e.length,t[2]=Va(e)):Lt(e)&&(t[0]=Sr(e),t[1]=0,t[2]="application/octet-stream"),{name:t[0],size:t[1],type:t[2]}},$n=e=>!!(e instanceof File||e instanceof Blob&&e.name),Ha=e=>{if(!Tt(e))return e;const t=Vr(e)?[]:{};for(const r in e){if(!e.hasOwnProperty(r))continue;const n=e[r];t[r]=n&&Tt(n)?Ha(n):n}return t},rl=(e=null,t=null,r=null)=>{const n=Ii(),i={archived:!1,frozen:!1,released:!1,source:null,file:r,serverFileReference:t,transferId:null,processingAborted:!1,status:t?ge.PROCESSING_COMPLETE:ge.INIT,activeLoader:null,activeProcessor:null};let a=null;const s={},l=A=>i.status=A,c=(A,...B)=>{i.released||i.frozen||F.fire(A,...B)},d=()=>jr(i.file.name),u=()=>i.file.type,h=()=>i.file.size,y=()=>i.file,m=(A,B,ee)=>{if(i.source=A,F.fireSync("init"),i.file){F.fireSync("load-skip");return}i.file=nl(A),B.on("init",()=>{c("load-init")}),B.on("meta",U=>{i.file.size=U.size,i.file.filename=U.filename,U.source&&(e=It.LIMBO,i.serverFileReference=U.source,i.status=ge.PROCESSING_COMPLETE),c("load-meta")}),B.on("progress",U=>{l(ge.LOADING),c("load-progress",U)}),B.on("error",U=>{l(ge.LOAD_ERROR),c("load-request-error",U)}),B.on("abort",()=>{l(ge.INIT),c("load-abort")}),B.on("load",U=>{i.activeLoader=null;const te=L=>{i.file=$n(L)?L:i.file,e===It.LIMBO&&i.serverFileReference?l(ge.PROCESSING_COMPLETE):l(ge.IDLE),c("load")},Se=L=>{i.file=U,c("load-meta"),l(ge.LOAD_ERROR),c("load-file-error",L)};if(i.serverFileReference){te(U);return}ee(U,te,Se)}),B.setSource(A),i.activeLoader=B,B.load()},p=()=>{!i.activeLoader||i.activeLoader.load()},I=()=>{if(i.activeLoader){i.activeLoader.abort();return}l(ge.INIT),c("load-abort")},E=(A,B)=>{if(i.processingAborted){i.processingAborted=!1;return}if(l(ge.PROCESSING),a=null,!(i.file instanceof Blob)){F.on("load",()=>{E(A,B)});return}A.on("load",te=>{i.transferId=null,i.serverFileReference=te}),A.on("transfer",te=>{i.transferId=te}),A.on("load-perceived",te=>{i.activeProcessor=null,i.transferId=null,i.serverFileReference=te,l(ge.PROCESSING_COMPLETE),c("process-complete",te)}),A.on("start",()=>{c("process-start")}),A.on("error",te=>{i.activeProcessor=null,l(ge.PROCESSING_ERROR),c("process-error",te)}),A.on("abort",te=>{i.activeProcessor=null,i.serverFileReference=te,l(ge.IDLE),c("process-abort"),a&&a()}),A.on("progress",te=>{c("process-progress",te)});const ee=te=>{i.archived||A.process(te,{...s})},U=console.error;B(i.file,ee,U),i.activeProcessor=A},T=()=>{i.processingAborted=!1,l(ge.PROCESSING_QUEUED)},g=()=>new Promise(A=>{if(!i.activeProcessor){i.processingAborted=!0,l(ge.IDLE),c("process-abort"),A();return}a=()=>{A()},i.activeProcessor.abort()}),O=(A,B)=>new Promise((ee,U)=>{const te=i.serverFileReference!==null?i.serverFileReference:i.transferId;if(te===null){ee();return}A(te,()=>{i.serverFileReference=null,i.transferId=null,ee()},Se=>{if(!B){ee();return}l(ge.PROCESSING_REVERT_ERROR),c("process-revert-error"),U(Se)}),l(ge.IDLE),c("process-revert")}),P=(A,B,ee)=>{const U=A.split("."),te=U[0],Se=U.pop();let L=s;U.forEach(Ee=>L=L[Ee]),JSON.stringify(L[Se])!==JSON.stringify(B)&&(L[Se]=B,c("metadata-update",{key:te,value:s[te],silent:ee}))},F={id:{get:()=>n},origin:{get:()=>e,set:A=>e=A},serverId:{get:()=>i.serverFileReference},transferId:{get:()=>i.transferId},status:{get:()=>i.status},filename:{get:()=>i.file.name},filenameWithoutExtension:{get:()=>Wa(i.file.name)},fileExtension:{get:d},fileType:{get:u},fileSize:{get:h},file:{get:y},relativePath:{get:()=>i.file._relativePath},source:{get:()=>i.source},getMetadata:A=>Ha(A?s[A]:s),setMetadata:(A,B,ee)=>{if(Tt(A)){const U=A;return Object.keys(U).forEach(te=>{P(te,U[te],B)}),A}return P(A,B,ee),B},extend:(A,B)=>J[A]=B,abortLoad:I,retryLoad:p,requestProcessing:T,abortProcessing:g,load:m,process:E,revert:O,...Hr(),freeze:()=>i.frozen=!0,release:()=>i.released=!0,released:{get:()=>i.released},archive:()=>i.archived=!0,archived:{get:()=>i.archived},setFile:A=>i.file=A},J=Gn(F);return J},il=(e,t)=>wn(t)?0:Lt(t)?e.findIndex(r=>r.id===t):-1,Hi=(e,t)=>{const r=il(e,t);if(!(r<0))return e[r]||null},ji=(e,t,r,n,i,a)=>{const s=Hn(null,e,{method:"GET",responseType:"blob"});return s.onload=l=>{const c=l.getAllResponseHeaders(),d=bi(c).name||Sr(e);t(it("load",l.status,or(l.response,d),c))},s.onerror=l=>{r(it("error",l.status,l.statusText,l.getAllResponseHeaders()))},s.onheaders=l=>{a(it("headers",l.status,null,l.getAllResponseHeaders()))},s.ontimeout=jn(r),s.onprogress=n,s.onabort=i,s},$i=e=>(e.indexOf("//")===0&&(e=location.protocol+e),e.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]),al=e=>(e.indexOf(":")>-1||e.indexOf("//")>-1)&&$i(location.href)!==$i(e),Pr=e=>(...t)=>qn(e)?e(...t):e,sl=e=>!$n(e.file),Zr=(e,t)=>{clearTimeout(t.listUpdateTimeout),t.listUpdateTimeout=setTimeout(()=>{e("DID_UPDATE_ITEMS",{items:mn(t.items)})},0)},zi=(e,...t)=>new Promise(r=>{if(!e)return r(!0);const n=e(...t);if(n==null)return r(!0);if(typeof n=="boolean")return r(n);typeof n.then=="function"&&n.then(r)}),ei=(e,t)=>{e.items.sort((r,n)=>t(kt(r),kt(n)))},Qt=(e,t)=>({query:r,success:n=()=>{},failure:i=()=>{},...a}={})=>{const s=Wn(e.items,r);if(!s){i({error:it("error",0,"Item not found"),file:null});return}t(s,n,i,a||{})},ol=(e,t,r)=>({ABORT_ALL:()=>{mn(r.items).forEach(n=>{n.freeze(),n.abortLoad(),n.abortProcessing()})},DID_SET_FILES:({value:n=[]})=>{const i=n.map(s=>({source:s.source?s.source:s,options:s.options}));let a=mn(r.items);a.forEach(s=>{i.find(l=>l.source===s.source||l.source===s.file)||e("REMOVE_ITEM",{query:s,remove:!1})}),a=mn(r.items),i.forEach((s,l)=>{a.find(c=>c.source===s.source||c.file===s.source)||e("ADD_ITEM",{...s,interactionMethod:rn.NONE,index:l})})},DID_UPDATE_ITEM_METADATA:({id:n,action:i,change:a})=>{a.silent||(clearTimeout(r.itemUpdateTimeout),r.itemUpdateTimeout=setTimeout(()=>{const s=Hi(r.items,n);if(!t("IS_ASYNC")){fn("SHOULD_PREPARE_OUTPUT",!1,{item:s,query:t,action:i,change:a}).then(u=>{const h=t("GET_BEFORE_PREPARE_FILE");h&&(u=h(s,u)),u&&e("REQUEST_PREPARE_OUTPUT",{query:n,item:s,success:y=>{e("DID_PREPARE_OUTPUT",{id:n,file:y})}},!0)});return}s.origin===It.LOCAL&&e("DID_LOAD_ITEM",{id:s.id,error:null,serverFileReference:s.source});const l=()=>{setTimeout(()=>{e("REQUEST_ITEM_PROCESSING",{query:n})},32)},c=u=>{s.revert(Or(r.options.server.url,r.options.server.revert),t("GET_FORCE_REVERT")).then(u?l:()=>{}).catch(()=>{})},d=u=>{s.abortProcessing().then(u?l:()=>{})};if(s.status===ge.PROCESSING_COMPLETE)return c(r.options.instantUpload);if(s.status===ge.PROCESSING)return d(r.options.instantUpload);r.options.instantUpload&&l()},0))},MOVE_ITEM:({query:n,index:i})=>{const a=Wn(r.items,n);if(!a)return;const s=r.items.indexOf(a);i=Ba(i,0,r.items.length-1),s!==i&&r.items.splice(i,0,r.items.splice(s,1)[0])},SORT:({compare:n})=>{ei(r,n),e("DID_SORT_ITEMS",{items:t("GET_ACTIVE_ITEMS")})},ADD_ITEMS:({items:n,index:i,interactionMethod:a,success:s=()=>{},failure:l=()=>{}})=>{let c=i;if(i===-1||typeof i>"u"){const m=t("GET_ITEM_INSERT_LOCATION"),p=t("GET_TOTAL_ITEMS");c=m==="before"?0:p}const d=t("GET_IGNORED_FILES"),u=m=>$n(m)?!d.includes(m.name.toLowerCase()):!wn(m),y=n.filter(u).map(m=>new Promise((p,I)=>{e("ADD_ITEM",{interactionMethod:a,source:m.source||m,success:p,failure:I,index:c++,options:m.options||{}})}));Promise.all(y).then(s).catch(l)},ADD_ITEM:({source:n,index:i=-1,interactionMethod:a,success:s=()=>{},failure:l=()=>{},options:c={}})=>{if(wn(n)){l({error:it("error",0,"No source"),file:null});return}if($n(n)&&r.options.ignoredFiles.includes(n.name.toLowerCase()))return;if(!ko(r)){if(r.options.allowMultiple||!r.options.allowMultiple&&!r.options.allowReplace){const g=it("warning",0,"Max files");e("DID_THROW_MAX_FILES",{source:n,error:g}),l({error:g,file:null});return}const T=mn(r.items)[0];if(T.status===ge.PROCESSING_COMPLETE||T.status===ge.PROCESSING_REVERT_ERROR){const g=t("GET_FORCE_REVERT");if(T.revert(Or(r.options.server.url,r.options.server.revert),g).then(()=>{!g||e("ADD_ITEM",{source:n,index:i,interactionMethod:a,success:s,failure:l,options:c})}).catch(()=>{}),g)return}e("REMOVE_ITEM",{query:T.id})}const d=c.type==="local"?It.LOCAL:c.type==="limbo"?It.LIMBO:It.INPUT,u=rl(d,d===It.INPUT?null:n,c.file);Object.keys(c.metadata||{}).forEach(T=>{u.setMetadata(T,c.metadata[T])}),Xn("DID_CREATE_ITEM",u,{query:t,dispatch:e});const h=t("GET_ITEM_INSERT_LOCATION");r.options.itemInsertLocationFreedom||(i=h==="before"?-1:r.items.length),Bo(r.items,u,i),qn(h)&&n&&ei(r,h);const y=u.id;u.on("init",()=>{e("DID_INIT_ITEM",{id:y})}),u.on("load-init",()=>{e("DID_START_ITEM_LOAD",{id:y})}),u.on("load-meta",()=>{e("DID_UPDATE_ITEM_META",{id:y})}),u.on("load-progress",T=>{e("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:y,progress:T})}),u.on("load-request-error",T=>{const g=Pr(r.options.labelFileLoadError)(T);if(T.code>=400&&T.code<500){e("DID_THROW_ITEM_INVALID",{id:y,error:T,status:{main:g,sub:`${T.code} (${T.body})`}}),l({error:T,file:kt(u)});return}e("DID_THROW_ITEM_LOAD_ERROR",{id:y,error:T,status:{main:g,sub:r.options.labelTapToRetry}})}),u.on("load-file-error",T=>{e("DID_THROW_ITEM_INVALID",{id:y,error:T.status,status:T.status}),l({error:T.status,file:kt(u)})}),u.on("load-abort",()=>{e("REMOVE_ITEM",{query:y})}),u.on("load-skip",()=>{u.on("metadata-update",T=>{!$n(u.file)||e("DID_UPDATE_ITEM_METADATA",{id:y,change:T})}),e("COMPLETE_LOAD_ITEM",{query:y,item:u,data:{source:n,success:s}})}),u.on("load",()=>{const T=g=>{if(!g){e("REMOVE_ITEM",{query:y});return}u.on("metadata-update",O=>{e("DID_UPDATE_ITEM_METADATA",{id:y,change:O})}),fn("SHOULD_PREPARE_OUTPUT",!1,{item:u,query:t}).then(O=>{const P=t("GET_BEFORE_PREPARE_FILE");P&&(O=P(u,O));const x=()=>{e("COMPLETE_LOAD_ITEM",{query:y,item:u,data:{source:n,success:s}}),Zr(e,r)};if(O){e("REQUEST_PREPARE_OUTPUT",{query:y,item:u,success:F=>{e("DID_PREPARE_OUTPUT",{id:y,file:F}),x()}},!0);return}x()})};fn("DID_LOAD_ITEM",u,{query:t,dispatch:e}).then(()=>{zi(t("GET_BEFORE_ADD_FILE"),kt(u)).then(T)}).catch(g=>{if(!g||!g.error||!g.status)return T(!1);e("DID_THROW_ITEM_INVALID",{id:y,error:g.error,status:g.status})})}),u.on("process-start",()=>{e("DID_START_ITEM_PROCESSING",{id:y})}),u.on("process-progress",T=>{e("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:y,progress:T})}),u.on("process-error",T=>{e("DID_THROW_ITEM_PROCESSING_ERROR",{id:y,error:T,status:{main:Pr(r.options.labelFileProcessingError)(T),sub:r.options.labelTapToRetry}})}),u.on("process-revert-error",T=>{e("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:y,error:T,status:{main:Pr(r.options.labelFileProcessingRevertError)(T),sub:r.options.labelTapToRetry}})}),u.on("process-complete",T=>{e("DID_COMPLETE_ITEM_PROCESSING",{id:y,error:null,serverFileReference:T}),e("DID_DEFINE_VALUE",{id:y,value:T})}),u.on("process-abort",()=>{e("DID_ABORT_ITEM_PROCESSING",{id:y})}),u.on("process-revert",()=>{e("DID_REVERT_ITEM_PROCESSING",{id:y}),e("DID_DEFINE_VALUE",{id:y,value:null})}),e("DID_ADD_ITEM",{id:y,index:i,interactionMethod:a}),Zr(e,r);const{url:m,load:p,restore:I,fetch:E}=r.options.server||{};u.load(n,Qo(d===It.INPUT?Lt(n)&&al(n)&&E?Jr(m,E):ji:d===It.LIMBO?Jr(m,I):Jr(m,p)),(T,g,O)=>{fn("LOAD_FILE",T,{query:t}).then(g).catch(O)})},REQUEST_PREPARE_OUTPUT:({item:n,success:i,failure:a=()=>{}})=>{const s={error:it("error",0,"Item not found"),file:null};if(n.archived)return a(s);fn("PREPARE_OUTPUT",n.file,{query:t,item:n}).then(l=>{fn("COMPLETE_PREPARE_OUTPUT",l,{query:t,item:n}).then(c=>{if(n.archived)return a(s);i(c)})})},COMPLETE_LOAD_ITEM:({item:n,data:i})=>{const{success:a,source:s}=i,l=t("GET_ITEM_INSERT_LOCATION");if(qn(l)&&s&&ei(r,l),e("DID_LOAD_ITEM",{id:n.id,error:null,serverFileReference:n.origin===It.INPUT?null:s}),a(kt(n)),n.origin===It.LOCAL){e("DID_LOAD_LOCAL_ITEM",{id:n.id});return}if(n.origin===It.LIMBO){e("DID_COMPLETE_ITEM_PROCESSING",{id:n.id,error:null,serverFileReference:s}),e("DID_DEFINE_VALUE",{id:n.id,value:n.serverId||s});return}t("IS_ASYNC")&&r.options.instantUpload&&e("REQUEST_ITEM_PROCESSING",{query:n.id})},RETRY_ITEM_LOAD:Qt(r,n=>{n.retryLoad()}),REQUEST_ITEM_PREPARE:Qt(r,(n,i,a)=>{e("REQUEST_PREPARE_OUTPUT",{query:n.id,item:n,success:s=>{e("DID_PREPARE_OUTPUT",{id:n.id,file:s}),i({file:n,output:s})},failure:a},!0)}),REQUEST_ITEM_PROCESSING:Qt(r,(n,i,a)=>{if(!(n.status===ge.IDLE||n.status===ge.PROCESSING_ERROR)){const l=()=>e("REQUEST_ITEM_PROCESSING",{query:n,success:i,failure:a}),c=()=>document.hidden?l():setTimeout(l,32);n.status===ge.PROCESSING_COMPLETE||n.status===ge.PROCESSING_REVERT_ERROR?n.revert(Or(r.options.server.url,r.options.server.revert),t("GET_FORCE_REVERT")).then(c).catch(()=>{}):n.status===ge.PROCESSING&&n.abortProcessing().then(c);return}n.status!==ge.PROCESSING_QUEUED&&(n.requestProcessing(),e("DID_REQUEST_ITEM_PROCESSING",{id:n.id}),e("PROCESS_ITEM",{query:n,success:i,failure:a},!0))}),PROCESS_ITEM:Qt(r,(n,i,a)=>{const s=t("GET_MAX_PARALLEL_UPLOADS");if(t("GET_ITEMS_BY_STATUS",ge.PROCESSING).length===s){r.processingQueue.push({id:n.id,success:i,failure:a});return}if(n.status===ge.PROCESSING)return;const c=()=>{const u=r.processingQueue.shift();if(!u)return;const{id:h,success:y,failure:m}=u,p=Wn(r.items,h);if(!p||p.archived){c();return}e("PROCESS_ITEM",{query:h,success:y,failure:m},!0)};n.onOnce("process-complete",()=>{i(kt(n)),c();const u=r.options.server;if(r.options.instantUpload&&n.origin===It.LOCAL&&qn(u.remove)){const m=()=>{};n.origin=It.LIMBO,r.options.server.remove(n.source,m,m)}t("GET_ITEMS_BY_STATUS",ge.PROCESSING_COMPLETE).length===r.items.length&&e("DID_COMPLETE_ITEM_PROCESSING_ALL")}),n.onOnce("process-error",u=>{a({error:u,file:kt(n)}),c()});const d=r.options;n.process(tl(Zo(d.server.url,d.server.process,d.name,{chunkTransferId:n.transferId,chunkServer:d.server.patch,chunkUploads:d.chunkUploads,chunkForce:d.chunkForce,chunkSize:d.chunkSize,chunkRetryDelays:d.chunkRetryDelays}),{allowMinimumUploadDuration:t("GET_ALLOW_MINIMUM_UPLOAD_DURATION")}),(u,h,y)=>{fn("PREPARE_OUTPUT",u,{query:t,item:n}).then(m=>{e("DID_PREPARE_OUTPUT",{id:n.id,file:m}),h(m)}).catch(y)})}),RETRY_ITEM_PROCESSING:Qt(r,n=>{e("REQUEST_ITEM_PROCESSING",{query:n})}),REQUEST_REMOVE_ITEM:Qt(r,n=>{zi(t("GET_BEFORE_REMOVE_FILE"),kt(n)).then(i=>{!i||e("REMOVE_ITEM",{query:n})})}),RELEASE_ITEM:Qt(r,n=>{n.release()}),REMOVE_ITEM:Qt(r,(n,i,a,s)=>{const l=()=>{const d=n.id;Hi(r.items,d).archive(),e("DID_REMOVE_ITEM",{error:null,id:d,item:n}),Zr(e,r),i(kt(n))},c=r.options.server;n.origin===It.LOCAL&&c&&qn(c.remove)&&s.remove!==!1?(e("DID_START_ITEM_REMOVE",{id:n.id}),c.remove(n.source,()=>l(),d=>{e("DID_THROW_ITEM_REMOVE_ERROR",{id:n.id,error:it("error",0,d,null),status:{main:Pr(r.options.labelFileRemoveError)(d),sub:r.options.labelTapToRetry}})})):((s.revert&&n.origin!==It.LOCAL&&n.serverId!==null||r.options.chunkUploads&&n.file.size>r.options.chunkSize||r.options.chunkUploads&&r.options.chunkForce)&&n.revert(Or(r.options.server.url,r.options.server.revert),t("GET_FORCE_REVERT")),l())}),ABORT_ITEM_LOAD:Qt(r,n=>{n.abortLoad()}),ABORT_ITEM_PROCESSING:Qt(r,n=>{if(n.serverId){e("REVERT_ITEM_PROCESSING",{id:n.id});return}n.abortProcessing().then(()=>{r.options.instantUpload&&e("REMOVE_ITEM",{query:n.id})})}),REQUEST_REVERT_ITEM_PROCESSING:Qt(r,n=>{if(!r.options.instantUpload){e("REVERT_ITEM_PROCESSING",{query:n});return}const i=l=>{!l||e("REVERT_ITEM_PROCESSING",{query:n})},a=t("GET_BEFORE_REMOVE_FILE");if(!a)return i(!0);const s=a(kt(n));if(s==null)return i(!0);if(typeof s=="boolean")return i(s);typeof s.then=="function"&&s.then(i)}),REVERT_ITEM_PROCESSING:Qt(r,n=>{n.revert(Or(r.options.server.url,r.options.server.revert),t("GET_FORCE_REVERT")).then(()=>{(r.options.instantUpload||sl(n))&&e("REMOVE_ITEM",{query:n.id})}).catch(()=>{})}),SET_OPTIONS:({options:n})=>{const i=Object.keys(n),a=ll.filter(l=>i.includes(l));[...a,...Object.keys(n).filter(l=>!a.includes(l))].forEach(l=>{e(`SET_${Wr(l,"_").toUpperCase()}`,{value:n[l]})})}}),ll=["server"],vi=e=>e,Mn=e=>document.createElement(e),at=(e,t)=>{let r=e.childNodes[0];r?t!==r.nodeValue&&(r.nodeValue=t):(r=document.createTextNode(t),e.appendChild(r))},Xi=(e,t,r,n)=>{const i=(n%360-90)*Math.PI/180;return{x:e+r*Math.cos(i),y:t+r*Math.sin(i)}},cl=(e,t,r,n,i,a)=>{const s=Xi(e,t,r,i),l=Xi(e,t,r,n);return["M",s.x,s.y,"A",r,r,0,a,0,l.x,l.y].join(" ")},dl=(e,t,r,n,i)=>{let a=1;return i>n&&i-n<=.5&&(a=0),n>i&&n-i>=.5&&(a=0),cl(e,t,r,Math.min(.9999,n)*360,Math.min(.9999,i)*360,a)},ul=({root:e,props:t})=>{t.spin=!1,t.progress=0,t.opacity=0;const r=Fr("svg");e.ref.path=Fr("path",{"stroke-width":2,"stroke-linecap":"round"}),r.appendChild(e.ref.path),e.ref.svg=r,e.appendChild(r)},fl=({root:e,props:t})=>{if(t.opacity===0)return;t.align&&(e.element.dataset.align=t.align);const r=parseInt(mt(e.ref.path,"stroke-width"),10),n=e.rect.element.width*.5;let i=0,a=0;t.spin?(i=0,a=.5):(i=0,a=t.progress);const s=dl(n,n,n-r,i,a);mt(e.ref.path,"d",s),mt(e.ref.path,"stroke-opacity",t.spin||t.progress>0?1:0)},Qi=ct({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:ul,write:fl,mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),pl=({root:e,props:t})=>{e.element.innerHTML=(t.icon||"")+`<span>${t.label}</span>`,t.isDisabled=!1},ml=({root:e,props:t})=>{const{isDisabled:r}=t,n=e.query("GET_DISABLED")||t.opacity===0;n&&!r?(t.isDisabled=!0,mt(e.element,"disabled","disabled")):!n&&r&&(t.isDisabled=!1,e.element.removeAttribute("disabled"))},ja=ct({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:pl,write:ml}),$a=(e,t=".",r=1e3,n={})=>{const{labelBytes:i="bytes",labelKilobytes:a="KB",labelMegabytes:s="MB",labelGigabytes:l="GB"}=n;e=Math.round(Math.abs(e));const c=r,d=r*r,u=r*r*r;return e<c?`${e} ${i}`:e<d?`${Math.floor(e/c)} ${a}`:e<u?`${Ki(e/d,1,t)} ${s}`:`${Ki(e/u,2,t)} ${l}`},Ki=(e,t,r)=>e.toFixed(t).split(".").filter(n=>n!=="0").join(r),hl=({root:e,props:t})=>{const r=Mn("span");r.className="filepond--file-info-main",mt(r,"aria-hidden","true"),e.appendChild(r),e.ref.fileName=r;const n=Mn("span");n.className="filepond--file-info-sub",e.appendChild(n),e.ref.fileSize=n,at(n,e.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),at(r,vi(e.query("GET_ITEM_NAME",t.id)))},ci=({root:e,props:t})=>{at(e.ref.fileSize,$a(e.query("GET_ITEM_SIZE",t.id),".",e.query("GET_FILE_SIZE_BASE"),e.query("GET_FILE_SIZE_LABELS",e.query))),at(e.ref.fileName,vi(e.query("GET_ITEM_NAME",t.id)))},Ji=({root:e,props:t})=>{if(lr(e.query("GET_ITEM_SIZE",t.id))){ci({root:e,props:t});return}at(e.ref.fileSize,e.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},gl=ct({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:Ct({DID_LOAD_ITEM:ci,DID_UPDATE_ITEM_META:ci,DID_THROW_ITEM_LOAD_ERROR:Ji,DID_THROW_ITEM_INVALID:Ji}),didCreateView:e=>{Xn("CREATE_VIEW",{...e,view:e})},create:hl,mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),za=e=>Math.round(e*100),El=({root:e})=>{const t=Mn("span");t.className="filepond--file-status-main",e.appendChild(t),e.ref.main=t;const r=Mn("span");r.className="filepond--file-status-sub",e.appendChild(r),e.ref.sub=r,Xa({root:e,action:{progress:null}})},Xa=({root:e,action:t})=>{const r=t.progress===null?e.query("GET_LABEL_FILE_LOADING"):`${e.query("GET_LABEL_FILE_LOADING")} ${za(t.progress)}%`;at(e.ref.main,r),at(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},yl=({root:e,action:t})=>{const r=t.progress===null?e.query("GET_LABEL_FILE_PROCESSING"):`${e.query("GET_LABEL_FILE_PROCESSING")} ${za(t.progress)}%`;at(e.ref.main,r),at(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},Il=({root:e})=>{at(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING")),at(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},Tl=({root:e})=>{at(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_ABORTED")),at(e.ref.sub,e.query("GET_LABEL_TAP_TO_RETRY"))},_l=({root:e})=>{at(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),at(e.ref.sub,e.query("GET_LABEL_TAP_TO_UNDO"))},Zi=({root:e})=>{at(e.ref.main,""),at(e.ref.sub,"")},Rr=({root:e,action:t})=>{at(e.ref.main,t.status.main),at(e.ref.sub,t.status.sub)},bl=ct({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:Ct({DID_LOAD_ITEM:Zi,DID_REVERT_ITEM_PROCESSING:Zi,DID_REQUEST_ITEM_PROCESSING:Il,DID_ABORT_ITEM_PROCESSING:Tl,DID_COMPLETE_ITEM_PROCESSING:_l,DID_UPDATE_ITEM_PROCESS_PROGRESS:yl,DID_UPDATE_ITEM_LOAD_PROGRESS:Xa,DID_THROW_ITEM_LOAD_ERROR:Rr,DID_THROW_ITEM_INVALID:Rr,DID_THROW_ITEM_PROCESSING_ERROR:Rr,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:Rr,DID_THROW_ITEM_REMOVE_ERROR:Rr}),didCreateView:e=>{Xn("CREATE_VIEW",{...e,view:e})},create:El,mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),di={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},ui=[];Ze(di,e=>{ui.push(e)});const qt=e=>{if(fi(e)==="right")return 0;const t=e.ref.buttonRemoveItem.rect.element;return t.hidden?null:t.width+t.left},vl=e=>e.ref.buttonAbortItemLoad.rect.element.width,Ar=e=>Math.floor(e.ref.buttonRemoveItem.rect.element.height/4),Ol=e=>Math.floor(e.ref.buttonRemoveItem.rect.element.left/2),Rl=e=>e.query("GET_STYLE_LOAD_INDICATOR_POSITION"),Dl=e=>e.query("GET_STYLE_PROGRESS_INDICATOR_POSITION"),fi=e=>e.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION"),Sl={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:Rl},processProgressIndicator:{opacity:0,align:Dl},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},ea={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:qt},status:{translateX:qt}},ti={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},ir={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:qt},status:{translateX:qt,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:qt},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:fi},info:{translateX:qt},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:fi},buttonRemoveItem:{opacity:1},info:{translateX:qt},status:{opacity:1,translateX:qt}},DID_LOAD_ITEM:ea,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:qt},status:{translateX:qt}},DID_START_ITEM_PROCESSING:ti,DID_REQUEST_ITEM_PROCESSING:ti,DID_UPDATE_ITEM_PROCESS_PROGRESS:ti,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:qt}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:qt},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:ea},wl=ct({create:({root:e})=>{e.element.innerHTML=e.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),Ml=({root:e,props:t})=>{const r=Object.keys(di).reduce((p,I)=>(p[I]={...di[I]},p),{}),{id:n}=t,i=e.query("GET_ALLOW_REVERT"),a=e.query("GET_ALLOW_REMOVE"),s=e.query("GET_ALLOW_PROCESS"),l=e.query("GET_INSTANT_UPLOAD"),c=e.query("IS_ASYNC"),d=e.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN");let u;c?s&&!i?u=p=>!/RevertItemProcessing/.test(p):!s&&i?u=p=>!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(p):!s&&!i&&(u=p=>!/Process/.test(p)):u=p=>!/Process/.test(p);const h=u?ui.filter(u):ui.concat();if(l&&i&&(r.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",r.RevertItemProcessing.icon="GET_ICON_REMOVE"),c&&!i){const p=ir.DID_COMPLETE_ITEM_PROCESSING;p.info.translateX=Ol,p.info.translateY=Ar,p.status.translateY=Ar,p.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(c&&!s&&(["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach(p=>{ir[p].status.translateY=Ar}),ir.DID_THROW_ITEM_PROCESSING_ERROR.status.translateX=vl),d&&i){r.RevertItemProcessing.align="BUTTON_REMOVE_ITEM_POSITION";const p=ir.DID_COMPLETE_ITEM_PROCESSING;p.info.translateX=qt,p.status.translateY=Ar,p.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}a||(r.RemoveItem.disabled=!0),Ze(r,(p,I)=>{const E=e.createChildView(ja,{label:e.query(I.label),icon:e.query(I.icon),opacity:0});h.includes(p)&&e.appendChildView(E),I.disabled&&(E.element.setAttribute("disabled","disabled"),E.element.setAttribute("hidden","hidden")),E.element.dataset.align=e.query(`GET_STYLE_${I.align}`),E.element.classList.add(I.className),E.on("click",T=>{T.stopPropagation(),!I.disabled&&e.dispatch(I.action,{query:n})}),e.ref[`button${p}`]=E}),e.ref.processingCompleteIndicator=e.appendChildView(e.createChildView(wl)),e.ref.processingCompleteIndicator.element.dataset.align=e.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),e.ref.info=e.appendChildView(e.createChildView(gl,{id:n})),e.ref.status=e.appendChildView(e.createChildView(bl,{id:n}));const y=e.appendChildView(e.createChildView(Qi,{opacity:0,align:e.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));y.element.classList.add("filepond--load-indicator"),e.ref.loadProgressIndicator=y;const m=e.appendChildView(e.createChildView(Qi,{opacity:0,align:e.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));m.element.classList.add("filepond--process-indicator"),e.ref.processProgressIndicator=m,e.ref.activeStyles=[]},Pl=({root:e,actions:t,props:r})=>{Al({root:e,actions:t,props:r});let n=t.concat().filter(i=>/^DID_/.test(i.type)).reverse().find(i=>ir[i.type]);if(n){e.ref.activeStyles=[];const i=ir[n.type];Ze(Sl,(a,s)=>{const l=e.ref[a];Ze(s,(c,d)=>{const u=i[a]&&typeof i[a][c]<"u"?i[a][c]:d;e.ref.activeStyles.push({control:l,key:c,value:u})})})}e.ref.activeStyles.forEach(({control:i,key:a,value:s})=>{i[a]=typeof s=="function"?s(e):s})},Al=Ct({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:({root:e,action:t})=>{e.ref.buttonAbortItemProcessing.label=t.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:({root:e,action:t})=>{e.ref.buttonAbortItemLoad.label=t.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:({root:e,action:t})=>{e.ref.buttonAbortItemRemoval.label=t.value},DID_REQUEST_ITEM_PROCESSING:({root:e})=>{e.ref.processProgressIndicator.spin=!0,e.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:({root:e})=>{e.ref.loadProgressIndicator.spin=!0,e.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:({root:e})=>{e.ref.processProgressIndicator.spin=!0,e.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:({root:e,action:t})=>{e.ref.loadProgressIndicator.spin=!1,e.ref.loadProgressIndicator.progress=t.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:({root:e,action:t})=>{e.ref.processProgressIndicator.spin=!1,e.ref.processProgressIndicator.progress=t.progress}}),Ll=ct({create:Ml,write:Pl,didCreateView:e=>{Xn("CREATE_VIEW",{...e,view:e})},name:"file"}),Cl=({root:e,props:t})=>{e.ref.fileName=Mn("legend"),e.appendChild(e.ref.fileName),e.ref.file=e.appendChildView(e.createChildView(Ll,{id:t.id})),e.ref.data=!1},Nl=({root:e,props:t})=>{at(e.ref.fileName,vi(e.query("GET_ITEM_NAME",t.id)))},xl=ct({create:Cl,ignoreRect:!0,write:Ct({DID_LOAD_ITEM:Nl}),didCreateView:e=>{Xn("CREATE_VIEW",{...e,view:e})},tag:"fieldset",name:"file-wrapper"}),ta={type:"spring",damping:.6,mass:7},Gl=({root:e,props:t})=>{[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:ta},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:ta},styles:["translateY"]}}].forEach(r=>{kl(e,r,t.name)}),e.element.classList.add(`filepond--${t.name}`),e.ref.scalable=null},kl=(e,t,r)=>{const n=ct({name:`panel-${t.name} filepond--${r}`,mixins:t.mixins,ignoreRectUpdate:!0}),i=e.createChildView(n,t.props);e.ref[t.name]=e.appendChildView(i)},Fl=({root:e,props:t})=>{if((e.ref.scalable===null||t.scalable!==e.ref.scalable)&&(e.ref.scalable=Aa(t.scalable)?t.scalable:!0,e.element.dataset.scalable=e.ref.scalable),!t.height)return;const r=e.ref.top.rect.element,n=e.ref.bottom.rect.element,i=Math.max(r.height+n.height,t.height);e.ref.center.translateY=r.height,e.ref.center.scaleY=(i-r.height-n.height)/100,e.ref.bottom.translateY=i-n.height},Qa=ct({name:"panel",read:({root:e,props:t})=>t.heightCurrent=e.ref.bottom.translateY,write:Fl,create:Gl,ignoreRect:!0,mixins:{apis:["height","heightCurrent","scalable"]}}),Bl=e=>{const t=e.map(n=>n.id);let r;return{setIndex:n=>{r=n},getIndex:()=>r,getItemIndex:n=>t.indexOf(n.id)}},na={type:"spring",stiffness:.75,damping:.45,mass:10},ra="spring",ia={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},Yl=({root:e,props:t})=>{if(e.ref.handleClick=n=>e.dispatch("DID_ACTIVATE_ITEM",{id:t.id}),e.element.id=`filepond--item-${t.id}`,e.element.addEventListener("click",e.ref.handleClick),e.ref.container=e.appendChildView(e.createChildView(xl,{id:t.id})),e.ref.panel=e.appendChildView(e.createChildView(Qa,{name:"item-panel"})),e.ref.panel.height=null,t.markedForRemoval=!1,!e.query("GET_ALLOW_REORDER"))return;e.element.dataset.dragState="idle";const r=n=>{if(!n.isPrimary)return;let i=!1;const a={x:n.pageX,y:n.pageY};t.dragOrigin={x:e.translateX,y:e.translateY},t.dragCenter={x:n.offsetX,y:n.offsetY};const s=Bl(e.query("GET_ACTIVE_ITEMS"));e.dispatch("DID_GRAB_ITEM",{id:t.id,dragState:s});const l=h=>{if(!h.isPrimary)return;h.stopPropagation(),h.preventDefault(),t.dragOffset={x:h.pageX-a.x,y:h.pageY-a.y},t.dragOffset.x*t.dragOffset.x+t.dragOffset.y*t.dragOffset.y>16&&!i&&(i=!0,e.element.removeEventListener("click",e.ref.handleClick)),e.dispatch("DID_DRAG_ITEM",{id:t.id,dragState:s})},c=h=>{!h.isPrimary||(t.dragOffset={x:h.pageX-a.x,y:h.pageY-a.y},u())},d=()=>{u()},u=()=>{document.removeEventListener("pointercancel",d),document.removeEventListener("pointermove",l),document.removeEventListener("pointerup",c),e.dispatch("DID_DROP_ITEM",{id:t.id,dragState:s}),i&&setTimeout(()=>e.element.addEventListener("click",e.ref.handleClick),0)};document.addEventListener("pointercancel",d),document.addEventListener("pointermove",l),document.addEventListener("pointerup",c)};e.element.addEventListener("pointerdown",r)},Ul=Ct({DID_UPDATE_PANEL_HEIGHT:({root:e,action:t})=>{e.height=t.height}}),Vl=Ct({DID_GRAB_ITEM:({root:e,props:t})=>{t.dragOrigin={x:e.translateX,y:e.translateY}},DID_DRAG_ITEM:({root:e})=>{e.element.dataset.dragState="drag"},DID_DROP_ITEM:({root:e,props:t})=>{t.dragOffset=null,t.dragOrigin=null,e.element.dataset.dragState="drop"}},({root:e,actions:t,props:r,shouldOptimize:n})=>{e.element.dataset.dragState==="drop"&&e.scaleX<=1&&(e.element.dataset.dragState="idle");let i=t.concat().filter(s=>/^DID_/.test(s.type)).reverse().find(s=>ia[s.type]);i&&i.type!==r.currentState&&(r.currentState=i.type,e.element.dataset.filepondItemState=ia[r.currentState]||"");const a=e.query("GET_ITEM_PANEL_ASPECT_RATIO")||e.query("GET_PANEL_ASPECT_RATIO");a?n||(e.height=e.rect.element.width*a):(Ul({root:e,actions:t,props:r}),!e.height&&e.ref.container.rect.element.height>0&&(e.height=e.ref.container.rect.element.height)),n&&(e.ref.panel.height=null),e.ref.panel.height=e.height}),ql=ct({create:Yl,write:Vl,destroy:({root:e,props:t})=>{e.element.removeEventListener("click",e.ref.handleClick),e.dispatch("RELEASE_ITEM",{query:t.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:ra,scaleY:ra,translateX:na,translateY:na,opacity:{type:"tween",duration:150}}}});var Oi=(e,t)=>Math.max(1,Math.floor((e+1)/t));const Ri=(e,t,r)=>{if(!r)return;const n=e.rect.element.width,i=t.length;let a=null;if(i===0||r.top<t[0].rect.element.top)return-1;const l=t[0].rect.element,c=l.marginLeft+l.marginRight,d=l.width+c,u=Oi(n,d);if(u===1){for(let m=0;m<i;m++){const p=t[m],I=p.rect.outer.top+p.rect.element.height*.5;if(r.top<I)return m}return i}const h=l.marginTop+l.marginBottom,y=l.height+h;for(let m=0;m<i;m++){const p=m%u,I=Math.floor(m/u),E=p*d,T=I*y,g=T-l.marginTop,O=E+d,P=T+y+l.marginBottom;if(r.top<P&&r.top>g){if(r.left<O)return m;m!==i-1?a=m:a=null}}return a!==null?a:i},Lr={height:0,width:0,get getHeight(){return this.height},set setHeight(e){(this.height===0||e===0)&&(this.height=e)},get getWidth(){return this.width},set setWidth(e){(this.width===0||e===0)&&(this.width=e)},setDimensions:function(e,t){(this.height===0||e===0)&&(this.height=e),(this.width===0||t===0)&&(this.width=t)}},Wl=({root:e})=>{mt(e.element,"role","list"),e.ref.lastItemSpanwDate=Date.now()},Hl=({root:e,action:t})=>{const{id:r,index:n,interactionMethod:i}=t;e.ref.addIndex=n;const a=Date.now();let s=a,l=1;if(i!==rn.NONE){l=0;const c=e.query("GET_ITEM_INSERT_INTERVAL"),d=a-e.ref.lastItemSpanwDate;s=d<c?a+(c-d):a}e.ref.lastItemSpanwDate=s,e.appendChildView(e.createChildView(ql,{spawnDate:s,id:r,opacity:l,interactionMethod:i}),n)},aa=(e,t,r,n=0,i=1)=>{e.dragOffset?(e.translateX=null,e.translateY=null,e.translateX=e.dragOrigin.x+e.dragOffset.x,e.translateY=e.dragOrigin.y+e.dragOffset.y,e.scaleX=1.025,e.scaleY=1.025):(e.translateX=t,e.translateY=r,Date.now()>e.spawnDate&&(e.opacity===0&&jl(e,t,r,n,i),e.scaleX=1,e.scaleY=1,e.opacity=1))},jl=(e,t,r,n,i)=>{e.interactionMethod===rn.NONE?(e.translateX=null,e.translateX=t,e.translateY=null,e.translateY=r):e.interactionMethod===rn.DROP?(e.translateX=null,e.translateX=t-n*20,e.translateY=null,e.translateY=r-i*10,e.scaleX=.8,e.scaleY=.8):e.interactionMethod===rn.BROWSE?(e.translateY=null,e.translateY=r-30):e.interactionMethod===rn.API&&(e.translateX=null,e.translateX=t-30,e.translateY=null)},$l=({root:e,action:t})=>{const{id:r}=t,n=e.childViews.find(i=>i.id===r);!n||(n.scaleX=.9,n.scaleY=.9,n.opacity=0,n.markedForRemoval=!0)},ni=e=>e.rect.element.height+e.rect.element.marginBottom*.5+e.rect.element.marginTop*.5,zl=e=>e.rect.element.width+e.rect.element.marginLeft*.5+e.rect.element.marginRight*.5,Xl=({root:e,action:t})=>{const{id:r,dragState:n}=t,i=e.query("GET_ITEM",{id:r}),a=e.childViews.find(E=>E.id===r),s=e.childViews.length,l=n.getItemIndex(i);if(!a)return;const c={x:a.dragOrigin.x+a.dragOffset.x+a.dragCenter.x,y:a.dragOrigin.y+a.dragOffset.y+a.dragCenter.y},d=ni(a),u=zl(a);let h=Math.floor(e.rect.outer.width/u);h>s&&(h=s);const y=Math.floor(s/h+1);Lr.setHeight=d*y,Lr.setWidth=u*h;var m={y:Math.floor(c.y/d),x:Math.floor(c.x/u),getGridIndex:function(){return c.y>Lr.getHeight||c.y<0||c.x>Lr.getWidth||c.x<0?l:this.y*h+this.x},getColIndex:function(){const T=e.query("GET_ACTIVE_ITEMS"),g=e.childViews.filter(U=>U.rect.element.height),O=T.map(U=>g.find(te=>te.id===U.id)),P=O.findIndex(U=>U===a),x=ni(a),F=O.length;let J=F,A=0,B=0,ee=0;for(let U=0;U<F;U++)if(A=ni(O[U]),ee=B,B=ee+A,c.y<B){if(P>U){if(c.y<ee+x){J=U;break}continue}J=U;break}return J}};const p=h>1?m.getGridIndex():m.getColIndex();e.dispatch("MOVE_ITEM",{query:a,index:p});const I=n.getIndex();if(I===void 0||I!==p){if(n.setIndex(p),I===void 0)return;e.dispatch("DID_REORDER_ITEMS",{items:e.query("GET_ACTIVE_ITEMS"),origin:l,target:p})}},Ql=Ct({DID_ADD_ITEM:Hl,DID_REMOVE_ITEM:$l,DID_DRAG_ITEM:Xl}),Kl=({root:e,props:t,actions:r,shouldOptimize:n})=>{Ql({root:e,props:t,actions:r});const{dragCoordinates:i}=t,a=e.rect.element.width,s=e.childViews.filter(O=>O.rect.element.height),l=e.query("GET_ACTIVE_ITEMS").map(O=>s.find(P=>P.id===O.id)).filter(O=>O),c=i?Ri(e,l,i):null,d=e.ref.addIndex||null;e.ref.addIndex=null;let u=0,h=0,y=0;if(l.length===0)return;const m=l[0].rect.element,p=m.marginTop+m.marginBottom,I=m.marginLeft+m.marginRight,E=m.width+I,T=m.height+p,g=Oi(a,E);if(g===1){let O=0,P=0;l.forEach((x,F)=>{if(c){let B=F-c;B===-2?P=-p*.25:B===-1?P=-p*.75:B===0?P=p*.75:B===1?P=p*.25:P=0}n&&(x.translateX=null,x.translateY=null),x.markedForRemoval||aa(x,0,O+P);let A=(x.rect.element.height+p)*(x.markedForRemoval?x.opacity:1);O+=A})}else{let O=0,P=0;l.forEach((x,F)=>{F===c&&(u=1),F===d&&(y+=1),x.markedForRemoval&&x.opacity<.5&&(h-=1);const J=F+y+u+h,A=J%g,B=Math.floor(J/g),ee=A*E,U=B*T,te=Math.sign(ee-O),Se=Math.sign(U-P);O=ee,P=U,!x.markedForRemoval&&(n&&(x.translateX=null,x.translateY=null),aa(x,ee,U,te,Se))})}},Jl=(e,t)=>t.filter(r=>r.data&&r.data.id?e.id===r.data.id:!0),Zl=ct({create:Wl,write:Kl,tag:"ul",name:"list",didWriteView:({root:e})=>{e.childViews.filter(t=>t.markedForRemoval&&t.opacity===0&&t.resting).forEach(t=>{t._destroy(),e.removeChildView(t)})},filterFrameActionsForChild:Jl,mixins:{apis:["dragCoordinates"]}}),ec=({root:e,props:t})=>{e.ref.list=e.appendChildView(e.createChildView(Zl)),t.dragCoordinates=null,t.overflowing=!1},tc=({root:e,props:t,action:r})=>{!e.query("GET_ITEM_INSERT_LOCATION_FREEDOM")||(t.dragCoordinates={left:r.position.scopeLeft-e.ref.list.rect.element.left,top:r.position.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},nc=({props:e})=>{e.dragCoordinates=null},rc=Ct({DID_DRAG:tc,DID_END_DRAG:nc}),ic=({root:e,props:t,actions:r})=>{if(rc({root:e,props:t,actions:r}),e.ref.list.dragCoordinates=t.dragCoordinates,t.overflowing&&!t.overflow&&(t.overflowing=!1,e.element.dataset.state="",e.height=null),t.overflow){const n=Math.round(t.overflow);n!==e.height&&(t.overflowing=!0,e.element.dataset.state="overflow",e.height=n)}},ac=ct({create:ec,write:ic,name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),gn=(e,t,r,n="")=>{r?mt(e,t,n):e.removeAttribute(t)},sc=e=>{if(!(!e||e.value==="")){try{e.value=""}catch{}if(e.value){const t=Mn("form"),r=e.parentNode,n=e.nextSibling;t.appendChild(e),t.reset(),n?r.insertBefore(e,n):r.appendChild(e)}}},oc=({root:e,props:t})=>{e.element.id=`filepond--browser-${t.id}`,mt(e.element,"name",e.query("GET_NAME")),mt(e.element,"aria-controls",`filepond--assistant-${t.id}`),mt(e.element,"aria-labelledby",`filepond--drop-label-${t.id}`),Ka({root:e,action:{value:e.query("GET_ACCEPTED_FILE_TYPES")}}),Ja({root:e,action:{value:e.query("GET_ALLOW_MULTIPLE")}}),Za({root:e,action:{value:e.query("GET_ALLOW_DIRECTORIES_ONLY")}}),pi({root:e}),es({root:e,action:{value:e.query("GET_REQUIRED")}}),ts({root:e,action:{value:e.query("GET_CAPTURE_METHOD")}}),e.ref.handleChange=r=>{if(!e.element.value)return;const n=Array.from(e.element.files).map(i=>(i._relativePath=i.webkitRelativePath,i));setTimeout(()=>{t.onload(n),sc(e.element)},250)},e.element.addEventListener("change",e.ref.handleChange)},Ka=({root:e,action:t})=>{!e.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE")||gn(e.element,"accept",!!t.value,t.value?t.value.join(","):"")},Ja=({root:e,action:t})=>{gn(e.element,"multiple",t.value)},Za=({root:e,action:t})=>{gn(e.element,"webkitdirectory",t.value)},pi=({root:e})=>{const t=e.query("GET_DISABLED"),r=e.query("GET_ALLOW_BROWSE"),n=t||!r;gn(e.element,"disabled",n)},es=({root:e,action:t})=>{t.value?e.query("GET_TOTAL_ITEMS")===0&&gn(e.element,"required",!0):gn(e.element,"required",!1)},ts=({root:e,action:t})=>{gn(e.element,"capture",!!t.value,t.value===!0?"":t.value)},sa=({root:e})=>{const{element:t}=e;if(e.query("GET_TOTAL_ITEMS")>0){gn(t,"required",!1),gn(t,"name",!1);const r=e.query("GET_ACTIVE_ITEMS");let n=!1;for(let i=0;i<r.length;i++)r[i].status===ge.LOAD_ERROR&&(n=!0);e.element.setCustomValidity(n?e.query("GET_LABEL_INVALID_FIELD"):"")}else gn(t,"name",!0,e.query("GET_NAME")),e.query("GET_CHECK_VALIDITY")&&t.setCustomValidity(""),e.query("GET_REQUIRED")&&gn(t,"required",!0)},lc=({root:e})=>{!e.query("GET_CHECK_VALIDITY")||e.element.setCustomValidity(e.query("GET_LABEL_INVALID_FIELD"))},cc=ct({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:oc,destroy:({root:e})=>{e.element.removeEventListener("change",e.ref.handleChange)},write:Ct({DID_LOAD_ITEM:sa,DID_REMOVE_ITEM:sa,DID_THROW_ITEM_INVALID:lc,DID_SET_DISABLED:pi,DID_SET_ALLOW_BROWSE:pi,DID_SET_ALLOW_DIRECTORIES_ONLY:Za,DID_SET_ALLOW_MULTIPLE:Ja,DID_SET_ACCEPTED_FILE_TYPES:Ka,DID_SET_CAPTURE_METHOD:ts,DID_SET_REQUIRED:es})}),oa={ENTER:13,SPACE:32},dc=({root:e,props:t})=>{const r=Mn("label");mt(r,"for",`filepond--browser-${t.id}`),mt(r,"id",`filepond--drop-label-${t.id}`),e.ref.handleKeyDown=n=>{(n.keyCode===oa.ENTER||n.keyCode===oa.SPACE)&&(n.preventDefault(),e.ref.label.click())},e.ref.handleClick=n=>{n.target===r||r.contains(n.target)||e.ref.label.click()},r.addEventListener("keydown",e.ref.handleKeyDown),e.element.addEventListener("click",e.ref.handleClick),ns(r,t.caption),e.appendChild(r),e.ref.label=r},ns=(e,t)=>{e.innerHTML=t;const r=e.querySelector(".filepond--label-action");return r&&mt(r,"tabindex","0"),t},uc=ct({name:"drop-label",ignoreRect:!0,create:dc,destroy:({root:e})=>{e.ref.label.addEventListener("keydown",e.ref.handleKeyDown),e.element.removeEventListener("click",e.ref.handleClick)},write:Ct({DID_SET_LABEL_IDLE:({root:e,action:t})=>{ns(e.ref.label,t.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),fc=ct({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),pc=({root:e})=>{const t=e.rect.element.width*.5,r=e.rect.element.height*.5;e.ref.blob=e.appendChildView(e.createChildView(fc,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:t,translateY:r}))},mc=({root:e,action:t})=>{if(!e.ref.blob){pc({root:e});return}e.ref.blob.translateX=t.position.scopeLeft,e.ref.blob.translateY=t.position.scopeTop,e.ref.blob.scaleX=1,e.ref.blob.scaleY=1,e.ref.blob.opacity=1},hc=({root:e})=>{!e.ref.blob||(e.ref.blob.opacity=0)},gc=({root:e})=>{!e.ref.blob||(e.ref.blob.scaleX=2.5,e.ref.blob.scaleY=2.5,e.ref.blob.opacity=0)},Ec=({root:e,props:t,actions:r})=>{yc({root:e,props:t,actions:r});const{blob:n}=e.ref;r.length===0&&n&&n.opacity===0&&(e.removeChildView(n),e.ref.blob=null)},yc=Ct({DID_DRAG:mc,DID_DROP:gc,DID_END_DRAG:hc}),Ic=ct({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:Ec}),rs=(e,t)=>{try{const r=new DataTransfer;t.forEach(n=>{n instanceof File?r.items.add(n):r.items.add(new File([n],n.name,{type:n.type}))}),e.files=r.files}catch{return!1}return!0},Tc=({root:e})=>{e.ref.fields={};const t=document.createElement("legend");t.textContent="Files",e.element.appendChild(t)},$r=(e,t)=>e.ref.fields[t],Di=e=>{e.query("GET_ACTIVE_ITEMS").forEach(t=>{!e.ref.fields[t.id]||e.element.appendChild(e.ref.fields[t.id])})},la=({root:e})=>Di(e),_c=({root:e,action:t})=>{const i=!(e.query("GET_ITEM",t.id).origin===It.LOCAL)&&e.query("SHOULD_UPDATE_FILE_INPUT"),a=Mn("input");a.type=i?"file":"hidden",a.name=e.query("GET_NAME"),e.ref.fields[t.id]=a,Di(e)},bc=({root:e,action:t})=>{const r=$r(e,t.id);if(!r||(t.serverFileReference!==null&&(r.value=t.serverFileReference),!e.query("SHOULD_UPDATE_FILE_INPUT")))return;const n=e.query("GET_ITEM",t.id);rs(r,[n.file])},vc=({root:e,action:t})=>{!e.query("SHOULD_UPDATE_FILE_INPUT")||setTimeout(()=>{const r=$r(e,t.id);!r||rs(r,[t.file])},0)},Oc=({root:e})=>{e.element.disabled=e.query("GET_DISABLED")},Rc=({root:e,action:t})=>{const r=$r(e,t.id);!r||(r.parentNode&&r.parentNode.removeChild(r),delete e.ref.fields[t.id])},Dc=({root:e,action:t})=>{const r=$r(e,t.id);!r||(t.value===null?r.removeAttribute("value"):r.type!="file"&&(r.value=t.value),Di(e))},Sc=Ct({DID_SET_DISABLED:Oc,DID_ADD_ITEM:_c,DID_LOAD_ITEM:bc,DID_REMOVE_ITEM:Rc,DID_DEFINE_VALUE:Dc,DID_PREPARE_OUTPUT:vc,DID_REORDER_ITEMS:la,DID_SORT_ITEMS:la}),wc=ct({tag:"fieldset",name:"data",create:Tc,write:Sc,ignoreRect:!0}),Mc=e=>"getRootNode"in e?e.getRootNode():document,Pc=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],Ac=["css","csv","html","txt"],Lc={zip:"zip|compressed",epub:"application/epub+zip"},is=(e="")=>(e=e.toLowerCase(),Pc.includes(e)?"image/"+(e==="jpg"?"jpeg":e==="svg"?"svg+xml":e):Ac.includes(e)?"text/"+e:Lc[e]||""),Si=e=>new Promise((t,r)=>{const n=Yc(e);if(n.length&&!Cc(e))return t(n);Nc(e).then(t)}),Cc=e=>e.files?e.files.length>0:!1,Nc=e=>new Promise((t,r)=>{const n=(e.items?Array.from(e.items):[]).filter(i=>xc(i)).map(i=>Gc(i));if(!n.length){t(e.files?Array.from(e.files):[]);return}Promise.all(n).then(i=>{const a=[];i.forEach(s=>{a.push.apply(a,s)}),t(a.filter(s=>s).map(s=>(s._relativePath||(s._relativePath=s.webkitRelativePath),s)))}).catch(console.error)}),xc=e=>{if(as(e)){const t=wi(e);if(t)return t.isFile||t.isDirectory}return e.kind==="file"},Gc=e=>new Promise((t,r)=>{if(Bc(e)){kc(wi(e)).then(t).catch(r);return}t([e.getAsFile()])}),kc=e=>new Promise((t,r)=>{const n=[];let i=0,a=0;const s=()=>{a===0&&i===0&&t(n)},l=c=>{i++;const d=c.createReader(),u=()=>{d.readEntries(h=>{if(h.length===0){i--,s();return}h.forEach(y=>{y.isDirectory?l(y):(a++,y.file(m=>{const p=Fc(m);y.fullPath&&(p._relativePath=y.fullPath),n.push(p),a--,s()}))}),u()},r)};u()};l(e)}),Fc=e=>{if(e.type.length)return e;const t=e.lastModifiedDate,r=e.name,n=is(jr(e.name));return n.length&&(e=e.slice(0,e.size,n),e.name=r,e.lastModifiedDate=t),e},Bc=e=>as(e)&&(wi(e)||{}).isDirectory,as=e=>"webkitGetAsEntry"in e,wi=e=>e.webkitGetAsEntry(),Yc=e=>{let t=[];try{if(t=Vc(e),t.length)return t;t=Uc(e)}catch{}return t},Uc=e=>{let t=e.getData("url");return typeof t=="string"&&t.length?[t]:[]},Vc=e=>{let t=e.getData("text/html");if(typeof t=="string"&&t.length){const r=t.match(/src\s*=\s*"(.+?)"/);if(r)return[r[1]]}return[]},Yr=[],zn=e=>({pageLeft:e.pageX,pageTop:e.pageY,scopeLeft:e.offsetX||e.layerX,scopeTop:e.offsetY||e.layerY}),qc=(e,t,r)=>{const n=Wc(t),i={element:e,filterElement:r,state:null,ondrop:()=>{},onenter:()=>{},ondrag:()=>{},onexit:()=>{},onload:()=>{},allowdrop:()=>{}};return i.destroy=n.addListener(i),i},Wc=e=>{const t=Yr.find(n=>n.element===e);if(t)return t;const r=Hc(e);return Yr.push(r),r},Hc=e=>{const t=[],r={dragenter:$c,dragover:zc,dragleave:Qc,drop:Xc},n={};Ze(r,(a,s)=>{n[a]=s(e,t),e.addEventListener(a,n[a],!1)});const i={element:e,addListener:a=>(t.push(a),()=>{t.splice(t.indexOf(a),1),t.length===0&&(Yr.splice(Yr.indexOf(i),1),Ze(r,s=>{e.removeEventListener(s,n[s],!1)}))})};return i},jc=(e,t)=>("elementFromPoint"in e||(e=document),e.elementFromPoint(t.x,t.y)),Mi=(e,t)=>{const r=Mc(t),n=jc(r,{x:e.pageX-window.pageXOffset,y:e.pageY-window.pageYOffset});return n===t||t.contains(n)};let ss=null;const Cr=(e,t)=>{try{e.dropEffect=t}catch{}},$c=(e,t)=>r=>{r.preventDefault(),ss=r.target,t.forEach(n=>{const{element:i,onenter:a}=n;Mi(r,i)&&(n.state="enter",a(zn(r)))})},zc=(e,t)=>r=>{r.preventDefault();const n=r.dataTransfer;Si(n).then(i=>{let a=!1;t.some(s=>{const{filterElement:l,element:c,onenter:d,onexit:u,ondrag:h,allowdrop:y}=s;Cr(n,"copy");const m=y(i);if(!m){Cr(n,"none");return}if(Mi(r,c)){if(a=!0,s.state===null){s.state="enter",d(zn(r));return}if(s.state="over",l&&!m){Cr(n,"none");return}h(zn(r))}else l&&!a&&Cr(n,"none"),s.state&&(s.state=null,u(zn(r)))})})},Xc=(e,t)=>r=>{r.preventDefault();const n=r.dataTransfer;Si(n).then(i=>{t.forEach(a=>{const{filterElement:s,element:l,ondrop:c,onexit:d,allowdrop:u}=a;if(a.state=null,!(s&&!Mi(r,l))){if(!u(i))return d(zn(r));c(zn(r),i)}})})},Qc=(e,t)=>r=>{ss===r.target&&t.forEach(n=>{const{onexit:i}=n;n.state=null,i(zn(r))})},Kc=(e,t,r)=>{e.classList.add("filepond--hopper");const{catchesDropsOnPage:n,requiresDropOnElement:i,filterItems:a=u=>u}=r,s=qc(e,n?document.documentElement:e,i);let l="",c="";s.allowdrop=u=>t(a(u)),s.ondrop=(u,h)=>{const y=a(h);if(!t(y)){d.ondragend(u);return}c="drag-drop",d.onload(y,u)},s.ondrag=u=>{d.ondrag(u)},s.onenter=u=>{c="drag-over",d.ondragstart(u)},s.onexit=u=>{c="drag-exit",d.ondragend(u)};const d={updateHopperState:()=>{l!==c&&(e.dataset.hopperState=c,l=c)},onload:()=>{},ondragstart:()=>{},ondrag:()=>{},ondragend:()=>{},destroy:()=>{s.destroy()}};return d};let mi=!1;const ar=[],os=e=>{const t=document.activeElement;if(t&&(/textarea|input/i.test(t.nodeName)||t.getAttribute("contenteditable")==="true"||t.getAttribute("contenteditable")==="")){let n=!1,i=t;for(;i!==document.body;){if(i.classList.contains("filepond--root")){n=!0;break}i=i.parentNode}if(!n)return}Si(e.clipboardData).then(n=>{!n.length||ar.forEach(i=>i(n))})},Jc=e=>{ar.includes(e)||(ar.push(e),!mi&&(mi=!0,document.addEventListener("paste",os)))},Zc=e=>{Ti(ar,ar.indexOf(e)),ar.length===0&&(document.removeEventListener("paste",os),mi=!1)},ed=()=>{const e=r=>{t.onload(r)},t={destroy:()=>{Zc(e)},onload:()=>{}};return Jc(e),t},td=({root:e,props:t})=>{e.element.id=`filepond--assistant-${t.id}`,mt(e.element,"role","alert"),mt(e.element,"aria-live","polite"),mt(e.element,"aria-relevant","additions")};let ca=null,da=null;const ri=[],zr=(e,t)=>{e.element.textContent=t},nd=e=>{e.element.textContent=""},ls=(e,t,r)=>{const n=e.query("GET_TOTAL_ITEMS");zr(e,`${r} ${t}, ${n} ${n===1?e.query("GET_LABEL_FILE_COUNT_SINGULAR"):e.query("GET_LABEL_FILE_COUNT_PLURAL")}`),clearTimeout(da),da=setTimeout(()=>{nd(e)},1500)},cs=e=>e.element.parentNode.contains(document.activeElement),rd=({root:e,action:t})=>{if(!cs(e))return;e.element.textContent="";const r=e.query("GET_ITEM",t.id);ri.push(r.filename),clearTimeout(ca),ca=setTimeout(()=>{ls(e,ri.join(", "),e.query("GET_LABEL_FILE_ADDED")),ri.length=0},750)},id=({root:e,action:t})=>{if(!cs(e))return;const r=t.item;ls(e,r.filename,e.query("GET_LABEL_FILE_REMOVED"))},ad=({root:e,action:t})=>{const n=e.query("GET_ITEM",t.id).filename,i=e.query("GET_LABEL_FILE_PROCESSING_COMPLETE");zr(e,`${n} ${i}`)},ua=({root:e,action:t})=>{const n=e.query("GET_ITEM",t.id).filename,i=e.query("GET_LABEL_FILE_PROCESSING_ABORTED");zr(e,`${n} ${i}`)},Nr=({root:e,action:t})=>{const n=e.query("GET_ITEM",t.id).filename;zr(e,`${t.status.main} ${n} ${t.status.sub}`)},sd=ct({create:td,ignoreRect:!0,ignoreRectUpdate:!0,write:Ct({DID_LOAD_ITEM:rd,DID_REMOVE_ITEM:id,DID_COMPLETE_ITEM_PROCESSING:ad,DID_ABORT_ITEM_PROCESSING:ua,DID_REVERT_ITEM_PROCESSING:ua,DID_THROW_ITEM_REMOVE_ERROR:Nr,DID_THROW_ITEM_LOAD_ERROR:Nr,DID_THROW_ITEM_INVALID:Nr,DID_THROW_ITEM_PROCESSING_ERROR:Nr}),tag:"span",name:"assistant"}),ds=(e,t="-")=>e.replace(new RegExp(`${t}.`,"g"),r=>r.charAt(1).toUpperCase()),us=(e,t=16,r=!0)=>{let n=Date.now(),i=null;return(...a)=>{clearTimeout(i);const s=Date.now()-n,l=()=>{n=Date.now(),e(...a)};s<t?r||(i=setTimeout(l,t-s)):l()}},od=1e6,Ur=e=>e.preventDefault(),ld=({root:e,props:t})=>{const r=e.query("GET_ID");r&&(e.element.id=r);const n=e.query("GET_CLASS_NAME");n&&n.split(" ").filter(c=>c.length).forEach(c=>{e.element.classList.add(c)}),e.ref.label=e.appendChildView(e.createChildView(uc,{...t,translateY:null,caption:e.query("GET_LABEL_IDLE")})),e.ref.list=e.appendChildView(e.createChildView(ac,{translateY:null})),e.ref.panel=e.appendChildView(e.createChildView(Qa,{name:"panel-root"})),e.ref.assistant=e.appendChildView(e.createChildView(sd,{...t})),e.ref.data=e.appendChildView(e.createChildView(wc,{...t})),e.ref.measure=Mn("div"),e.ref.measure.style.height="100%",e.element.appendChild(e.ref.measure),e.ref.bounds=null,e.query("GET_STYLES").filter(c=>!wn(c.value)).map(({name:c,value:d})=>{e.element.dataset[c]=d}),e.ref.widthPrevious=null,e.ref.widthUpdated=us(()=>{e.ref.updateHistory=[],e.dispatch("DID_RESIZE_ROOT")},250),e.ref.previousAspectRatio=null,e.ref.updateHistory=[];const i=window.matchMedia("(pointer: fine) and (hover: hover)").matches,a="PointerEvent"in window;e.query("GET_ALLOW_REORDER")&&a&&!i&&(e.element.addEventListener("touchmove",Ur,{passive:!1}),e.element.addEventListener("gesturestart",Ur));const s=e.query("GET_CREDITS");if(s.length===2){const c=document.createElement("a");c.className="filepond--credits",c.href=s[0],c.tabIndex=-1,c.target="_blank",c.rel="noopener noreferrer nofollow",c.textContent=s[1],e.element.appendChild(c),e.ref.credits=c}},cd=({root:e,props:t,actions:r})=>{if(md({root:e,props:t,actions:r}),r.filter(F=>/^DID_SET_STYLE_/.test(F.type)).filter(F=>!wn(F.data.value)).map(({type:F,data:J})=>{const A=ds(F.substring(8).toLowerCase(),"_");e.element.dataset[A]=J.value,e.invalidateLayout()}),e.rect.element.hidden)return;e.rect.element.width!==e.ref.widthPrevious&&(e.ref.widthPrevious=e.rect.element.width,e.ref.widthUpdated());let n=e.ref.bounds;n||(n=e.ref.bounds=fd(e),e.element.removeChild(e.ref.measure),e.ref.measure=null);const{hopper:i,label:a,list:s,panel:l}=e.ref;i&&i.updateHopperState();const c=e.query("GET_PANEL_ASPECT_RATIO"),d=e.query("GET_ALLOW_MULTIPLE"),u=e.query("GET_TOTAL_ITEMS"),h=d?e.query("GET_MAX_FILES")||od:1,y=u===h,m=r.find(F=>F.type==="DID_ADD_ITEM");if(y&&m){const F=m.data.interactionMethod;a.opacity=0,d?a.translateY=-40:F===rn.API?a.translateX=40:F===rn.BROWSE?a.translateY=40:a.translateY=30}else y||(a.opacity=1,a.translateX=0,a.translateY=0);const p=dd(e),I=ud(e),E=a.rect.element.height,T=!d||y?0:E,g=y?s.rect.element.marginTop:0,O=u===0?0:s.rect.element.marginBottom,P=T+g+I.visual+O,x=T+g+I.bounds+O;if(s.translateY=Math.max(0,T-s.rect.element.marginTop)-p.top,c){const F=e.rect.element.width,J=F*c;c!==e.ref.previousAspectRatio&&(e.ref.previousAspectRatio=c,e.ref.updateHistory=[]);const A=e.ref.updateHistory;A.push(F);const B=2;if(A.length>B*2){const U=A.length,te=U-10;let Se=0;for(let L=U;L>=te;L--)if(A[L]===A[L-2]&&Se++,Se>=B)return}l.scalable=!1,l.height=J;const ee=J-T-(O-p.bottom)-(y?g:0);I.visual>ee?s.overflow=ee:s.overflow=null,e.height=J}else if(n.fixedHeight){l.scalable=!1;const F=n.fixedHeight-T-(O-p.bottom)-(y?g:0);I.visual>F?s.overflow=F:s.overflow=null}else if(n.cappedHeight){const F=P>=n.cappedHeight,J=Math.min(n.cappedHeight,P);l.scalable=!0,l.height=F?J:J-p.top-p.bottom;const A=J-T-(O-p.bottom)-(y?g:0);P>n.cappedHeight&&I.visual>A?s.overflow=A:s.overflow=null,e.height=Math.min(n.cappedHeight,x-p.top-p.bottom)}else{const F=u>0?p.top+p.bottom:0;l.scalable=!0,l.height=Math.max(E,P-F),e.height=Math.max(E,x-F)}e.ref.credits&&l.heightCurrent&&(e.ref.credits.style.transform=`translateY(${l.heightCurrent}px)`)},dd=e=>{const t=e.ref.list.childViews[0].childViews[0];return t?{top:t.rect.element.marginTop,bottom:t.rect.element.marginBottom}:{top:0,bottom:0}},ud=e=>{let t=0,r=0;const n=e.ref.list,i=n.childViews[0],a=i.childViews.filter(g=>g.rect.element.height),s=e.query("GET_ACTIVE_ITEMS").map(g=>a.find(O=>O.id===g.id)).filter(g=>g);if(s.length===0)return{visual:t,bounds:r};const l=i.rect.element.width,c=Ri(i,s,n.dragCoordinates),d=s[0].rect.element,u=d.marginTop+d.marginBottom,h=d.marginLeft+d.marginRight,y=d.width+h,m=d.height+u,p=typeof c<"u"&&c>=0?1:0,I=s.find(g=>g.markedForRemoval&&g.opacity<.45)?-1:0,E=s.length+p+I,T=Oi(l,y);return T===1?s.forEach(g=>{const O=g.rect.element.height+u;r+=O,t+=O*g.opacity}):(r=Math.ceil(E/T)*m,t=r),{visual:t,bounds:r}},fd=e=>{const t=e.ref.measureHeight||null;return{cappedHeight:parseInt(e.style.maxHeight,10)||null,fixedHeight:t===0?null:t}},Pi=(e,t)=>{const r=e.query("GET_ALLOW_REPLACE"),n=e.query("GET_ALLOW_MULTIPLE"),i=e.query("GET_TOTAL_ITEMS");let a=e.query("GET_MAX_FILES");const s=t.length;return!n&&s>1?(e.dispatch("DID_THROW_MAX_FILES",{source:t,error:it("warning",0,"Max files")}),!0):(a=n?a:1,!n&&r?!1:lr(a)&&i+s>a?(e.dispatch("DID_THROW_MAX_FILES",{source:t,error:it("warning",0,"Max files")}),!0):!1)},pd=(e,t,r)=>{const n=e.childViews[0];return Ri(n,t,{left:r.scopeLeft-n.rect.element.left,top:r.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},fa=e=>{const t=e.query("GET_ALLOW_DROP"),r=e.query("GET_DISABLED"),n=t&&!r;if(n&&!e.ref.hopper){const i=Kc(e.element,a=>{const s=e.query("GET_BEFORE_DROP_FILE")||(()=>!0);return e.query("GET_DROP_VALIDATION")?a.every(c=>Xn("ALLOW_HOPPER_ITEM",c,{query:e.query}).every(d=>d===!0)&&s(c)):!0},{filterItems:a=>{const s=e.query("GET_IGNORED_FILES");return a.filter(l=>$n(l)?!s.includes(l.name.toLowerCase()):!0)},catchesDropsOnPage:e.query("GET_DROP_ON_PAGE"),requiresDropOnElement:e.query("GET_DROP_ON_ELEMENT")});i.onload=(a,s)=>{const c=e.ref.list.childViews[0].childViews.filter(u=>u.rect.element.height),d=e.query("GET_ACTIVE_ITEMS").map(u=>c.find(h=>h.id===u.id)).filter(u=>u);fn("ADD_ITEMS",a,{dispatch:e.dispatch}).then(u=>{if(Pi(e,u))return!1;e.dispatch("ADD_ITEMS",{items:u,index:pd(e.ref.list,d,s),interactionMethod:rn.DROP})}),e.dispatch("DID_DROP",{position:s}),e.dispatch("DID_END_DRAG",{position:s})},i.ondragstart=a=>{e.dispatch("DID_START_DRAG",{position:a})},i.ondrag=us(a=>{e.dispatch("DID_DRAG",{position:a})}),i.ondragend=a=>{e.dispatch("DID_END_DRAG",{position:a})},e.ref.hopper=i,e.ref.drip=e.appendChildView(e.createChildView(Ic))}else!n&&e.ref.hopper&&(e.ref.hopper.destroy(),e.ref.hopper=null,e.removeChildView(e.ref.drip))},pa=(e,t)=>{const r=e.query("GET_ALLOW_BROWSE"),n=e.query("GET_DISABLED"),i=r&&!n;i&&!e.ref.browser?e.ref.browser=e.appendChildView(e.createChildView(cc,{...t,onload:a=>{fn("ADD_ITEMS",a,{dispatch:e.dispatch}).then(s=>{if(Pi(e,s))return!1;e.dispatch("ADD_ITEMS",{items:s,index:-1,interactionMethod:rn.BROWSE})})}}),0):!i&&e.ref.browser&&(e.removeChildView(e.ref.browser),e.ref.browser=null)},ma=e=>{const t=e.query("GET_ALLOW_PASTE"),r=e.query("GET_DISABLED"),n=t&&!r;n&&!e.ref.paster?(e.ref.paster=ed(),e.ref.paster.onload=i=>{fn("ADD_ITEMS",i,{dispatch:e.dispatch}).then(a=>{if(Pi(e,a))return!1;e.dispatch("ADD_ITEMS",{items:a,index:-1,interactionMethod:rn.PASTE})})}):!n&&e.ref.paster&&(e.ref.paster.destroy(),e.ref.paster=null)},md=Ct({DID_SET_ALLOW_BROWSE:({root:e,props:t})=>{pa(e,t)},DID_SET_ALLOW_DROP:({root:e})=>{fa(e)},DID_SET_ALLOW_PASTE:({root:e})=>{ma(e)},DID_SET_DISABLED:({root:e,props:t})=>{fa(e),ma(e),pa(e,t),e.query("GET_DISABLED")?e.element.dataset.disabled="disabled":e.element.removeAttribute("data-disabled")}}),hd=ct({name:"root",read:({root:e})=>{e.ref.measure&&(e.ref.measureHeight=e.ref.measure.offsetHeight)},create:ld,write:cd,destroy:({root:e})=>{e.ref.paster&&e.ref.paster.destroy(),e.ref.hopper&&e.ref.hopper.destroy(),e.element.removeEventListener("touchmove",Ur),e.element.removeEventListener("gesturestart",Ur)},mixins:{styles:["height"]}}),gd=(e={})=>{let t=null;const r=Br(),n=As(Eo(r),[Go,To(r)],[ol,Io(r)]);n.dispatch("SET_OPTIONS",{options:e});const i=()=>{document.hidden||n.dispatch("KICK")};document.addEventListener("visibilitychange",i);let a=null,s=!1,l=!1,c=null,d=null;const u=()=>{s||(s=!0),clearTimeout(a),a=setTimeout(()=>{s=!1,c=null,d=null,l&&(l=!1,n.dispatch("DID_STOP_RESIZE"))},500)};window.addEventListener("resize",u);const h=hd(n,{id:Ii()});let y=!1,m=!1;const p={_read:()=>{s&&(d=window.innerWidth,c||(c=d),!l&&d!==c&&(n.dispatch("DID_START_RESIZE"),l=!0)),m&&y&&(y=h.element.offsetParent===null),!y&&(h._read(),m=h.rect.element.hidden)},_write:D=>{const C=n.processActionQueue().filter(j=>!/^SET_/.test(j.type));y&&!C.length||(g(C),y=h._write(D,C,l),vo(n.query("GET_ITEMS")),y&&n.processDispatchQueue())}},I=D=>C=>{const j={type:D};if(!C)return j;if(C.hasOwnProperty("error")&&(j.error=C.error?{...C.error}:null),C.status&&(j.status={...C.status}),C.file&&(j.output=C.file),C.source)j.file=C.source;else if(C.item||C.id){const $=C.item?C.item:n.query("GET_ITEM",C.id);j.file=$?kt($):null}return C.items&&(j.items=C.items.map(kt)),/progress/.test(D)&&(j.progress=C.progress),C.hasOwnProperty("origin")&&C.hasOwnProperty("target")&&(j.origin=C.origin,j.target=C.target),j},E={DID_DESTROY:I("destroy"),DID_INIT:I("init"),DID_THROW_MAX_FILES:I("warning"),DID_INIT_ITEM:I("initfile"),DID_START_ITEM_LOAD:I("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:I("addfileprogress"),DID_LOAD_ITEM:I("addfile"),DID_THROW_ITEM_INVALID:[I("error"),I("addfile")],DID_THROW_ITEM_LOAD_ERROR:[I("error"),I("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[I("error"),I("removefile")],DID_PREPARE_OUTPUT:I("preparefile"),DID_START_ITEM_PROCESSING:I("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:I("processfileprogress"),DID_ABORT_ITEM_PROCESSING:I("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:I("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:I("processfiles"),DID_REVERT_ITEM_PROCESSING:I("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[I("error"),I("processfile")],DID_REMOVE_ITEM:I("removefile"),DID_UPDATE_ITEMS:I("updatefiles"),DID_ACTIVATE_ITEM:I("activatefile"),DID_REORDER_ITEMS:I("reorderfiles")},T=D=>{const C={pond:Ee,...D};delete C.type,h.element.dispatchEvent(new CustomEvent(`FilePond:${D.type}`,{detail:C,bubbles:!0,cancelable:!0,composed:!0}));const j=[];D.hasOwnProperty("error")&&j.push(D.error),D.hasOwnProperty("file")&&j.push(D.file);const $=["type","error","file"];Object.keys(D).filter(se=>!$.includes(se)).forEach(se=>j.push(D[se])),Ee.fire(D.type,...j);const Pe=n.query(`GET_ON${D.type.toUpperCase()}`);Pe&&Pe(...j)},g=D=>{!D.length||D.filter(C=>E[C.type]).forEach(C=>{const j=E[C.type];(Array.isArray(j)?j:[j]).forEach($=>{C.type==="DID_INIT_ITEM"?T($(C.data)):setTimeout(()=>{T($(C.data))},0)})})},O=D=>n.dispatch("SET_OPTIONS",{options:D}),P=D=>n.query("GET_ACTIVE_ITEM",D),x=D=>new Promise((C,j)=>{n.dispatch("REQUEST_ITEM_PREPARE",{query:D,success:$=>{C($)},failure:$=>{j($)}})}),F=(D,C={})=>new Promise((j,$)=>{B([{source:D,options:C}],{index:C.index}).then(Pe=>j(Pe&&Pe[0])).catch($)}),J=D=>D.file&&D.id,A=(D,C)=>(typeof D=="object"&&!J(D)&&!C&&(C=D,D=void 0),n.dispatch("REMOVE_ITEM",{...C,query:D}),n.query("GET_ACTIVE_ITEM",D)===null),B=(...D)=>new Promise((C,j)=>{const $=[],Pe={};if(Vr(D[0]))$.push.apply($,D[0]),Object.assign(Pe,D[1]||{});else{const se=D[D.length-1];typeof se=="object"&&!(se instanceof Blob)&&Object.assign(Pe,D.pop()),$.push(...D)}n.dispatch("ADD_ITEMS",{items:$,index:Pe.index,interactionMethod:rn.API,success:C,failure:j})}),ee=()=>n.query("GET_ACTIVE_ITEMS"),U=D=>new Promise((C,j)=>{n.dispatch("REQUEST_ITEM_PROCESSING",{query:D,success:$=>{C($)},failure:$=>{j($)}})}),te=(...D)=>{const C=Array.isArray(D[0])?D[0]:D,j=C.length?C:ee();return Promise.all(j.map(x))},Se=(...D)=>{const C=Array.isArray(D[0])?D[0]:D;if(!C.length){const j=ee().filter($=>!($.status===ge.IDLE&&$.origin===It.LOCAL)&&$.status!==ge.PROCESSING&&$.status!==ge.PROCESSING_COMPLETE&&$.status!==ge.PROCESSING_REVERT_ERROR);return Promise.all(j.map(U))}return Promise.all(C.map(U))},L=(...D)=>{const C=Array.isArray(D[0])?D[0]:D;let j;typeof C[C.length-1]=="object"?j=C.pop():Array.isArray(D[0])&&(j=D[1]);const $=ee();return C.length?C.map(se=>Vn(se)?$[se]?$[se].id:null:se).filter(se=>se).map(se=>A(se,j)):Promise.all($.map(se=>A(se,j)))},Ee={...Hr(),...p,...yo(n,r),setOptions:O,addFile:F,addFiles:B,getFile:P,processFile:U,prepareFile:x,removeFile:A,moveFile:(D,C)=>n.dispatch("MOVE_ITEM",{query:D,index:C}),getFiles:ee,processFiles:Se,removeFiles:L,prepareFiles:te,sort:D=>n.dispatch("SORT",{compare:D}),browse:()=>{var D=h.element.querySelector("input[type=file]");D&&D.click()},destroy:()=>{Ee.fire("destroy",h.element),n.dispatch("ABORT_ALL"),h._destroy(),window.removeEventListener("resize",u),document.removeEventListener("visibilitychange",i),n.dispatch("DID_DESTROY")},insertBefore:D=>ki(h.element,D),insertAfter:D=>Fi(h.element,D),appendTo:D=>D.appendChild(h.element),replaceElement:D=>{ki(h.element,D),D.parentNode.removeChild(D),t=D},restoreElement:()=>{!t||(Fi(t,h.element),h.element.parentNode.removeChild(h.element),t=null)},isAttachedTo:D=>h.element===D||t===D,element:{get:()=>h.element},status:{get:()=>n.query("GET_STATUS")}};return n.dispatch("DID_INIT"),Gn(Ee)},fs=(e={})=>{const t={};return Ze(Br(),(n,i)=>{t[n]=i[0]}),gd({...t,...e})},Ed=e=>e.charAt(0).toLowerCase()+e.slice(1),yd=e=>ds(e.replace(/^data-/,"")),ps=(e,t)=>{Ze(t,(r,n)=>{Ze(e,(i,a)=>{const s=new RegExp(r);if(!s.test(i)||(delete e[i],n===!1))return;if(Lt(n)){e[n]=a;return}const c=n.group;Tt(n)&&!e[c]&&(e[c]={}),e[c][Ed(i.replace(s,""))]=a}),n.mapping&&ps(e[n.group],n.mapping)})},Id=(e,t={})=>{const r=[];Ze(e.attributes,i=>{r.push(e.attributes[i])});const n=r.filter(i=>i.name).reduce((i,a)=>{const s=mt(e,a.name);return i[yd(a.name)]=s===a.name?!0:s,i},{});return ps(n,t),n},Td=(e,t={})=>{const r={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};Xn("SET_ATTRIBUTE_TO_OPTION_MAP",r);const n={...t},i=Id(e.nodeName==="FIELDSET"?e.querySelector("input[type=file]"):e,r);Object.keys(i).forEach(s=>{Tt(i[s])?(Tt(n[s])||(n[s]={}),Object.assign(n[s],i[s])):n[s]=i[s]}),n.files=(t.files||[]).concat(Array.from(e.querySelectorAll("input:not([type=file])")).map(s=>({source:s.value,options:{type:s.dataset.type}})));const a=fs(n);return e.files&&Array.from(e.files).forEach(s=>{a.addFile(s)}),a.replaceElement(e),a},_d=(...e)=>Ps(e[0])?Td(...e):fs(...e),bd=["fire","_read","_write"],ha=e=>{const t={};return xa(e,t,bd),t},vd=(e,t)=>e.replace(/(?:{([a-zA-Z]+)})/g,(r,n)=>t[n]),Od=e=>{const t=new Blob(["(",e.toString(),")()"],{type:"application/javascript"}),r=URL.createObjectURL(t),n=new Worker(r);return{transfer:(i,a)=>{},post:(i,a,s)=>{const l=Ii();n.onmessage=c=>{c.data.id===l&&a(c.data.message)},n.postMessage({id:l,message:i},s)},terminate:()=>{n.terminate(),URL.revokeObjectURL(r)}}},Rd=e=>new Promise((t,r)=>{const n=new Image;n.onload=()=>{t(n)},n.onerror=i=>{r(i)},n.src=e}),ms=(e,t)=>{const r=e.slice(0,e.size,e.type);return r.lastModifiedDate=e.lastModifiedDate,r.name=t,r},Dd=e=>ms(e,e.name),ga=[],Sd=e=>{if(ga.includes(e))return;ga.push(e);const t=e({addFilter:Ro,utils:{Type:R,forin:Ze,isString:Lt,isFile:$n,toNaturalFileSize:$a,replaceInString:vd,getExtensionFromFilename:jr,getFilenameWithoutExtension:Wa,guesstimateMimeType:is,getFileFromBlob:or,getFilenameFromURL:Sr,createRoute:Ct,createWorker:Od,createView:ct,createItemAPI:kt,loadImage:Rd,copyFile:Dd,renameFile:ms,createBlob:Ua,applyFilterChain:fn,text:at,getNumericAspectRatioFromString:Fa},views:{fileActionButton:ja}});Do(t.options)},wd=()=>Object.prototype.toString.call(window.operamini)==="[object OperaMini]",Md=()=>"Promise"in window,Pd=()=>"slice"in Blob.prototype,Ad=()=>"URL"in window&&"createObjectURL"in window.URL,Ld=()=>"visibilityState"in document,Cd=()=>"performance"in window,Nd=()=>"supports"in(window.CSS||{}),xd=()=>/MSIE|Trident/.test(window.navigator.userAgent),hi=(()=>{const e=Ma()&&!wd()&&Ld()&&Md()&&Pd()&&Ad()&&Cd()&&(Nd()||xd());return()=>e})(),Nn={apps:[]},Gd="filepond",Qn=()=>{};let Ea={},kr=Qn,ii=Qn,ya=Qn,Ia=Qn,gi=Qn,Ta=Qn,_a=Qn;if(hi()){no(()=>{Nn.apps.forEach(r=>r._read())},r=>{Nn.apps.forEach(n=>n._write(r))});const e=()=>{document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:hi,create:kr,destroy:ii,parse:ya,find:Ia,registerPlugin:gi,setOptions:_a}})),document.removeEventListener("DOMContentLoaded",e)};document.readyState!=="loading"?setTimeout(()=>e(),0):document.addEventListener("DOMContentLoaded",e);const t=()=>Ze(Br(),(r,n)=>{Ea[r]=n[1]});Ea={},t(),kr=(...r)=>{const n=_d(...r);return n.on("destroy",ii),Nn.apps.push(n),ha(n)},ii=r=>{const n=Nn.apps.findIndex(i=>i.isAttachedTo(r));return n>=0?(Nn.apps.splice(n,1)[0].restoreElement(),!0):!1},ya=r=>Array.from(r.querySelectorAll(`.${Gd}`)).filter(a=>!Nn.apps.find(s=>s.isAttachedTo(a))).map(a=>kr(a)),Ia=r=>{const n=Nn.apps.find(i=>i.isAttachedTo(r));return n?ha(n):null},gi=(...r)=>{r.forEach(Sd),t()},Ta=()=>{const r={};return Ze(Br(),(n,i)=>{r[n]=i[0]}),r},_a=r=>(Tt(r)&&(Nn.apps.forEach(n=>{n.setOptions(r)}),So(r)),Ta())}/*!
 * react-filepond v7.1.3
 * A handy FilePond adapter component for React
 * 
 * Copyright (c) 2024 PQINA
 * https://pqina.nl/filepond
 * 
 * Licensed under the MIT license.
 */const kd=hi(),Fd=["setOptions","on","off","onOnce","appendTo","insertAfter","insertBefore","isAttachedTo","replaceElement","restoreElement","destroy"];class Bd extends Rs.Component{constructor(t){super(t),this.allowFilesSync=!0}componentDidMount(){if(this._input=this._element.querySelector('input[type="file"]'),this._inputClone=this._input.cloneNode(),!kd)return;const t=Object.assign({},this.props);if(t.onupdatefiles){const r=t.onupdatefiles;t.onupdatefiles=n=>{this.allowFilesSync=!1,r(n)}}this._pond=kr(this._input,t),Object.keys(this._pond).filter(r=>!Fd.includes(r)).forEach(r=>{this[r]=this._pond[r]})}componentWillUnmount(){if(!this._pond)return;const t=document.createElement("div");t.append(this._pond.element),t.id="foo",this._pond.destroy(),this._pond=void 0,this._element.append(this._inputClone)}shouldComponentUpdate(){return this.allowFilesSync?!0:(this.allowFilesSync=!0,!1)}componentDidUpdate(){if(!this._pond)return;const t=Object.assign({},this.props);delete t.onupdatefiles,this._pond.setOptions(t)}render(){const{id:t,name:r,className:n,allowMultiple:i,required:a,captureMethod:s,acceptedFileTypes:l}=this.props;return hn.exports.createElement("div",{className:"filepond--wrapper",ref:c=>this._element=c},hn.exports.createElement("input",{type:"file",name:r,id:t,accept:l,multiple:i,required:a,className:n,capture:s}))}}/*!
 * FilePondPluginFileValidateType 1.2.9
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const hs=({addFilter:e,utils:t})=>{const{Type:r,isString:n,replaceInString:i,guesstimateMimeType:a,getExtensionFromFilename:s,getFilenameFromURL:l}=t,c=(m,p)=>{const I=(/^[^/]+/.exec(m)||[]).pop(),E=p.slice(0,-2);return I===E},d=(m,p)=>m.some(I=>/\*$/.test(I)?c(p,I):I===p),u=m=>{let p="";if(n(m)){const I=l(m),E=s(I);E&&(p=a(E))}else p=m.type;return p},h=(m,p,I)=>{if(p.length===0)return!0;const E=u(m);return I?new Promise((T,g)=>{I(m,E).then(O=>{d(p,O)?T():g()}).catch(g)}):d(p,E)},y=m=>p=>m[p]===null?!1:m[p]||p;return e("SET_ATTRIBUTE_TO_OPTION_MAP",m=>Object.assign(m,{accept:"acceptedFileTypes"})),e("ALLOW_HOPPER_ITEM",(m,{query:p})=>p("GET_ALLOW_FILE_TYPE_VALIDATION")?h(m,p("GET_ACCEPTED_FILE_TYPES")):!0),e("LOAD_FILE",(m,{query:p})=>new Promise((I,E)=>{if(!p("GET_ALLOW_FILE_TYPE_VALIDATION")){I(m);return}const T=p("GET_ACCEPTED_FILE_TYPES"),g=p("GET_FILE_VALIDATE_TYPE_DETECT_TYPE"),O=h(m,T,g),P=()=>{const x=T.map(y(p("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES_MAP"))).filter(J=>J!==!1),F=x.filter((J,A)=>x.indexOf(J)===A);E({status:{main:p("GET_LABEL_FILE_TYPE_NOT_ALLOWED"),sub:i(p("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES"),{allTypes:F.join(", "),allButLastType:F.slice(0,-1).join(", "),lastType:F[F.length-1]})}})};if(typeof O=="boolean")return O?I(m):P();O.then(()=>{I(m)}).catch(P)})),{options:{allowFileTypeValidation:[!0,r.BOOLEAN],acceptedFileTypes:[[],r.ARRAY],labelFileTypeNotAllowed:["File is of invalid type",r.STRING],fileValidateTypeLabelExpectedTypes:["Expects {allButLastType} or {lastType}",r.STRING],fileValidateTypeLabelExpectedTypesMap:[{},r.OBJECT],fileValidateTypeDetectType:[null,r.FUNCTION]}}},Yd=typeof window<"u"&&typeof window.document<"u";Yd&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:hs}));gi(hs);hn.exports.forwardRef((e,t)=>{const{t:r}=wa(),{error:n=!1,isMulti:i=!1,maxFiles:a=1,accept:s=[],server:l,name:c,label:d=r("Drag & Drop your files or Browse"),className:u="",onChange:h}=e;return pn(Bd,{className:nn("dark:bg-bg-form mb-0",u),onupdatefiles:h&&h,allowMultiple:i,maxFiles:a,acceptedFileTypes:s,server:l,name:"licence",labelIdle:d})});var gs={},Es={exports:{}};(function(e,t){(function(r,n){e.exports=n(Ds.exports,hn.exports)})(Ss,function(r,n){function i(E){return E&&typeof E=="object"&&"default"in E?E:{default:E}}var a=i(n);function s(E,T){var g=Object.keys(E);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(E);T&&(O=O.filter(function(P){return Object.getOwnPropertyDescriptor(E,P).enumerable})),g.push.apply(g,O)}return g}function l(E){for(var T=1;T<arguments.length;T++){var g=arguments[T]!=null?arguments[T]:{};T%2?s(Object(g),!0).forEach(function(O){c(E,O,g[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(g)):s(Object(g)).forEach(function(O){Object.defineProperty(E,O,Object.getOwnPropertyDescriptor(g,O))})}return E}function c(E,T,g){return T in E?Object.defineProperty(E,T,{value:g,enumerable:!0,configurable:!0,writable:!0}):E[T]=g,E}function d(E,T){return function(g){if(Array.isArray(g))return g}(E)||function(g,O){var P=g==null?null:typeof Symbol<"u"&&g[Symbol.iterator]||g["@@iterator"];if(P!=null){var x,F,J=[],A=!0,B=!1;try{for(P=P.call(g);!(A=(x=P.next()).done)&&(J.push(x.value),!O||J.length!==O);A=!0);}catch(ee){B=!0,F=ee}finally{try{A||P.return==null||P.return()}finally{if(B)throw F}}return J}}(E,T)||function(g,O){if(!!g){if(typeof g=="string")return u(g,O);var P=Object.prototype.toString.call(g).slice(8,-1);if(P==="Object"&&g.constructor&&(P=g.constructor.name),P==="Map"||P==="Set")return Array.from(g);if(P==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(P))return u(g,O)}}(E,T)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function u(E,T){(T==null||T>E.length)&&(T=E.length);for(var g=0,O=new Array(T);g<T;g++)O[g]=E[g];return O}function h(E,T){var g=E.element,O=E.popper,P=E.position,x=P===void 0?"bottom-center":P,F=E.containerStyle,J=E.containerClassName,A=J===void 0?"":J,B=E.arrow,ee=E.arrowStyle,U=ee===void 0?{}:ee,te=E.arrowClassName,Se=te===void 0?"":te,L=E.fixMainPosition,Ee=E.fixRelativePosition,D=E.offsetY,C=E.offsetX,j=E.animations,$=E.zIndex,Pe=$===void 0?0:$,se=E.popperShadow,_t=E.onChange,St=E.active,st=St===void 0||St,$e=E.portal,oe=E.portalTarget,Oe=typeof window<"u",we=Oe&&oe instanceof HTMLElement,bt=B===!0,Ye=O&&st===!0,ht=n.useRef(),an=n.useRef(),Wt=n.useRef(),We=n.useRef(),et=n.useMemo(function(){return{position:x,fixMainPosition:L,fixRelativePosition:Ee,offsetY:D,offsetX:C,defaultArrow:bt,animations:j,zIndex:Pe,onChange:_t}},[x,L,Ee,D,C,bt,j,_t,Pe]),Tn=n.useCallback(function(){Wt.current&&(Wt.current.style.transition=""),an.current&&(an.current.parentNode.style.transition="")},[]),_n={element:l({display:"inline-block",height:"max-content"},F),arrow:l({visibility:"hidden",left:"0",top:"0",position:"absolute"},U),popper:{position:"absolute",left:"0",top:"0",willChange:"transform",visibility:"hidden",zIndex:Pe}};Oe&&!We.current&&(We.current=document.createElement("div"),We.current.data={portal:$e,isValidPortalTarget:we}),n.useEffect(function(){if($e&&!we){var Fe=We.current;return document.body.appendChild(Fe),function(){document.body.contains(Fe)&&document.body.removeChild(Fe)}}},[$e,we]),n.useEffect(function(){if(!Ye)return Tn(),an.current.parentNode.style.visibility="hidden",void(Wt.current&&(Wt.current.style.visibility="hidden"));function Fe(Ft){Ft&&Ft.type!=="resize"&&!Ft.target.contains(ht.current)||(Ft&&Tn(),y(ht,an,Wt,et,Ft))}return Fe(),document.addEventListener("scroll",Fe,!0),window.addEventListener("resize",Fe),function(){document.removeEventListener("scroll",Fe,!0),window.removeEventListener("resize",Fe)}},[Ye,et,Tn]),n.useEffect(function(){var Fe={portal:$e,isValidPortalTarget:we},Ft=We.current.data;JSON.stringify(Fe)!==JSON.stringify(Ft)&&(We.current.data=Fe,ht.current.refreshPosition())},[$e,we]);var Pn=a.default.createElement(a.default.Fragment,null,function(){if(!B||!Ye)return null;var Fe=a.default.createElement("div",{ref:Wt,style:_n.arrow}),Ft=n.isValidElement(B)?{children:B}:{className:"ep-arrow ".concat(se?"ep-shadow":""," ").concat(Se)};return n.cloneElement(Fe,Ft)}(),a.default.createElement("div",{className:se?"ep-popper-shadow":"",style:_n.popper},a.default.createElement("div",{ref:an},O)));return a.default.createElement("div",{ref:function(Fe){if(Fe&&(Fe.removeTransition=Tn,Fe.refreshPosition=function(){return setTimeout(function(){return y(ht,an,Wt,et,{})},10)}),ht.current=Fe,T instanceof Function)return T(Fe);T&&(T.current=Fe)},className:A,style:_n.element},g,$e&&Oe?r.createPortal(Pn,we?oe:We.current):Pn)}function y(E,T,g,O,P){var x=O.position,F=O.fixMainPosition,J=O.fixRelativePosition,A=O.offsetY,B=A===void 0?0:A,ee=O.offsetX,U=ee===void 0?0:ee,te=O.defaultArrow,Se=O.animations,L=Se===void 0?[]:Se,Ee=O.zIndex,D=O.onChange;if(E.current&&T.current){var C,j,$,Pe,se=(j=window.pageXOffset!==void 0,$=(document.compatMode||"")==="CSS1Compat",{scrollLeft:j?window.pageXOffset:$?document.documentElement.scrollLeft:document.body.scrollLeft,scrollTop:j?window.pageYOffset:$?document.documentElement.scrollTop:document.body.scrollTop}),_t=se.scrollLeft,St=se.scrollTop,st=m(E.current,_t,St),$e=st.top,oe=st.left,Oe=st.height,we=st.width,bt=st.right,Ye=st.bottom,ht=m(T.current,_t,St),an=ht.top,Wt=ht.left,We=ht.height,et=ht.width,Tn=document.documentElement,_n=Tn.clientHeight,Pn=Tn.clientWidth,Fe=T.current.parentNode,Ft=function(ce){if(!ce)return[0,0];var re=d((ce.style.transform.match(/translate\((.*?)px,\s(.*?)px\)/)||[]).map(function(he){return Number(he)}),3),X=re[1],ae=X===void 0?0:X,pe=re[2];return[ae,pe===void 0?0:pe]}(Fe),wr=d(Ft,2),Qr=wr[0],cr=wr[1],dr=function(ce){var re=d(ce.split("-"),2),X=re[0],ae=X===void 0?"bottom":X,pe=re[1],he=pe===void 0?"center":pe;ae==="auto"&&(ae="bottom"),he==="auto"&&(he="center");var dt=ae==="top"||ae==="bottom",Ke=ae==="left"||ae==="right";return Ke&&(he==="start"&&(he="top"),he==="end"&&(he="bottom")),dt&&(he==="start"&&(he="left"),he==="end"&&(he="right")),[ae,he,dt,Ke]}(x),o=d(dr,4),f=o[0],_=o[1],v=o[2],w=o[3],S=f,V=function(ce,re){return"translate(".concat(ce,"px, ").concat(re,"px)")},q=we-et,W=Oe-We,H=_==="left"?0:_==="right"?q:q/2,N=q-H,Q=_==="top"?0:_==="bottom"?W:W/2,G=W-Q,ie=oe-Wt+Qr,ye=$e-an+cr,fe=0,de=0,Ie=p(E.current),Le=[],Ae=g.current,xe=m(Ae,_t,St)||{},Ce=xe.height,ue=Ce===void 0?0:Ce,Be=xe.width,Te=Be===void 0?0:Be,K=ie,z=ye,Z={top:"bottom",bottom:"top",left:"right",right:"left"};for(v&&(ie+=H,ye+=f==="top"?-We:Oe,te&&(ue=11,Te=20)),w&&(ie+=f==="left"?-et:we,ye+=Q,te&&(ue=20,Te=11));Ie;)Le.push(Ie),me(m(Ie,_t,St)),Ie=p(Ie.parentNode);me({top:St,bottom:St+_n,left:_t,right:_t+Pn,height:_n,width:Pn}),v&&(ye+=S==="bottom"?B:-B),w&&(ie+=S==="right"?U:-U),ie-=fe,ye-=de,C=Z[S],Ae&&(v&&((Pe=we<et)?K+=we/2:K=ie+et/2,K-=Te/2,S==="bottom"&&(z=ye,ye+=ue),S==="top"&&(z=(ye-=ue)+We),fe<0&&fe-H<0&&(Pe?K+=(H-fe)/2:we-H+fe<et&&(K+=(we-H+fe-et)/2)),fe>0&&fe+N>0&&(Pe?K-=(fe+N)/2:we-fe-N<et&&(K-=(we-fe-N-et)/2))),w&&((Pe=Oe<We)?z+=Oe/2:z=ye+We/2,z-=ue/2,S==="left"&&(K=(ie-=Te)+et),S==="right"&&(K=ie,ie+=Te),de<0&&de-Q<0&&(Pe?z+=(Q-de)/2:Oe-Q+de<We&&(z+=(Oe-Q+de-We)/2)),de>0&&de+G>0&&(Pe?z-=(de+G)/2:Oe-de-G<We&&(z-=(Oe-de-G-We)/2))),Ae.setAttribute("direction",C),Ae.style.height=ue+"px",Ae.style.width=Te+"px",Ae.style.transform=V(K,z),Ae.style.visibility="visible",Ae.style.zIndex=Ee+1),Fe.style.transform=V(ie,ye);var ne={popper:{top:ye,bottom:ye+We,left:ie,right:ie+et,height:We,width:et},element:{top:$e,bottom:Ye,left:oe,right:bt,height:Oe,width:we},arrow:{top:z,bottom:z+ue,left:K,right:K+Te,height:ue,width:Te,direction:C},position:S+"-"+(fe!==0?"auto":_),scroll:{scrollLeft:_t,scrollTop:St},scrollableParents:Le,event:P};P||L.forEach(function(ce){ce({popper:Fe,arrow:Ae,data:l(l({},ne),{},{getTransform:V,mirror:Z})})}),Fe.style.visibility="visible",typeof D=="function"&&D(ne)}function me(ce){var re=ce.top,X=ce.bottom,ae=ce.left,pe=ce.right,he=ce.height,dt=ce.width;if(v){var Ke=Math.round($e-re+Oe/2),Ht=Math.round(he/2);F||($e-(We+B+ue)<re&&Ke<=Ht&&S==="top"?(ye+=We+Oe,S="bottom"):Ye+We+B+ue>he+re&&Ke>=Ht&&S==="bottom"&&(ye-=We+Oe,S="top")),J||(oe+H<ae&&(fe=I(bt-Te>ae?oe+H-ae:-we+H+Te,fe)),bt-N>pe&&(fe=I(oe+Te<pe?bt-N-pe:we-N-Te,fe)))}if(w){var ve=Math.round(oe-ae+we/2),De=Math.round(dt/2);F||(oe-(et+U+Te)<ae&&ve<De&&S==="left"?(ie+=we+et,S="right"):bt+et+U+Te>pe&&ve>De&&S==="right"&&(ie-=we+et,S="left")),J||($e+Q<re&&(de=I(Ye-ue>re?$e+Q-re:-Oe+Q+ue,de)),Ye-G>X&&(de=I($e+ue<X?Ye-G-X:Oe-G-ue,de)))}}}function m(E,T,g){if(E){var O=E.getBoundingClientRect(),P=O.top,x=O.left,F=O.width,J=O.height,A=P+g,B=x+T;return{top:A,bottom:A+J,left:B,right:B+F,width:F,height:J}}}function p(E){if(E&&E.tagName!=="HTML"){var T=window.getComputedStyle(E),g=function(O){return["auto","scroll"].includes(O)};return E.clientHeight<E.scrollHeight&&g(T.overflowX)||E.clientWidth<E.scrollWidth&&g(T.overflowY)?E:p(E.parentNode)}}function I(E,T){return Math.round(Math.abs(E))>Math.round(Math.abs(T))?E:T}return n.forwardRef(h)})})(Es);function sr(e){return sr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sr(e)}function Ud(e){return function(t){if(Array.isArray(t))return Ei(t)}(e)||ys(e)||Xr(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ys(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ba(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Xr(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,s=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var c=r.next();return s=c.done,c},e:function(c){l=!0,a=c},f:function(){try{s||r.return==null||r.return()}finally{if(l)throw a}}}}function va(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Oa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?va(Object(r),!0).forEach(function(n){Vd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):va(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vd(e,t,r){return(t=_s(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yn(e,t){return Ts(e)||function(r,n){var i=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(i!=null){var a,s,l,c,d=[],u=!0,h=!1;try{if(l=(i=i.call(r)).next,n===0){if(Object(i)!==i)return;u=!1}else for(;!(u=(a=l.call(i)).done)&&(d.push(a.value),d.length!==n);u=!0);}catch(y){h=!0,s=y}finally{try{if(!u&&i.return!=null&&(c=i.return(),Object(c)!==c))return}finally{if(h)throw s}}return d}}(e,t)||Xr(e,t)||Is()}function Is(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xr(e,t){if(e){if(typeof e=="string")return Ei(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ei(e,t):void 0}}function Ei(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ts(e){if(Array.isArray(e))return e}function qd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_s(n.key),n)}}function _s(e){var t=function(r,n){if(sr(r)!=="object"||r===null)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var a=i.call(r,n||"default");if(sr(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}(e,"string");return sr(t)==="symbol"?t:String(t)}function ft(e,t,r){(function(n,i){if(i.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,r)}function b(e,t){return function(r,n){return n.get?n.get.call(r):n.value}(e,bs(e,t,"get"))}function k(e,t,r){return function(n,i,a){if(i.set)i.set.call(n,a);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=a}}(e,bs(e,t,"set"),r),r}function bs(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function Wd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Hd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ra={name:"gregorian_en",months:[["January","Jan"],["February","Feb"],["March","Mar"],["April","Apr"],["May","May"],["June","Jun"],["July","Jul"],["August","Aug"],["September","Sep"],["October","Oct"],["November","Nov"],["December","Dec"]],weekDays:[["Saturday","Sat"],["Sunday","Sun"],["Monday","Mon"],["Tuesday","Tue"],["Wednesday","Wed"],["Thursday","Thu"],["Friday","Fri"]],digits:["0","1","2","3","4","5","6","7","8","9"],meridiems:[["AM","am"],["PM","pm"]]},xr={name:"gregorian",startYear:1,yearLength:365,epoch:1721424,century:20,weekStartDayIndex:1,getMonthLengths:function(e){return[31,e?29:28,31,30,31,30,31,31,30,31,30,31]},isLeap:function(e){return e%4==0&&e%100!=0||e%400==0},getLeaps:function(e){if(e!==0){for(var t=e>0?1:-1,r=[];e>0?t<=e:e<=t;)this.isLeap(t)&&r.push(t),e>0?t++:t--;return r}},getDayOfYear:function(e){for(var t=e.year,r=e.month,n=e.day,i=this.getMonthLengths(this.isLeap(t)),a=0;a<r.index;a++)n+=i[a];return n},getAllDays:function(e){var t=e.year;return this.yearLength*(t-1)+this.leapsLength(t)+this.getDayOfYear(e)},leapsLength:function(e){return((e-1)/4|0)+(-(e-1)/100|0)+((e-1)/400|0)},guessYear:function(e,t){return~~(e/365.24)+(t>0?1:-1)}};function xn(e){return e&&e.constructor===Object}function Kt(e){if(!isNaN(e))return parseInt(e)}function Un(e){return Array.isArray(e)}function Zn(e,t,r){return e===void 0||e<t||e>r}var pt=new WeakMap,Xe=new WeakMap,je=new WeakMap,Jt=new WeakMap,Rn=new WeakMap,Dn=new WeakMap,rt=new WeakMap,Sn=new WeakMap,vt=new WeakMap,Qe=new WeakMap,er=new WeakMap,Zt=new WeakMap,Da=new WeakMap,tr=new WeakMap,nr=new WeakMap,Sa=new WeakMap,ai=new WeakMap,en=new WeakMap,si=new WeakMap,jd=function(){function e(n){var i=this;(function(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,e),ft(this,pt,{writable:!0,value:void 0}),ft(this,Xe,{writable:!0,value:void 0}),ft(this,je,{writable:!0,value:void 0}),ft(this,Jt,{writable:!0,value:void 0}),ft(this,Rn,{writable:!0,value:void 0}),ft(this,Dn,{writable:!0,value:void 0}),ft(this,rt,{writable:!0,value:void 0}),ft(this,Sn,{writable:!0,value:void 0}),ft(this,vt,{writable:!0,value:Ra}),ft(this,Qe,{writable:!0,value:xr}),ft(this,er,{writable:!0,value:!1}),ft(this,Zt,{writable:!0,value:{}}),ft(this,Da,{writable:!0,value:/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d\.\d\d\dZ$/}),ft(this,tr,{writable:!0,value:[]}),ft(this,nr,{writable:!0,value:!0}),ft(this,Sa,{writable:!0,value:function(c,d){switch(c){case"YYYY":return["year",d];case"YY":return["year","".concat(b(i,Qe).century).concat(d)];case"MMMM":case"MMM":return["month",i.months.findIndex(function(h){var y=h.name,m=h.shortName;return new RegExp(d,"i").test(y+m)})+1];case"MM":case"M":return["month",d];case"DD":case"D":return["day",d];case"HH":case"H":return["hour",d];case"hh":case"h":var u=Kt(d);return["hour",u>12?u-12:u];case"mm":case"m":return["minute",d];case"ss":case"s":return["second",d];case"SSS":case"SS":case"S":return["millisecond",d];default:return[]}}}),ft(this,ai,{writable:!0,value:function(){return b(i,pt)===0&&b(i,Qe).startYear!==0}}),ft(this,en,{writable:!0,value:function(){if(b(i,nr)&&i.isValid){var c=Math.floor,d=function(I,E){return[(O=I,(O<0?-1:1)*Math.abs(c(I/E))),(T=I,g=E,(T<0&&c(T%g)!==-0?g:0)+c(I%E))];var T,g,O},u=function(){if(b(i,Xe)<0||b(i,Xe)>11){var I=b(i,Xe)<0?-1:1,E=Yn(d(b(i,Xe),12),2),T=E[0],g=E[1];k(i,pt,b(i,pt)+T),k(i,Xe,g),b(i,ai).call(i)&&k(i,pt,I)}};for(k(i,nr,!1),[["millisecond","second",1e3],["second","minute",60],["minute","hour",60],["hour","day",24]].forEach(function(I){var E=Yn(I,3),T=E[0],g=E[1],O=E[2];if(function(J,A){return J>=A||J<0}(i[T],O)){var P=Yn(d(i[T],O),2),x=P[0],F=P[1];i[g]+=x,i[T]=F}}),k(i,nr,!0),u();b(i,je)<-b(i,Qe).yearLength||b(i,je)>b(i,Qe).yearLength;){if(b(i,Xe)>0){for(var h=b(i,Qe).getMonthLengths(i.isLeap),y=0;y<b(i,Xe);y++)k(i,je,b(i,je)+h[y]);k(i,Xe,0)}var m=i.isLeap?i.calendar.yearLength+1:i.calendar.yearLength;k(i,je,b(i,je)+m*(b(i,je)<0?1:-1)),k(i,pt,b(i,pt)+(b(i,je)<0?-1:1))}for(;;){var p;for(u();b(i,je)<1;)k(i,Xe,b(i,Xe)-1),u(),k(i,je,i.month.length+b(i,je));if(b(i,je)<=i.month.length||isNaN(b(i,je)))break;k(i,je,b(i,je)-i.month.length),k(i,Xe,(p=b(i,Xe),p++,p))}b(i,Jt)||k(i,Jt,0),b(i,Rn)||k(i,Rn,0),b(i,Dn)||k(i,Dn,0),b(i,rt)||k(i,rt,0)}}}),ft(this,si,{writable:!0,value:function(){return(b(i,Zt).weekDays||b(i,vt).weekDays).map(function(c,d){var u=Yn(c,2),h=u[0],y=u[1],m=d-i.weekStartDayIndex;return m<0&&(m+=7),{name:h,shortName:y,index:m,number:m+1,toString:function(){return this.number.toString()},valueOf:function(){return this.number}}})}});var a=xn(n)?Oa({},n):n,s=!0;if(a&&typeof a!="boolean"||(a={date:new Date}),xn(a)||(a={date:a}),Object.keys(a).length!==0){for(var l in xn(a.calendar)&&k(this,Qe,a.calendar),xn(a.locale)&&k(this,vt,a.locale),isNaN(a.year)&&isNaN(a.month)&&isNaN(a.day)&&!a.date&&(a.date=new Date),a.date&&(typeof a.date=="string"&&a.format&&k(this,Sn,a.format),this.setDate(a.date),a.calendar&&this.convert(a.calendar),s=!1),delete a.calendar,delete a.locale,delete a.date,a)this.set(l,a[l]);b(this,ai).call(this)&&k(this,pt,-1),s&&b(this,en).call(this)}}var t,r;return t=e,r=[{key:"parse",value:function(n){if(!n)return this;var i,a,s=b(this,Sn),l=b(this,vt).digits,c=ba(l);try{for(c.s();!(i=c.n()).done;){var d=i.value;n=n.replace(new RegExp(d,"g"),l.indexOf(d))}}catch(U){c.e(U)}finally{c.f()}if(s)for(var u=s.split(/[^\w\u0600-\u06FF]/),h=n.split(/[^\w\u0600-\u06FF]/),y=0;y<u.length;y++)this.set.apply(this,Ud(b(this,Sa).call(this,u[y],h[y])));else{var m=n.match(/(-?\d{2,4})?\W?([A-z]{3,9}|\d{1,2})?\W?(\d{1,2})?\W?(\d{1,2})?\W?(\d{1,2})?\W?(\d{1,2})?\W?(\d{1,3})?\W?(am|pm)?/),p=(Ts(a=m)||ys(a)||Xr(a)||Is()).slice(1),I=p[1];I&&(I=/\d+/.test(I)?Kt(I)-1:this.months.findIndex(function(U){return new RegExp(I,"i").test(U.name)})),p[1]=I;var E=Yn(p.map(Kt),7),T=E[0],g=E[1],O=E[2],P=E[3],x=E[4],F=E[5],J=E[6];k(this,pt,T),k(this,Xe,g),k(this,je,O),k(this,Jt,P),k(this,Rn,x),k(this,Dn,F),k(this,rt,J)}var A=Yn(b(this,vt).meridiems[1],2),B=A[0],ee=A[1];return b(this,Jt)<12&&(n.includes(B)||n.includes(ee))&&k(this,Jt,b(this,Jt)+12),b(this,en).call(this),this}},{key:"convert",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:xr,i=arguments.length>1?arguments[1]:void 0;if(xn(i)&&k(this,vt,i),!xn(n)||n.name===b(this,Qe).name)return this;var a=this.toJulianDay()-n.epoch,s=new e({calendar:n,year:n.guessYear(a,b(this,pt)),month:1,day:1});return s.day+=a-s.toDays(),k(this,pt,s.year),k(this,Xe,s.month.index),k(this,je,s.day),k(this,Qe,n),this}},{key:"format",value:function(n,i){if(!this.isValid||n&&typeof n!="string")return"";n||(n=b(this,Sn)||"YYYY/MM/DD"),Un(i)||(i=[]),i=(i=i.concat(b(this,tr))).filter(function(y){return typeof y=="string"||(console.warn("type of all items in the ignore list must be string, found",sr(y)),!1)}).map(function(y){return y.replace(/[*/+\-()[\]{}\s$^]/g,function(m){return"\\"+m})});var a,s=new RegExp("".concat(i.join("|")).concat(i.length>0?"|":"","YYYY|YY|MMMM|MMM|MM|M|WW|W|DDDD|DDD|DD|D|dddd|ddd|dd|d|HH|H|hh|h|mm|m|ss|s|SSS|SS|S|A|a|."),"g"),l="",c=ba(n.match(s)||[]);try{for(c.s();!(a=c.n()).done;){var d=a.value,u=this.getValue(d);l+=i.includes(d)?d:u===0?u:u||d}}catch(y){c.e(y)}finally{c.f()}var h=this.digits;return l.replace(/[0-9]/g,function(y){return h[y]})}},{key:"getProperty",value:function(n){return this.getValue(n)}},{key:"getValue",value:function(n){var i=function(a){return a<10?"0"+a:a};switch(n){case"YYYY":return this.year;case"YY":return this.year.toString().substring(2,4);case"MMMM":return this.month.name;case"MMM":return this.month.shortName;case"MM":return i(this.month.number);case"M":return this.month.number;case"WW":return i(this.weekOfYear);case"W":return this.weekOfYear;case"DDDD":case"DDD":return this.dayOfYear;case"DD":return i(this.day);case"D":return this.day;case"HH":return i(this.hour);case"H":return this.hour;case"dddd":return this.weekDay.name;case"ddd":return this.weekDay.shortName;case"dd":return i(this.weekDay.number);case"d":return this.weekDay.number;case"hh":return i(this.hour>12?this.hour-12:this.hour||12);case"h":return this.hour>12?this.hour-12:this.hour||12;case"mm":return i(this.minute);case"m":return this.minute;case"ss":return i(this.second);case"s":return this.second;case"SSS":return b(this,rt)<10?"00".concat(b(this,rt)):b(this,rt)<100?"0".concat(b(this,rt)):b(this,rt);case"SS":return b(this,rt)<10?"00":b(this,rt)<100?("0"+b(this,rt)).substring(2,0):b(this,rt).toString().substring(0,2);case"S":return b(this,rt)<10||b(this,rt)<100?"0":b(this,rt).toString().substring(0,1);case"a":return this.hour>=12?b(this,vt).meridiems[1][1]:b(this,vt).meridiems[0][1];case"A":return this.hour>=12?b(this,vt).meridiems[1][0]:b(this,vt).meridiems[0][0];default:return""}}},{key:"setYear",value:function(n){return this.year=n,this}},{key:"setMonths",value:function(n){return this.months=n,this}},{key:"setMonth",value:function(n){return this.month=n,this}},{key:"setWeekDays",value:function(n){return this.weekDays=n,this}},{key:"setDigits",value:function(n){return this.digits=n,this}},{key:"setDay",value:function(n){return this.day=n,this}},{key:"setHour",value:function(n){return this.hour=n,this}},{key:"setMinute",value:function(n){return this.minute=n,this}},{key:"setSecond",value:function(n){return this.second=n,this}},{key:"setMillisecond",value:function(n){return this.millisecond=n,this}},{key:"setFormat",value:function(n){return k(this,Sn,n),this}},{key:"setLocale",value:function(n){return this.locale=n,this}},{key:"setCalendar",value:function(n){return this.calendar=n,this}},{key:"setDate",value:function(n){if(typeof n=="string"){if(!b(this,Da).test(n))return this.parse(n);n=new Date(n)}return typeof n=="number"&&(n=new Date(n)),n instanceof Date&&(k(this,Qe,xr),k(this,pt,n.getFullYear()),k(this,Xe,n.getMonth()),k(this,je,n.getDate()),k(this,Jt,n.getHours()),k(this,Rn,n.getMinutes()),k(this,Dn,n.getSeconds()),k(this,rt,n.getMilliseconds()),k(this,er,!1)),n instanceof e&&(k(this,pt,n.year),k(this,Xe,n.month.index),k(this,je,n.day),k(this,Jt,n.hour),k(this,Rn,n.minute),k(this,Dn,n.second),k(this,rt,n.millisecond),k(this,vt,n.locale),k(this,Sn,n._format),k(this,Qe,n.calendar),k(this,er,n.isUTC),k(this,tr,n.ignoreList),k(this,Zt,n.custom)),this}},{key:"setIgnoreList",value:function(n){return this.ignoreList=n,this}},{key:"set",value:function(n,i){if(n==null)return this;if(xn(n)){var a=Oa({},n);for(var s in a.date&&(this.setDate(a.date),delete a.date),a.calendar&&(this.convert(a.calendar),delete a.calendar),a.locale&&(this.setLocale(a.locale),delete a.locale),k(this,nr,!1),a)this.set(s,a[s]);return k(this,nr,!0),b(this,en).call(this),this}n==="format"&&(n="_format");try{this[n]=i}catch{}return this}},{key:"add",value:function(n,i){if(!(n=Kt(n))||!i)return this;switch(i){case"years":case"y":i="year";break;case"months":case"M":i="month";break;case"days":case"d":i="day";break;case"hours":case"h":i="hour";break;case"minutes":case"m":i="minute";break;case"seconds":case"s":i="second";break;case"milliseconds":case"ms":i="millisecond"}return this[i]+=n,this}},{key:"subtract",value:function(n,i){return this.add(-n,i)}},{key:"toFirstOfYear",value:function(){return this.month=1,this.day=1,this}},{key:"toLastOfYear",value:function(){return this.day>=29&&(this.day=29),this.month=12,this.toLastOfMonth(),this}},{key:"toFirstOfMonth",value:function(){return k(this,je,1),this}},{key:"toLastOfMonth",value:function(){return k(this,je,0),k(this,Xe,b(this,Xe)+1),b(this,en).call(this),this}},{key:"toFirstOfWeek",value:function(){return this.day-=this.weekDay.index,this}},{key:"toLastOfWeek",value:function(){return this.day+=6-this.weekDay.index,this}},{key:"toFirstWeekOfYear",value:function(){return this.toFirstOfYear(),this.weekDay.index===0?this:this.toLastOfWeek().setDay(this.day+1)}},{key:"toLastWeekOfYear",value:function(){return this.toLastOfYear().toFirstOfWeek()}},{key:"toString",value:function(){return this.format()}},{key:"toDate",value:function(){var n=new e(this);return b(this,Qe).name!=="gregorian"&&n.convert(xr),new Date(n.year,n.month.index,n.day,n.hour,n.minute,n.second,n.millisecond)}},{key:"toUTC",value:function(){return b(this,er)||(this.minute+=this.toDate().getTimezoneOffset(),k(this,er,!0)),this}},{key:"toUnix",value:function(){return this.unix}},{key:"toJulianDay",value:function(){return this.toDays()+b(this,Qe).epoch}},{key:"toObject",value:function(){return{year:b(this,pt),month:this.month,day:b(this,je),weekDay:this.weekDay,hour:b(this,Jt),minute:b(this,Rn),second:b(this,Dn),millisecond:b(this,rt),weekOfYear:this.weekOfYear,dayOfYear:this.dayOfYear,daysLeft:this.daysLeft,calendar:b(this,Qe),locale:b(this,vt),format:b(this,Sn)||"YYYY/MM/DD",ignoreList:b(this,tr)}}},{key:"toJSON",value:function(){return this.valueOf()}},{key:"valueOf",value:function(){return this.toDate().valueOf()}},{key:"toDays",value:function(){if(this.isValid)return b(this,Qe).getAllDays(this)}},{key:"dayOfBeginning",get:function(){return this.toDays()}},{key:"dayOfYear",get:function(){if(this.isValid)return b(this,Qe).getDayOfYear(this)}},{key:"weekOfYear",get:function(){if(this.isValid)return 1+~~(this.dayOfYear/7)}},{key:"daysLeft",get:function(){if(this.isValid){var n=b(this,Qe).yearLength;return(this.isLeap?n+1:n)-this.dayOfYear}}},{key:"year",get:function(){return b(this,pt)},set:function(n){k(this,pt,Kt(n)),b(this,en).call(this)}},{key:"month",get:function(){return this.months[b(this,Xe)]||{}},set:function(n){var i;n=(i=Kt(n.valueOf())-1)!==null&&i!==void 0?i:void 0,k(this,Xe,n),Zn(n,0,11)&&b(this,en).call(this)}},{key:"monthIndex",get:function(){return b(this,Xe)}},{key:"day",get:function(){return b(this,je)},set:function(n){n=Kt(n),k(this,je,n),Zn(n,1,28)&&b(this,en).call(this)}},{key:"weekDay",get:function(){if(!this.isValid)return{};var n=(this.toJulianDay()+3)%7;return b(this,si).call(this)[n]}},{key:"hour",get:function(){return b(this,Jt)},set:function(n){n=Kt(n),k(this,Jt,n),Zn(n,0,23)&&b(this,en).call(this)}},{key:"minute",get:function(){return b(this,Rn)},set:function(n){n=Kt(n),k(this,Rn,n),Zn(n,0,59)&&b(this,en).call(this)}},{key:"second",get:function(){return b(this,Dn)},set:function(n){n=Kt(n),k(this,Dn,n),Zn(n,0,59)&&b(this,en).call(this)}},{key:"millisecond",get:function(){return b(this,rt)},set:function(n){n=Kt(n),k(this,rt,n),Zn(n,0,999)&&b(this,en).call(this)}},{key:"months",get:function(){var n=b(this,Qe).getMonthLengths(this.isLeap),i=(b(this,Zt).months||b(this,vt).months).map(function(a,s){var l=Yn(a,2);return{name:l[0],shortName:l[1],length:n[s],index:s,number:s+1,toString:function(){return this.number.toString()},valueOf:function(){return this.number}}});return i},set:function(n){if(!n)return delete b(this,Zt).months;Un(n)&&n.length===12&&n.every(function(i){return Un(i)&&i.length===2&&i.every(function(a){return typeof a=="string"})})&&(b(this,Zt).months=n)}},{key:"weekDays",get:function(){return b(this,si).call(this).sort(function(n,i){return n.index-i.index})},set:function(n){if(!n)return delete b(this,Zt).weekDays;Un(n)&&n.length===7&&n.every(function(i){return Un(i)&&i.length===2&&i.every(function(a){return typeof a=="string"})})&&(b(this,Zt).weekDays=n)}},{key:"leaps",get:function(){return b(this,Qe).getLeaps(b(this,pt))}},{key:"calendar",get:function(){return b(this,Qe)},set:function(n){this.convert(n)}},{key:"locale",get:function(){return b(this,vt)},set:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ra;xn(n)&&k(this,vt,n)}},{key:"custom",get:function(){return b(this,Zt)}},{key:"meridiems",get:function(){return b(this,vt).meridiems}},{key:"digits",get:function(){return b(this,Zt).digits||b(this,vt).digits},set:function(n){if(!n)return delete b(this,Zt).digits;Un(n)&&n.length===10&&(b(this,Zt).digits=n)}},{key:"_format",get:function(){return b(this,Sn)},set:function(n){typeof n=="string"&&k(this,Sn,n)}},{key:"isLeap",get:function(){return b(this,Qe).isLeap(b(this,pt))}},{key:"isValid",get:function(){return!isNaN(b(this,pt))&&!isNaN(b(this,Xe))&&!isNaN(b(this,je))}},{key:"isUTC",get:function(){return b(this,er)}},{key:"unix",get:function(){return(this.valueOf()-this.millisecond)/1e3}},{key:"ignoreList",get:function(){return b(this,tr)},set:function(n){Un(n)&&k(this,tr,n)}},{key:"weekStartDayIndex",get:function(){return b(this,Qe).weekStartDayIndex},set:function(n){(n=Kt(n))!==void 0&&(b(this,Qe).weekStartDayIndex=Math.abs(n)%7)}},{key:"date",set:function(n){this.setDate(n)}}],r&&qd(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),$d=Wd(Hd(jd));const zd=Object.freeze(Object.defineProperty({__proto__:null,default:$d},Symbol.toStringTag,{value:"Module"})),Xd=ws(zd);(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=hn.exports,r=Es.exports,n=Xd;function i(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var a=i(t),s=i(r),l=i(n);function c(o,f){var _=Object.keys(o);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(o);f&&(v=v.filter(function(w){return Object.getOwnPropertyDescriptor(o,w).enumerable})),_.push.apply(_,v)}return _}function d(o){for(var f=1;f<arguments.length;f++){var _=arguments[f]!=null?arguments[f]:{};f%2?c(Object(_),!0).forEach(function(v){u(o,v,_[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(_)):c(Object(_)).forEach(function(v){Object.defineProperty(o,v,Object.getOwnPropertyDescriptor(_,v))})}return o}function u(o,f,_){return(f=function(v){var w=function(S,V){if(typeof S!="object"||S===null)return S;var q=S[Symbol.toPrimitive];if(q!==void 0){var W=q.call(S,V||"default");if(typeof W!="object")return W;throw new TypeError("@@toPrimitive must return a primitive value.")}return(V==="string"?String:Number)(S)}(v,"string");return typeof w=="symbol"?w:String(w)}(f))in o?Object.defineProperty(o,f,{value:_,enumerable:!0,configurable:!0,writable:!0}):o[f]=_,o}function h(){return h=Object.assign?Object.assign.bind():function(o){for(var f=1;f<arguments.length;f++){var _=arguments[f];for(var v in _)Object.prototype.hasOwnProperty.call(_,v)&&(o[v]=_[v])}return o},h.apply(this,arguments)}function y(o,f){if(o==null)return{};var _,v,w=function(V,q){if(V==null)return{};var W,H,N={},Q=Object.keys(V);for(H=0;H<Q.length;H++)W=Q[H],q.indexOf(W)>=0||(N[W]=V[W]);return N}(o,f);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(o);for(v=0;v<S.length;v++)_=S[v],f.indexOf(_)>=0||Object.prototype.propertyIsEnumerable.call(o,_)&&(w[_]=o[_])}return w}function m(o,f){return function(_){if(Array.isArray(_))return _}(o)||function(_,v){var w=_==null?null:typeof Symbol<"u"&&_[Symbol.iterator]||_["@@iterator"];if(w!=null){var S,V,q,W,H=[],N=!0,Q=!1;try{if(q=(w=w.call(_)).next,v===0){if(Object(w)!==w)return;N=!1}else for(;!(N=(S=q.call(w)).done)&&(H.push(S.value),H.length!==v);N=!0);}catch(G){Q=!0,V=G}finally{try{if(!N&&w.return!=null&&(W=w.return(),Object(W)!==W))return}finally{if(Q)throw V}}return H}}(o,f)||I(o,f)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function p(o){return function(f){if(Array.isArray(f))return E(f)}(o)||function(f){if(typeof Symbol<"u"&&f[Symbol.iterator]!=null||f["@@iterator"]!=null)return Array.from(f)}(o)||I(o)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function I(o,f){if(o){if(typeof o=="string")return E(o,f);var _=Object.prototype.toString.call(o).slice(8,-1);return _==="Object"&&o.constructor&&(_=o.constructor.name),_==="Map"||_==="Set"?Array.from(o):_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_)?E(o,f):void 0}}function E(o,f){(f==null||f>o.length)&&(f=o.length);for(var _=0,v=new Array(f);_<f;_++)v[_]=o[_];return v}function T(o,f){var _=typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(!_){if(Array.isArray(o)||(_=I(o))||f&&o&&typeof o.length=="number"){_&&(o=_);var v=0,w=function(){};return{s:w,n:function(){return v>=o.length?{done:!0}:{done:!1,value:o[v++]}},e:function(W){throw W},f:w}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var S,V=!0,q=!1;return{s:function(){_=_.call(o)},n:function(){var W=_.next();return V=W.done,W},e:function(W){q=!0,S=W},f:function(){try{V||_.return==null||_.return()}finally{if(q)throw S}}}}function g(o){return Array.isArray(o)}function O(o){var f=o.state.date,_=f.calendar,v=f.locale,w=o.customWeekDays,S=o.weekStartDayIndex,V=o.displayWeekNumbers,q=o.weekNumber,W=t.useMemo(function(){var H=w;return g(H)&&H.length>=7?(H.length=7,H=H.map(function(N){return g(N)&N.length>1?N=N[1]:g(N)&&(N=N[0]),N})):H=new l.default({year:1,calendar:_,locale:v}).weekDays.map(function(N){return N.shortName}),H},[_,v,w]);return W=p(W).slice(S).concat(p(W).splice(0,S)),a.default.createElement("div",{className:"rmdp-week"},V&&a.default.createElement("div",{className:"rmdp-week-day"},q),W.map(function(H,N){return a.default.createElement("div",{key:N,className:"rmdp-week-day"},H)}))}function P(o,f){var _=arguments.length>2&&arguments[2]!==void 0&&arguments[2],v=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(!o||!f)return!1;if(o.year===f.year){if(v)return!0;if(o.monthIndex===f.monthIndex)return!!_||o.day===f.day}}function x(o){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"YYYY/MM/DD";return o.format(f)}function F(o,f,_){var v=_.multiple,w=_.range,S=_.selectedDate,V=_.onlyMonthPicker,q=_.onlyYearPicker,W=_.format,H=_.focused,N=_.weekPicker;o.setFormat(W);var Q=new l.default(o);return S=v&&w?function(){var G=!0;g(S)||(S=[[S]]);var ie=S.find(function(Ie){return Ie.length===1}),ye=V?"YYYY/MM":"YYYY/MM/DD",fe=S;if(ie){var de=ie[0];fe=fe.filter(function(Ie){if(Ie.length===1)return!0;var Le=m(Ie,2),Ae=Le[0],xe=Le[1],Ce=m([de,Q].sort(function(ne,me){return ne-me}),2),ue=[Ae,xe,Ce[0],Ce[1]].map(function(ne){return x(ne,ye)}),Be=m(ue,4),Te=Be[0],K=Be[1],z=Be[2],Z=Be[3];return!(z<=Te&&Z>=K||z>=Te&&Z>=K&&z<=K||z<=Te&&Z<=K&&Z>=Te)})}else fe=fe.filter(function(Ie){if(!g(Ie))return!0;if(Ie.length===0)return!1;var Le=m(Ie,2),Ae=[Le[0],Le[1],Q].map(function(Te){return x(Te,ye)}),xe=m(Ae,3),Ce=xe[0],ue=xe[1],Be=xe[2];return!(Be>=Ce&&Be<=ue)});return fe=fe.map(function(Ie){var Le;return g(Ie)?Ie.length===1?(G=!1,Le=Ie.concat(Q)):Le=Ie:(G=!1,Le=[Ie,Q]),Le.sort(function(Ae,xe){return Ae-xe})}),G&&(fe=[].concat(p(fe),[[Q]])),fe}():v?function(){var G=S.filter(function(ie){return!P(o,ie,V,q)});return G.length===S.length?G.push(Q):Q=G.find(function(ie){return P(ie,H)}),f&&G.sort(function(ie,ye){return ie-ye}),G}():w?function(){if(N)return[new l.default(Q).toFirstOfWeek(),new l.default(Q).toLastOfWeek()];if(S.length===2||S.length===0)return[Q];if(S.length===1)return[S[0],Q].sort(function(G,ie){return G-ie})}():Q,[S,Q]}function J(o,f,_,v){var w=[],S=_?"YYYY/MM":"YYYY/MM/DD",V=x(o,S);function q(W){var H=W[0],N=W[1];if(W.length===1)P(o,H,_)&&w.push("rmdp-range");else if(W.length===2){var Q=[H,N].map(function(fe){return x(fe,S)}),G=m(Q,2),ie=G[0],ye=G[1];V>=ie&&V<=ye&&w.push("rmdp-range"),V===ie&&w.push("start"),V===ye&&w.push("end")}}return v?(g(f)?f:[[f]]).forEach(q):q(f),w.join(" ")}function A(o,f,_,v){var w=arguments.length>5?arguments[5]:void 0,S=[];if(v&&_){var V,q=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:"day")==="day"?"YYYY/MM/DD":"YYYY/MM",W=_.format(q),H=o.format(q);if(w||(f==null?void 0:f.length)!==1){if(w&&g(f)){var N,Q=T(f);try{for(Q.s();!(N=Q.n()).done;){var G=N.value;if(g(G)&&G.length===1){V=G[0].format(q);break}}}catch(ie){Q.e(ie)}finally{Q.f()}}}else V=f[0].format(q);(H>V&&H<=W||H<V&&H>=W)&&(S.push("rmdp-range-hover"),H===W&&S.push(W>V?"end":"start"),g(f)&&f.flat().some(function(ie){return ie.format(q)===H})&&S.push("force"))}return S}function B(o,f,_){if(o){var v=ee(o);return _?Array.from(v.querySelectorAll(f)):v.querySelector(f)}}function ee(o){return o.closest(".rmdp-calendar")}var U=["selected","today","day:not(.rmdp-day-hidden):not(.rmdp-disabled)"];function te(o,f,_){var v=_.type,w=v===void 0?"day":v,S=_.format;o.preventDefault();var V=o.currentTarget,q=o.key,W=o.code,H=w==="day"?7:3,N=ee(V),Q=N&&N.classList.contains("rmdp-rtl"),G={ArrowRight:Q?-1:1,ArrowLeft:Q?1:-1,ArrowUp:-H,ArrowDown:H};if(W==="Space"||q===" ")V.click();else if(Object.keys(G).includes(q)){var ie=function(){if(w==="month")return Se(N,[U[2]]);var Ie=B(V,ye<0?".rmdp-left":".rmdp-right");Ie&&(Ie.click(),Se(N))},ye=G[q],fe=new l.default(f.date).add(ye,w);(function(Ie){if(!Ie)return ie();var Le=Ie.getAttribute("class");Le.includes("hidden")||Le.includes("disabled")?te(o,d(d({},f),{},{date:fe}),{type:w,format:S}):Ie.focus()})(B(V,'[aria-label*="'.concat(f.year?"year ".concat(f.year+ye):fe.format(S),'"]')))}else{var de=B(V,".rmdp-arrow-container");de&&de.focus()}}function Se(o){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:U,_=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],v="[data-active='true']";o.querySelectorAll("".concat(v," [tabindex='0']")).forEach(function(w){return w.setAttribute("tabindex","-1")}),setTimeout(function(){var w,S=T(f);try{for(S.s();!(w=S.n()).done;){var V=w.value,q=o.querySelector("".concat(v," .rmdp-").concat(V));if(q){q.setAttribute("tabindex","0"),_&&q.focus();break}}}catch(W){S.e(W)}finally{S.f()}},10)}var L="dddd MMMM DD of YYYY";function Ee(o){var f=o.state,_=o.onChange,v=o.showOtherDays,w=v!==void 0&&v,S=o.mapDays,V=o.onlyShowInRangeDates,q=o.customWeekDays,W=o.sort,H=o.numberOfMonths,N=o.isRTL,Q=o.weekStartDayIndex,G=o.handleFocusedDate,ie=o.hideWeekDays,ye=o.fullYear,fe=m(o.monthAndYears,1)[0],de=o.displayWeekNumbers,Ie=o.weekNumber,Le=Ie===void 0?"":Ie,Ae=o.rangeHover,xe=o.highlightToday,Ce=t.useRef({}),ue=t.useRef(),Be=f.today,Te=f.minDate,K=f.maxDate,z=f.range,Z=f.multiple,ne=f.date,me=f.selectedDate,ce=f.onlyMonthPicker,re=f.onlyYearPicker,X=f.mustShowMonthPicker,ae=f.mustShowYearPicker,pe=!ce&&!re,he=m(t.useState(),2),dt=he[0],Ke=he[1];Ce.current.date=ne;var Ht=t.useMemo(function(){return pe?function(De,ze,He,wt){if(!De)return[];for(var Ge=[],jt=0;jt<He;jt++){var Ot=(De=new l.default(De).toFirstOfMonth()).monthIndex,Nt=[];De.toFirstOfWeek().add(wt,"day"),De.monthIndex===Ot&&De.day>1&&De.subtract(7,"days");for(var gt=0;gt<6;gt++){for(var Rt=[],ot=0;ot<7;ot++)Rt.push({date:new l.default(De),day:De.format("D"),current:De.monthIndex===Ot}),De.day+=1;if(Nt.push(Rt),gt>2&&De.monthIndex!==Ot)break}Ge.push(Nt)}return Ge}(Ce.current.date,0,H,Q):[]},[ne.monthIndex,ne.year,ne.calendar,ne.locale,pe,w,H,Q]);return pe&&a.default.createElement("div",{ref:ue,className:"rmdp-day-picker ".concat(ye?"rmdp-full-year":""),style:{display:ye?"grid":"flex"},onMouseLeave:function(){return Ae&&Ke()},"data-active":pe&&!X&&!ae},Ht.map(function(De,ze){return a.default.createElement("div",{key:ze,style:u({},N?"marginLeft":"marginRight",ze+(ye?0:1)<H?"10px":"")},ye&&a.default.createElement("div",{className:"rmdp-month-name"},fe[ze]),!ie&&a.default.createElement(O,{state:f,customWeekDays:q,weekStartDayIndex:Q,displayWeekNumbers:de,weekNumber:Le}),De.map(function(He,wt){return a.default.createElement("div",{key:wt,className:"rmdp-week"},de&&a.default.createElement("div",{className:"rmdp-day rmdp-disabled"},a.default.createElement("span",null,He[0].date.format("WW"))),He.map(function(Ge,jt){var Ot=function(ke){if(!ke.current&&!w)return{};var Ue={};return S.forEach(function(tt){var ut,nt=tt({date:ke.date,today:Be,currentMonth:f.date.month,selectedDate:f.selectedDate,isSameDate:P});((ut=nt)===null||ut===void 0?void 0:ut.constructor)!==Object&&(nt={}),(nt.disabled||nt.hidden)&&(ke.disabled=!0),nt.hidden&&(ke.hidden=!0),Ue=d(d({},Ue),nt)}),delete Ue.disabled,delete Ue.hidden,Ue}(Ge={date:Ge.date,day:Ge.day,current:Ge.current}),Nt=ve(Ge)&&!Ge.disabled,gt="".concat(Nt?"sd":""),Rt=Ot.children;Nt&&(gt="".concat(gt," ").concat(Ot.className||"")),delete Ot.className,delete Ot.children;var ot=function(ke,Ue){var tt=["rmdp-day"],ut=ke.date,nt=ke.hidden,sn=ke.current;if(!ve(ke)||nt)tt.push("rmdp-day-hidden");else{(Te&&ut<Te||K&&ut>K||ke.disabled)&&(tt.push("rmdp-disabled"),ke.disabled||(ke.disabled=!0)),sn||tt.push("rmdp-deactive");var $t=Ue>1&&sn||Ue===1;ke.disabled&&V||(P(ut,Be)&&xe&&tt.push("rmdp-today"),zt=ut,[].concat(me).some(function(Bt){return P(Bt,zt)})&&$t&&!z&&tt.push("rmdp-selected")),z&&!ke.disabled&&$t&&(tt.push(J(ut,me,void 0,Z)),tt=tt.concat(A(ut,me,dt,Ae,void 0,Z)))}var zt;return tt.join(" ")}(Ge,H);return(Ge.hidden||Ge.disabled)&&(gt=gt.replace("sd","")),a.default.createElement("div",{key:jt,tabIndex:-1,"aria-label":"Choose ".concat(Ge.date.format(L)),className:ot,onMouseEnter:function(){return Ae&&Ke(Ge.date)},onKeyDown:function(ke){return te(ke,Ge,{format:L})},onClick:function(){ve(Ge)&&!Ge.disabled&&function(ke,Ue,tt){var ut,nt,sn,$t=ke.date,zt=ke.current,Bt=f.selectedDate,An=f.focused,xt=f.date,Ln=xt,kn=Ln.hour,ur=Ln.minute,Fn=Ln.second;$t.set({hour:((ut=Bt)===null||ut===void 0?void 0:ut.hour)||kn,minute:((nt=Bt)===null||nt===void 0?void 0:nt.minute)||ur,second:((sn=Bt)===null||sn===void 0?void 0:sn.second)||Fn}),tt!==1||zt?tt>1&&!zt&&(Ue===0&&$t<xt&&(xt=new l.default(xt).toFirstOfMonth()),Ue>0&&$t.monthIndex>xt.monthIndex+Ue&&Ue+1===tt&&(xt=new l.default(xt).toFirstOfMonth().add(1,"month"))):xt=new l.default(xt).toFirstOfMonth();var Cn=m(F($t,W,f),2);Bt=Cn[0],An=Cn[1],_(Bt,d(d({},f),{},{date:xt,focused:An,selectedDate:Bt})),G(An,$t)}(Ge,ze,H)}},a.default.createElement("span",h({className:gt},Ot),ve(Ge)&&!Ge.hidden?Rt!=null?Rt:Ge.day:""))}))}))}));function ve(De){return!!De.current||w}}function D(o){var f=o.direction,_=o.onClick,v=o.disabled,w=o.onKeyDown;return a.default.createElement("button",{type:"button",className:"rmdp-arrow-container ".concat(f," ").concat(v?"disabled":""),onClick:_,onKeyDown:w,"aria-roledescription":"button to navigate ".concat(f.replace("rmdp-",""))},a.default.createElement("i",{className:"rmdp-arrow"}))}function C(o){var f=o.state,_=o.setState,v=o.disableYearPicker,w=o.disableMonthPicker,S=o.buttons,V=o.renderButton,q=o.handleMonthChange,W=o.disabled,H=o.hideMonth,N=o.hideYear,Q=o.isRTL,G=o.fullYear,ie=m(o.monthAndYears,2),ye=ie[0],fe=ie[1],de=o.monthYearSeparator,Ie=o.formatMonth,Le=o.formatYear,Ae=o.headerOrder,xe=o.onYearChange,Ce={},ue=f.date,Be=f.onlyMonthPicker,Te=f.onlyYearPicker,K=f.mustShowYearPicker,z=f.minDate,Z=f.maxDate,ne=f.year,me=f.today,ce=z&&ue.year<=z.year&&z.monthIndex>ue.monthIndex-1,re=Z&&ue.year>=Z.year&&Z.monthIndex<ue.monthIndex+1,X=me.year+7;if(X-=12*Math.floor((X-ne)/12),(H||G)&&N&&!S)return null;if((Be||G)&&(z&&z.year>=ue.year&&(ce=!0),Z&&Z.year<=ue.year&&(re=!0)),K||Te){var ae=X-11;ce=z&&z.year>ae,re=Z&&Z.year<X}return W&&(ce=!0,re=!0),a.default.createElement("div",{className:"rmdp-header"},a.default.createElement("div",{style:{position:"relative",display:"flex",alignItems:"center"}},Array.from(new Set(Ae)).map(function(ve,De){return a.default.createElement(t.Fragment,{key:De},function(ze){switch(ze){case"LEFT_BUTTON":return S&&dt("left");case"RIGHT_BUTTON":return S&&dt("right");case"MONTH_YEAR":case"YEAR_MONTH":if(G)return a.default.createElement("div",{className:"rmdp-header-values",style:Ce},!N&&ue.format("YYYY"));var He=ze.split("_").filter(function(wt){return wt==="MONTH"&&!H||wt==="YEAR"&&!N});return He.length>1&&(He=[He[0],he(),He[1]]),ye.map(function(wt,Ge){return a.default.createElement("div",{key:Ge,className:"rmdp-header-values",style:Ce},He.map(function(jt,Ot){return a.default.createElement(t.Fragment,{key:Ot},function(Nt,gt,Rt){switch(Nt){case"MONTH":return a.default.createElement("span",{tabIndex:0,onKeyDown:pe,style:{cursor:W||w||Be?"default":"pointer"},onClick:function(ot){return!w&&Ht("mustShowMonthPicker",ot)}},function(ot,ke){return typeof Ie=="function"?Ie(ot,ke):ot}(gt,fe[Rt]));case"YEAR":return a.default.createElement("span",{tabIndex:0,onKeyDown:pe,style:{cursor:W||v||Te?"default":"pointer"},onClick:function(ot){return!v&&Ht("mustShowYearPicker",ot)}},function(ot,ke){return typeof Ie=="function"?Le(ot,ke):ot}(fe[Rt],gt));default:return Nt}}(jt,wt,Ge))}))});default:return}}(ve))})));function pe(ve){var De=ve.currentTarget,ze=ve.key,He=ve.code;He==="Space"||ze===" "?(ve.preventDefault(),De.click()):He==="ArrowDown"&&(ve.preventDefault(),Se(ee(ve.target)))}function he(){return de?a.default.createElement("span",null,de):Q?"\u060C":","}function dt(ve){var De=function(He){He.preventDefault(),Ke(ve==="right"?1:-1,He)},ze=ve==="left"&&ce||ve==="right"&&re;return V instanceof Function?V(ve,De,ze,pe):t.isValidElement(V)?t.cloneElement(V,{direction:ve,handleClick:De,disabled:ze,onKeyDown:pe}):a.default.createElement(D,{direction:"rmdp-".concat(ve),onClick:De,onKeyDown:pe,disabled:ze})}function Ke(ve,De){W||ve<0&&ce||ve>0&&re||(G?(ue.year+=ve,xe==null||xe(new l.default(ue))):K||Te?(ne+=12*ve,ve<0&&z&&ne<z.year&&(ne=z.year),ve>0&&Z&&ne>Z.year&&(ne=Z.year)):(ue.toFirstOfMonth(),Be?ue.year+=ve:(ue.month+=ve,q(ue))),_(d(d({},f),{},{date:ue,year:ne})),Se(ee(De.target),void 0,!1))}function Ht(ve,De){if(!W){var ze={mustShowMonthPicker:!1,mustShowYearPicker:!1};ze[ve]=!f[ve],_(d(d({},f),ze)),Se(ee(De.target),void 0,!1)}}}function j(o){return g(o)||(o=[]),JSON.stringify(o)}var $="MMMM of YYYY";function Pe(o){var f=o.state,_=o.onChange,v=o.customMonths,w=o.sort,S=o.handleMonthChange,V=o.handleFocusedDate,q=o.rangeHover,W=o.highlightToday,H=o.numberOfMonths,N=f.date,Q=f.today,G=f.minDate,ie=f.maxDate,ye=f.calendar,fe=f.locale,de=f.onlyMonthPicker,Ie=f.onlyYearPicker,Le=f.range,Ae=f.onlyShowInRangeDates,xe=(f.mustShowMonthPicker||de)&&!Ie,Ce=m(t.useState(),2),ue=Ce[0],Be=Ce[1];v=v&&j(v);var Te=t.useMemo(function(){var Z=[],ne=de?H:1,me=v&&JSON.parse(v),ce=new l.default({calendar:ye,locale:fe,format:f.date._format,year:f.date.year,month:1,day:1});g(me)&&me.length>=12?(me.length=12,me=me.map(function(Ke){return g(Ke)?Ke[0]:Ke})):me=ce.locale.months.map(function(Ke){return m(Ke,1)[0]});for(var re=0;re<ne;re++){for(var X=[],ae=0,pe=0;pe<4;pe++){for(var he=[],dt=0;dt<3;dt++)he.push({date:new l.default(ce),name:me[ae]}),ae++,ce.add(1,"month");X.push(he)}Z.push(X)}return Z},[ye,fe,v,f.date.year,f.date._format,H,de]);return a.default.createElement("div",{className:"".concat(de?"only ":"","rmdp-month-picker"),style:{display:xe?"flex":"none"},"data-active":xe,onMouseLeave:function(){return q&&Be()}},Te.map(function(Z,ne){return a.default.createElement("div",{key:ne,style:{margin:"0 5px",flex:1}},Z.map(function(me,ce){return a.default.createElement("div",{key:ce,className:"rmdp-ym"},me.map(function(re,X){var ae=re.date,pe=re.name;return a.default.createElement("div",{key:X,"aria-label":"Select ".concat(ae.format($)),tabIndex:-1,onKeyDown:function(he){return te(he,{date:ae},{format:$,type:"month"})},className:z(ae),onClick:function(he){return K(ae,he)},onMouseEnter:function(){return q&&Be(ae)}},a.default.createElement("span",{className:de?"sd":""},pe))}))}))}));function K(Z,ne){var me=f.selectedDate,ce=f.focused,re=Z.year,X=Z.monthIndex;if(!(G&&re<=G.year&&X<G.monthIndex||ie&&re>=ie.year&&X>ie.monthIndex)){if(N.setMonth(X+1),de){var ae=m(F(Z,w,f),2);me=ae[0],ce=ae[1]}else S(N),Se(ee(ne.target));_(de?me:void 0,d(d({},f),{},{date:N,focused:ce,selectedDate:me,mustShowMonthPicker:!1})),de&&V(ce,Z)}}function z(Z){var ne=["rmdp-day"],me=Z.year,ce=Z.monthIndex,re=f.selectedDate,X=f.multiple;if((G&&(me<G.year||me===G.year&&ce<G.monthIndex)||ie&&(me>ie.year||me===ie.year&&ce>ie.monthIndex))&&ne.push("rmdp-disabled"),!ne.includes("rmdp-disabled")||!Ae)return P(Q,Z,!0)&&W&&ne.push("rmdp-today"),de?Le?(ne.push(J(Z,re,!0,X)),ne=ne.concat(A(Z,re,ue,q,"month",X))):[].concat(re).some(function(ae){return P(ae,Z,!0)})&&ne.push("rmdp-selected"):N.monthIndex===ce&&ne.push("rmdp-selected"),ne.join(" ")}}function se(o,f){return o.replace(/[0-9]/g,function(_){return f[_]})}var _t="YYYY";function St(o){var f=o.state,_=o.onChange,v=o.sort,w=o.handleFocusedDate,S=o.onYearChange,V=o.rangeHover,q=o.highlightToday,W=f.date,H=f.today,N=f.minDate,Q=f.maxDate,G=f.onlyYearPicker,ie=f.range,ye=f.onlyShowInRangeDates,fe=f.year,de=f.mustShowYearPicker||G,Ie=W.digits,Le=m(t.useState(),2),Ae=Le[0],xe=Le[1],Ce=H.year-4;Ce-=12*Math.ceil((Ce-fe)/12);var ue=t.useMemo(function(){for(var K=[],z=Ce,Z=0;Z<4;Z++){for(var ne=[],me=0;me<3;me++)ne.push(z),z++;K.push(ne)}return K},[Ce]);return a.default.createElement("div",{className:"".concat(G?"only ":"","rmdp-year-picker"),style:{display:de?"block":"none"},"data-active":de},ue.map(function(K,z){return a.default.createElement("div",{key:z,className:"rmdp-ym",onMouseLeave:function(){return V&&xe()}},K.map(function(Z,ne){return a.default.createElement("div",{key:ne,"aria-label":"Select year ".concat(Z),tabIndex:-1,onKeyDown:function(me){return te(me,{year:Z,date:W},{format:_t,type:"year"})},className:Be(Z),onClick:function(me){return function(ce,re){if(!Te(ce)){var X=new l.default(f.date).setYear(ce),ae=f.selectedDate,pe=f.focused;if(G){var he=m(F(X,v,f),2);ae=he[0],pe=he[1]}else N&&X.monthIndex<N.monthIndex?X=X.setMonth(N.monthIndex+1):Q&&X.monthIndex>Q.monthIndex&&(X=X.setMonth(Q.monthIndex+1)),S==null||S(X),Se(ee(re.target));_(G?ae:void 0,d(d({},f),{},{date:X,focused:pe,selectedDate:ae,mustShowYearPicker:!1})),G&&w(pe,X)}}(Z,me)},onMouseEnter:function(){return V&&xe(Z)}},a.default.createElement("span",{className:G?"sd":""},se(Z.toString(),Ie)))}))}));function Be(K){var z=["rmdp-day"],Z=f.date,ne=f.selectedDate,me=f.multiple;if(Te(K)&&z.push("rmdp-disabled"),!z.includes("rmdp-disabled")||!ye){if(H.year===K&&q&&z.push("rmdp-today"),G)if(ie){var ce=function(re){var X=re[0],ae=re[1];if(re.length===1){if(K===X.year&&z.push("rmdp-range"),V){var pe=re[0].year;(K>pe&&K<=Ae||K<pe&&K>=Ae)&&(z.push("rmdp-range-hover"),K===Ae&&z.push(Ae>pe?"end":"start"))}}else re.length===2&&(K>=X.year&&K<=ae.year&&z.push("rmdp-range"),K===X.year&&z.push("start"),K===ae.year&&z.push("end"))};me?(g(ne)?ne:[[ne]]).forEach(function(re){return ce(re)}):ce(ne)}else[].concat(ne).some(function(re){return re&&re.year===K})&&z.push("rmdp-selected");else K===Z.year&&z.push("rmdp-selected");return z.join(" ")}}function Te(K){return N&&K<N.year||Q&&K>Q.year}}function st(o,f,_){return _||(o?"MM/YYYY":f?"YYYY":"YYYY/MM/DD")}function $e(o,f){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"YYYY/MM/DD";return o instanceof l.default?o.set({calendar:f,format:_}):o=new l.default({date:o,calendar:f,format:_}),o}function oe(o){"_self"in a.default.createElement("div")&&console.warn(o.join(`
`))}var Oe=new l.default,we=Oe.calendar,bt=Oe.locale;function Ye(o,f){return o&&o.constructor!==Object&&(oe(ht("calendar")),o=void 0),f&&f.constructor!==Object&&(oe(ht("locale")),f=void 0),[o||we,f||bt]}function ht(o){return["".concat(o," must be an object"),"https://shahabyazdi.github.io/react-multi-date-picker/calendars/"]}function an(o){return o&&o.name?o.name.split("_")[1]:""}function Wt(o){return["fa","ar"].includes(an(o))}function We(o,f){f===void 0&&(f={});var _=f.insertAt;if(o&&typeof document<"u"){var v=document.head||document.getElementsByTagName("head")[0],w=document.createElement("style");w.type="text/css",_==="top"&&v.firstChild?v.insertBefore(w,v.firstChild):v.appendChild(w),w.styleSheet?w.styleSheet.cssText=o:w.appendChild(document.createTextNode(o))}}We(".rmdp-wrapper{background-color:#fff;border-radius:5px;direction:ltr;text-align:center;width:max-content}.rmdp-shadow{box-shadow:0 0 5px #8798ad}.rmdp-border{border:1px solid #cfd8e2}.rmdp-calendar{height:max-content;padding:4px}.rmdp-border-top{border-top:1px solid #cfd8e2}.rmdp-border-bottom{border-bottom:1px solid #cfd8e2}.rmdp-border-left{border-left:1px solid #cfd8e2}.rmdp-border-right{border-right:1px solid #cfd8e2}.rmdp-week,.rmdp-ym{display:flex;justify-content:space-between}.rmdp-ym{height:25%}.rmdp-day,.rmdp-week-day{color:#000;cursor:pointer;height:34px;position:relative;width:34px}.rmdp-calendar :focus{outline-color:#00539c}.rmdp-day:not(.rmdp-range):focus{border-radius:50%}.rmdp-ym .rmdp-day:not(.rmdp-range):focus{border-radius:15px}.rmdp-week-day{color:#0074d9;cursor:default;font-size:13px;font-weight:500}.rmdp-day span,.rmdp-week-day{display:flex;flex-direction:column;justify-content:center}.rmdp-day span{border-radius:50%;bottom:3px;font-size:14px;left:3px;position:absolute;right:3px;top:3px}.rmdp-day.rmdp-today span{background-color:#7fdbff;color:#fff}.rmdp-day.rmdp-selected span:not(.highlight){background-color:#0074d9;box-shadow:0 0 3px #8798ad;color:#fff}.rmdp-day.rmdp-deactive,.rmdp-day.rmdp-disabled{color:#8798ad}.rmdp-day.rmdp-deactive.rmdp-selected span{background-color:#4ca6f5;box-shadow:0 0 3px #bac5d3}.rmdp-ym .rmdp-day{flex:1;margin:auto}.rmdp-ym .rmdp-day span{border-radius:12px;padding:2px 0}.rmdp-range{background-color:#0074d9;box-shadow:0 0 3px #8798ad;color:#fff}.rmdp-range-hover{background-color:#7ea6f0;color:#fff}.rmdp-range-hover.start:not(.force),.rmdp-range.start:not(.force){border-bottom-left-radius:50%;border-top-left-radius:50%}.rmdp-range-hover.end:not(.force),.rmdp-range.end:not(.force){border-bottom-right-radius:50%;border-top-right-radius:50%}.rmdp-ym .rmdp-range-hover.start:not(.force),.rmdp-ym .rmdp-range.start:not(.force){border-bottom-left-radius:15px;border-top-left-radius:15px}.rmdp-ym .rmdp-range-hover.end:not(.force),.rmdp-ym .rmdp-range.end:not(.force){border-bottom-right-radius:15px;border-top-right-radius:15px}@media (hover:hover){.rmdp-day:not(.rmdp-disabled,.rmdp-day-hidden) span:hover{background-color:#7ea6f0;color:#fff}}.rmdp-day-picker{padding:5px}.rmdp-header{font-size:14px;margin-top:5px;padding:9px 0}.rmdp-month-picker,.rmdp-year-picker{background-color:#fff;border-radius:0 0 5px 5px;bottom:2px;left:2px;position:absolute;right:2px;top:2px}.only.rmdp-month-picker,.only.rmdp-year-picker{height:240px;position:static;width:240px}.rmdp-header-values{color:#000;margin:auto}.rmdp-header-values span{padding:0 0 0 5px}.rmdp-arrow{border:solid #0074d9;border-width:0 2px 2px 0;display:inline-block;height:3px;margin-top:5px;padding:2px;width:3px}.rmdp-right i{margin-right:3px;transform:rotate(-45deg);-webkit-transform:rotate(-45deg)}.rmdp-left i{margin-left:3px;transform:rotate(135deg);-webkit-transform:rotate(135deg)}.rmdp-left{left:0}.rmdp-right{right:0}.rmdp-arrow-container{background:transparent;border:none;border-radius:50%;cursor:pointer;display:flex;height:20px;justify-content:center;margin:0 5px;padding:0;width:20px}.rmdp-arrow-container:hover{background-color:#0074d9;box-shadow:0 0 3px #8798ad}.rmdp-arrow-container:hover .rmdp-arrow{border:solid #fff;border-width:0 2px 2px 0}.rmdp-arrow-container.disabled{cursor:default}.rmdp-arrow-container.disabled:hover{background-color:inherit;box-shadow:inherit}.rmdp-arrow-container.disabled .rmdp-arrow,.rmdp-arrow-container.disabled:hover .rmdp-arrow{border:solid gray;border-width:0 2px 2px 0}.rmdp-rtl{direction:rtl}.rmdp-rtl .rmdp-left i{margin-left:0;margin-right:3px;transform:rotate(-45deg);-webkit-transform:rotate(-45deg)}.rmdp-rtl .rmdp-right i{margin-left:3px;margin-right:0;transform:rotate(135deg);-webkit-transform:rotate(135deg)}.rmdp-rtl .rmdp-right{left:0;right:auto}.rmdp-rtl .rmdp-left{left:auto;right:0}.rmdp-rtl .rmdp-range-hover.start:not(.force),.rmdp-rtl .rmdp-range.start:not(.force){border-bottom-left-radius:unset;border-bottom-right-radius:50%;border-top-left-radius:unset;border-top-right-radius:50%}.rmdp-rtl .rmdp-range-hover.end:not(.force),.rmdp-rtl .rmdp-range.end:not(.force){border-bottom-left-radius:50%;border-bottom-right-radius:unset;border-top-left-radius:50%;border-top-right-radius:unset}.rmdp-rtl .rmdp-range.start.end:not(.force){border-radius:50%}.rmdp-rtl .rmdp-ym .rmdp-range-hover.start:not(.force),.rmdp-rtl .rmdp-ym .rmdp-range.start:not(.force){border-bottom-right-radius:15px;border-top-right-radius:15px}.rmdp-rtl .rmdp-ym .rmdp-range-hover.end:not(.force),.rmdp-rtl .rmdp-ym .rmdp-range.end:not(.force){border-bottom-left-radius:15px;border-top-left-radius:15px}.rmdp-day-hidden,.rmdp-day.rmdp-disabled{cursor:default}.rmdp-selected .highlight{box-shadow:0 0 3px #8798ad}.rmdp-day:not(.rmdp-disabled):not(.rmdp-day-hidden) .highlight-red:hover{background-color:#ff6687}.rmdp-day:not(.rmdp-deactive) .highlight-red{color:#cc0303}.rmdp-day.rmdp-deactive .highlight-red{color:#e08e8e}.rmdp-day.rmdp-selected .highlight-red{background-color:#ea0034;color:#fff}.rmdp-day.rmdp-deactive.rmdp-selected .highlight-red{background-color:#e4b0ba;color:#fff}.rmdp-day:not(.rmdp-disabled):not(.rmdp-day-hidden) .highlight-green:hover{background-color:#4db6ac}.rmdp-day:not(.rmdp-deactive) .highlight-green{color:#00796b}.rmdp-day.rmdp-deactive .highlight-green{color:#7ab3ac}.rmdp-day.rmdp-selected .highlight-green{background-color:#009688;color:#fff}.rmdp-day.rmdp-deactive.rmdp-selected .highlight-green{background-color:#749c98;color:#fff}.rmdp-day-hidden,.rmdp-day-hidden:hover span{background-color:unset;color:transparent}.rmdp-month-name{cursor:default;font-size:14px;margin:3px 0}.rmdp-full-year{grid-template-columns:1fr 1fr 1fr}@media (max-height:450px),(max-width:450px){.rmdp-day,.rmdp-week-day{height:28px;width:28px}.rmdp-day span{font-size:12px;padding-left:.5px}.only.rmdp-month-picker,.only.rmdp-year-picker{height:200px;width:230px}.rmdp-header{padding:3px 0 0}.rmdp-header,.rmdp-month-name{font-size:12px}.rmdp-full-year{grid-template-columns:1fr 1fr}}");var et=["datePickerProps","DatePicker"];function Tn(o,f){var _,v=o.value,w=o.calendar,S=o.locale,V=o.format,q=o.onlyMonthPicker,W=o.onlyYearPicker,H=o.range,N=H!==void 0&&H,Q=o.multiple,G=Q!==void 0&&Q,ie=o.className,ye=o.role,fe=o.weekDays,de=o.months,Ie=o.children,Le=o.onChange,Ae=o.showOtherDays,xe=o.minDate,Ce=o.maxDate,ue=o.mapDays,Be=o.disableMonthPicker,Te=o.disableYearPicker,K=o.formattingIgnoreList,z=o.onReady,Z=o.onlyShowInRangeDates,ne=Z===void 0||Z,me=o.zIndex,ce=me===void 0?100:me,re=o.plugins,X=re===void 0?[]:re,ae=o.sort,pe=o.numberOfMonths,he=pe===void 0?1:pe,dt=o.currentDate,Ke=o.digits,Ht=o.buttons,ve=Ht===void 0||Ht,De=o.renderButton,ze=o.weekStartDayIndex,He=ze===void 0?0:ze,wt=o.disableDayPicker,Ge=o.onPropsChange,jt=o.onMonthChange,Ot=o.onYearChange,Nt=o.onFocusedDateChange,gt=o.readOnly,Rt=o.disabled,ot=o.hideMonth,ke=o.hideYear,Ue=o.hideWeekDays,tt=o.shadow,ut=tt===void 0||tt,nt=o.fullYear,sn=o.displayWeekNumbers,$t=o.weekNumber,zt=o.weekPicker,Bt=o.rangeHover,An=o.monthYearSeparator,xt=o.formatMonth,Ln=o.formatYear,kn=o.highlightToday,ur=kn===void 0||kn,Fn=o.headerOrder,Cn=Fn===void 0?["LEFT_BUTTON","MONTH_YEAR","RIGHT_BUTTON"]:Fn,fr=o.style,Kr=fr===void 0?{}:fr,pr=o.autoFocus,mr=pr!==void 0&&pr;!dt||dt instanceof l.default||(console.warn("currentDate must be instance of DateObject"),dt=void 0),(typeof He!="number"||He<0||He>6)&&(He=0),(typeof he!="number"||he<1||W)&&(he=1),!(G||N||g(v))||N||G||(G=!0),zt&&(N=!0,G=!1),nt&&(he=12,q=!1,W=!1),W&&!ot&&(ot=!0);var Bn=m(Ye(w,S),2);w=Bn[0],S=Bn[1],V=st(q,W,V),K=j(K),ue=[].concat(ue).filter(Boolean),X=[].concat.apply([],X);var hr=m(t.useState({}),2),Gt=hr[0],on=hr[1],En={},Mt=t.useRef({mustCallOnReady:!0,currentDate:dt});t.useEffect(function(){on(function(Y){var Re=Mt.current.currentDate,be=Y.date,_e=Y.selectedDate,lt=Y.initialValue,Je=Y.focused,Ve=Y.mustSortDates;function Et(M){if(M)return M.calendar.name!==w.name&&M.setCalendar(w),M.locale.name!==S.name&&M.setLocale(S),M._format!==V&&M.setFormat(V),M.digits=Ke,M.ignoreList=JSON.parse(K),M}function Pt(M){return new l.default(Re||M)}if(v)if(g(_e=Pn(v,w,S,V)))be||(be=Pt(_e.flat()[0]));else if(be&&he!==1){var dn=new l.default(be).toFirstOfMonth(),In=new l.default(be).add(he-1,q?"years":"months").toLastOfMonth();(_e<dn||_e>In)&&(be=new l.default(_e))}else be=Pt(_e);else be||(be=Pt({calendar:w,locale:S,format:V})),lt&&(_e=void 0);if([].concat(_e).flat().forEach(Et),Et(be),G||N||g(v)){if(_e||(_e=[]),g(_e)||(_e=G&&N?[[_e]]:[_e]),N&&!G&&_e.length>2){var un=_e[_e.length-1];_e=[_e[0],un],Je=un}G&&!N&&ae&&!Ve?(Ve=!0,_e.sort(function(M,le){return M-le})):N&&!G&&_e.sort(function(M,le){return M-le})}else g(_e)&&(_e=_e.flat()[_e.length-1]);return nt&&be.toFirstOfYear(),delete Mt.current.currentDate,d(d({},Y),{},{date:be,selectedDate:_e,multiple:G,range:N,onlyMonthPicker:q,onlyYearPicker:W,initialValue:Y.initialValue||v,value:v,focused:Je,calendar:w,locale:S,format:V,mustSortDates:Ve,year:be.year,today:Et(Y.today)||new l.default({calendar:w}),weekPicker:zt})})},[v,w,S,V,q,W,N,G,ae,he,Ke,K,nt,zt]),t.useEffect(function(){(xe||Ce)&&on(function(Y){var Re=Y.calendar,be=Y.locale,_e=Y.format,lt=function(dn,In,un,M,le){return In&&(In=$e(In,M,le).set({hour:0,minute:0,second:0,millisecond:0})),un&&(un=$e(un,M,le).set({hour:23,minute:59,second:59,millisecond:999})),g(dn)&&(dn=dn.filter(function(Ne){return!(In&&Ne<In)&&!(un&&Ne>un)})),[dn,In,un]}(Pn(v,Re,be,_e),xe,Ce,Re,_e),Je=m(lt,3),Ve=Je[0],Et=Je[1],Pt=Je[2];return d(d({},Y),{},{inRangeDates:ne?Ve:Y.selectedDate,minDate:Et,maxDate:Pt})})},[xe,Ce,ne,v]),Gt.today&&!Mt.current.isReady&&(Mt.current.isReady=!0),t.useEffect(function(){Mt.current.isReady&&Mt.current.mustCallOnReady&&z instanceof Function&&(Mt.current.mustCallOnReady=!1,z())},[Mt.current.isReady,z]);var bn="rmdp-top-class "+cn(["top","bottom"]),Yt={top:[],bottom:[],left:[],right:[]},gr=Wt((_=Gt.date)===null||_===void 0?void 0:_.locale),ln={state:Gt,setState:on,onChange:vn,sort:ae,handleFocusedDate:On,isRTL:gr,fullYear:nt,monthAndYears:function(){var Y=Gt.date;if(!Y)return[];for(var Re=[],be=[],_e=Y.digits,lt=0;lt<he;lt++){var Je=void 0,Ve=Y.year,Et=Y.monthIndex+lt;if(q&&(Ve+=lt),Et>11&&(Et-=12,q||Ve++),g(de)&&de.length>=12){var Pt=de[Et];Je=g(Pt)?Pt[0]:Pt}else Je=Y.months[Et].name;Ve=se(Ve.toString(),_e),Re.push(Je),be.push(Ve)}return[Re,be]}(),rangeHover:Bt,highlightToday:ur,numberOfMonths:he},Kn=arguments[0],Er=Kn.datePickerProps,Jn=Kn.DatePicker,yr=y(Kn,et);return t.useEffect(function(){var Y=Mt.current.Calendar;Y&&Se(Y,void 0,mr&&!Jn)},[mr,Gt.today,Jn]),function(){if(!(!Mt.current.isReady||!g(X))){var Y={state:Gt,setState:on,registerListener:Ir,calendarProps:yr,datePickerProps:Er,handleChange:vn,Calendar:Mt.current.Calendar,DatePicker:Jn,handlePropsChange:yn,handleFocusedDate:function(be){return On(be)},minDate:xe,maxDate:Ce},Re=function(be){return wt?"bottom":be.props.position||"right"};X.forEach(function(be,_e){if(typeof be.type!="string"){var lt={},Je=Re(be);if(Yt[Je]&&!be.props.disabled){for(var Ve=0;Ve<X.length;Ve++)if(typeof X[Ve].type!="string"&&!X[Ve].props.disabled){if(Object.keys(lt).length===4)break;var Et=Re(X[Ve]);["top","bottom"].includes(Je)?(Et===Je&&Ve>_e&&(lt.bottom=!0),Et===Je&&Ve<_e&&(lt.top=!0)):(bn.includes("border-top")&&(lt.top=!0),bn.includes("border-bottom")&&(lt.bottom=!0),Et===Je&&Ve>_e&&(lt.right=!0),Et===Je&&Ve<_e&&(lt.left=!0))}Yt[Je].push(t.cloneElement(be,d({key:_e,position:Je,nodes:lt},Y)))}}else be.type==="mapDays"&&ue.push(be.fn(Y))})}}(),Gt.today?a.default.createElement("div",{ref:function(Y){if(Y&&(Y.date=Gt.date,Y.set=function(Re,be){Rt||on(d(d({},Gt),{},{date:new l.default(Gt.date.set(Re,be))}))}),Mt.current.Calendar=Y,f instanceof Function)return f(Y);f&&(f.current=Y)},role:ye||"dialog",className:"rmdp-wrapper rmdp-".concat(ut?"shadow":"border"," ").concat(ie||""),style:d({zIndex:ce},Kr)},Yt.top,a.default.createElement("div",{style:{display:"flex"},className:bn},Yt.left,!wt&&a.default.createElement("div",{className:"rmdp-calendar ".concat(gr?"rmdp-rtl":""," ").concat(cn(["left","right"]))},a.default.createElement(C,d(d({},ln),{},{disableYearPicker:Te,disableMonthPicker:Be,buttons:ve,renderButton:De,handleMonthChange:Me,disabled:Rt,hideMonth:ot,hideYear:ke,monthYearSeparator:An,formatMonth:xt,formatYear:Ln,headerOrder:Cn,onYearChange:Ot})),a.default.createElement("div",{style:{position:"relative"}},a.default.createElement(Ee,d(d({},ln),{},{showOtherDays:Ae,mapDays:ue,onlyShowInRangeDates:ne,customWeekDays:fe,weekStartDayIndex:He,hideWeekDays:Ue,displayWeekNumbers:sn,weekNumber:$t})),!nt&&a.default.createElement(a.default.Fragment,null,!Be&&a.default.createElement(Pe,h({},ln,{customMonths:de,handleMonthChange:Me})),!Te&&a.default.createElement(St,h({},ln,{onYearChange:Ot}))))),Yt.right),Yt.bottom,Ie):null;function vn(Y,Re){if(Y instanceof l.default&&(Y=new l.default(Y)),!Rt){if(Y||Y===null){if(gt)return;En.change&&En.change.forEach(function(_e){return _e(Y)})}if(Y||Y===null){var be=Le==null?void 0:Le(Y);Re&&be!==!1&&on(Re)}else Re&&on(Re);yn({value:Y})}}function yn(){var Y,Re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!gt&&!Rt){var be=d(d(d(d({},yr),Er),Re),{},{value:(Y=Re.value)!==null&&Y!==void 0?Y:Gt.selectedDate});delete be.onPropsChange,Ge==null||Ge(be)}}function On(Y,Re){gt||Rt||Nt==null||Nt(Y,Re)}function Me(Y){jt==null||jt(Y)}function cn(Y){return wt||!g(X)?"":Array.from(new Set(X.map(function(Re){if(!Re.props)return"";var be=Re.props.position||"right";return Y.includes(be)&&!Re.props.disabled?"rmdp-border-"+be:""}))).join(" ")}function Ir(Y,Re){En[Y]||(En[Y]=[]),En[Y].push(Re)}}var _n=t.forwardRef(Tn);function Pn(o,f,_,v){var w=[].concat(o).map(function(q){return g(q)?q.map(S).filter(V):S(q)}).filter(V);return g(o)?w:w.flat()[0];function S(q){return q?q instanceof l.default?q:new l.default({date:q,calendar:f,locale:_,format:v}):{}}function V(q){return g(q)||q.isValid}}We('.rmdp-visible{visibility:visible}.rmdp-invisible{visibility:hidden}.rmdp-input{border:1px solid #c0c4d6;border-radius:5px;height:22px;margin:1px 0;padding:2px 5px}.rmdp-input:focus{border:1px solid #a4b3c5;box-shadow:0 0 2px #a4b3c5;outline:none!important}.rmdp-button{background-color:#0074d9;border:none;border-radius:5px;color:#fff;cursor:pointer;display:inline-block;padding:7px 16px;text-align:center;text-decoration:none;transition:.3s}.rmdp-button:hover{background-color:#143ac5;transition:.4s}.rmdp-button:disabled{background-color:#8798ad}.rmdp-action-button{border-radius:unset;color:#2682d3;float:right;font-weight:700;margin:15px 10px 15px 0}.rmdp-action-button,.rmdp-action-button:hover{background-color:transparent}.rmdp-ep-arrow{overflow:hidden;will-change:transform}.rmdp-ep-arrow:after{background-color:#fff;content:"";height:12px;position:absolute;transform:rotate(45deg);width:12px}.rmdp-ep-shadow:after{box-shadow:0 0 6px #8798ad}.rmdp-ep-border:after{border:1px solid #cfd8e2}.rmdp-ep-arrow[direction=top]{border-bottom:1px solid #fff}.rmdp-ep-arrow[direction=left]{border-right:1px solid #fff}.rmdp-ep-arrow[direction=right]{border-left:1px solid #fff;margin-left:-1px}.rmdp-ep-arrow[direction=bottom]{border-top:1px solid #fff;margin-top:-1.5px}.rmdp-ep-arrow[direction=top]:after{left:4px;top:5px}.rmdp-ep-arrow[direction=bottom]:after{left:4px;top:-6px}.rmdp-ep-arrow[direction=left]:after{left:5px;top:3px}.rmdp-ep-arrow[direction=right]:after{left:-6px;top:3px}');var Fe=["value","calendar","locale","format","onlyMonthPicker","onlyYearPicker","onChange","range","multiple","name","id","title","placeholder","required","style","className","inputClass","disabled","render","weekDays","months","children","inputMode","scrollSensitive","hideOnScroll","minDate","maxDate","formattingIgnoreList","containerClassName","calendarPosition","editable","onOpen","onClose","arrowClassName","zIndex","arrow","fixMainPosition","onPositionChange","onPropsChange","digits","readOnly","shadow","onFocusedDateChange","type","weekPicker","mobileLabels","onOpenPickNewDate","mobileButtons","dateSeparator","multipleRangeSeparator","typingTimeout"],Ft=["label"];function wr(o,f){var _=o.value,v=o.calendar,w=o.locale,S=o.format,V=o.onlyMonthPicker,q=o.onlyYearPicker,W=o.onChange,H=o.range,N=H!==void 0&&H,Q=o.multiple,G=Q!==void 0&&Q,ie=o.name,ye=o.id,fe=o.title,de=o.placeholder,Ie=o.required,Le=o.style,Ae=Le===void 0?{}:Le,xe=o.className,Ce=xe===void 0?"":xe,ue=o.inputClass,Be=o.disabled,Te=o.render,K=o.weekDays,z=o.months,Z=o.children,ne=o.inputMode,me=o.scrollSensitive,ce=me===void 0||me,re=o.hideOnScroll,X=o.minDate,ae=o.maxDate,pe=o.formattingIgnoreList,he=o.containerClassName,dt=he===void 0?"":he,Ke=o.calendarPosition,Ht=Ke===void 0?"bottom-left":Ke,ve=o.editable,De=ve===void 0||ve,ze=o.onOpen,He=o.onClose,wt=o.arrowClassName,Ge=wt===void 0?"":wt,jt=o.zIndex,Ot=jt===void 0?100:jt,Nt=o.arrow,gt=Nt===void 0||Nt,Rt=o.fixMainPosition,ot=o.onPositionChange,ke=o.onPropsChange,Ue=o.digits,tt=o.readOnly,ut=o.shadow,nt=ut===void 0||ut,sn=o.onFocusedDateChange,$t=o.type,zt=o.weekPicker,Bt=o.mobileLabels,An=o.onOpenPickNewDate,xt=An===void 0||An,Ln=o.mobileButtons,kn=Ln===void 0?[]:Ln,ur=o.dateSeparator,Fn=o.multipleRangeSeparator,Cn=Fn===void 0?",":Fn,fr=o.typingTimeout,Kr=fr===void 0?700:fr,pr=y(o,Fe),mr=m(t.useState(),2),Bn=mr[0],hr=mr[1],Gt=m(t.useState(),2),on=Gt[0],En=Gt[1],Mt=m(t.useState(""),2),bn=Mt[0],Yt=Mt[1],gr=m(t.useState(!1),2),ln=gr[0],Kn=gr[1],Er=m(t.useState(!1),2),Jn=Er[0],yr=Er[1],vn=t.useRef(),yn=t.useRef(),On=t.useRef(),Me=t.useRef({isTyping:!1}),cn=ur||(N||zt?" ~ ":", "),Ir=arguments[0],Y=typeof Ce=="string"&&Ce.includes("rmdp-mobile"),Re=t.useCallback(function(){if((He==null?void 0:He())!==!1){var M=dr(yn);if(M&&M.forEach(function(Ne){return Ne.blur()}),Me.current.mobile){var le=On.current.parentNode.parentNode;le.classList.remove("rmdp-calendar-container-mobile"),le.style.position="absolute",le.style.visibility="hidden"}Me.current.validInputValue!==void 0&&(Yt(Me.current.validInputValue),Me.current.validInputValue=void 0),Kn(!1),yr(!1)}},[He]),be=[{type:"button",className:"rmdp-button rmdp-action-button",onClick:function(){En(void 0),Re()},label:Je("CANCEL")},{type:"button",className:"rmdp-button rmdp-action-button",onClick:function(){on&&(Pt(on,!0),En(void 0)),Re()},label:Je("OK")}];Y&&!Me.current.mobile&&(Me.current=d(d({},Me.current),{},{mobile:!0})),!Y&&Me.current.mobile&&(Me.current=d(d({},Me.current),{},{mobile:!1})),pe=j(pe),S=st(V,q,S);var _e,lt=m(Ye(v,w),2);return v=lt[0],w=lt[1],t.useEffect(function(){function M(Ne){if(ln&&!Me.current.mobile){var Dt=[];if([yn.current,On.current].forEach(function(Ut){var yt,Vt;!Ut||Ut.contains(Ne.target)||Ne.target.classList.contains("b-deselect")||(yt=Ne.target.parentNode)!==null&&yt!==void 0&&(yt=yt.classList)!==null&&yt!==void 0&&(Vt=yt.contains)!==null&&Vt!==void 0&&Vt.call(yt,"b-deselect")||Dt.push(Ut)}),Dt.length===2)return Re();On.current&&On.current.contains(Ne.target)&&(vn.current.removeTransition(),vn.current.refreshPosition())}}function le(){re&&ln&&Re()}return document.addEventListener("click",M,!1),document.addEventListener("scroll",le,!0),function(){document.removeEventListener("click",M,!1),document.removeEventListener("scroll",le,!0)}},[Re,f,ln,re]),t.useEffect(function(){var M=_,le=Me.current,Ne=le.date,Dt=le.initialValue,Ut=function(){return M[M.length-1]};function yt(qe){if(qe)return qe instanceof l.default||(qe=new l.default({date:qe,calendar:v,locale:w,format:S})),qe.calendar!==v&&qe.setCalendar(v),qe.set({weekDays:K,months:z,digits:Ue,locale:w,format:S,ignoreList:JSON.parse(pe)}),qe}_||Dt||!Ne?Dt&&!_&&(Dt=void 0):M=Ne;var Vt="";if(N||G||g(M)){var Tr=function(qe){return qe=qe.map(yt).filter(function(br){return br!==void 0}),N&&qe.length>2&&(qe=[qe[0],Ut()]),[qe,cr(qe,cn)]};if(g(M)||(M=N&&G?M?[[M]]:[]:[M]),G&&N)M=M.map(function(qe,br){var Ai=m(Tr(g(qe)?qe:[qe]),2),vs=Ai[0],Os=Ai[1];return Vt+=Os+(br<M.length-1?" ".concat(Cn," "):""),vs});else{var _r=m(Tr(M),2);M=_r[0],Vt=_r[1]}Vt=Vt.toString().replace(/\s,\s$/,"")}else g(M)&&(M=Ut()),(M=yt(M))&&(Vt=M.format());Me.current.isTyping||Yt(Vt),Me.current=d(d({},Me.current),{},{date:M,separator:cn,initialValue:Dt||_}),Me.current.mobile&&vn.current.isOpen?En(M):(Me.current.validInputValue=void 0,hr(M))},[_,v,w,S,N,G,cn,V,q,K,z,Ue,pe]),t.useEffect(function(){var M=Me.current.selection;if(M){var le=dr(yn);le.length!==0&&(le.forEach(function(Ne){document.activeElement===Ne&&(Ne.setSelectionRange(M,M),Me.current.selection=void 0)}),vn.current.refreshPosition())}},[bn]),(G||N||g(Bn)||!De)&&(ne="none"),a.default.createElement(s.default,h({ref:function(M){if(M&&(M.openCalendar=function(){return setTimeout(function(){return Ve()},10)},M.closeCalendar=Re,M.isOpen=ln&&Jn),vn.current=M,f instanceof Function)return f(M);f&&(f.current=M)},element:Te?a.default.createElement("div",{ref:yn},t.isValidElement(Te)?t.cloneElement(Te,{value:bn,openCalendar:Ve,onFocus:Ve,handleValueChange:dn,onChange:dn,locale:w,separator:cn}):Te instanceof Function?Te(bn,Ve,dn,w,cn):null):a.default.createElement("input",{ref:yn,type:$t||"text",name:ie,id:ye,title:fe,required:Ie,onFocus:Ve,className:ue||"rmdp-input",placeholder:de,value:bn,onChange:dn,style:Ae,autoComplete:"off",disabled:!!Be,inputMode:ne||(Y?"none":void 0),readOnly:tt}),popper:ln&&a.default.createElement(_n,h({ref:On,value:on||Bn,onChange:Pt,range:N,multiple:G,calendar:v,locale:w,format:S,onlyMonthPicker:V,onlyYearPicker:q,className:Ce+(Y?" rmdp-mobile":""),weekDays:K,months:z,digits:Ue,minDate:X,maxDate:ae,formattingIgnoreList:JSON.parse(pe),onPropsChange:ke,shadow:nt,onReady:In,DatePicker:vn.current,datePickerProps:Ir,onFocusedDateChange:un,weekPicker:zt},pr),Z,Y&&(_e=[].concat.apply([],Ir.plugins||[]).some(function(M){var le=M.props;return!(le===void 0?{}:le).disabled}),g(kn)&&a.default.createElement("div",{className:"rmdp-action-buttons ".concat(Wt(w)?"rmdp-rtl":""," ").concat(_e?"rmdp-border-top":"")},kn.concat(be).map(function(M,le){var Ne=M.label,Dt=y(M,Ft);return a.default.createElement("button",h({key:le},Dt),Ne)})))),active:!Y&&Jn,position:Ht,arrow:!Y&&gt,fixMainPosition:!ce||Rt,zIndex:Ot,onChange:!Y&&ot,containerClassName:"rmdp-container ".concat(dt),arrowClassName:["rmdp-ep-arrow","rmdp-ep-".concat(nt?"shadow":"border"),Ce,Ge].join(" ")},pr));function Je(M){var le,Ne=w||new l.default().locale;return typeof Ne.name!="string"?M:(Bt==null?void 0:Bt[M])||((le={en:{OK:"OK",CANCEL:"CANCEL"},fa:{OK:"\u062A\u0623\u06CC\u06CC\u062F",CANCEL:"\u0644\u063A\u0648"},ar:{OK:"\u062A\u0623\u0643\u064A\u062F",CANCEL:"\u0627\u0644\u063A\u0627\u0621"},hi:{OK:"\u092A\u0941\u0937\u094D\u091F\u093F",CANCEL:"\u0930\u0926\u094D\u0926 \u0915\u0930\u0947\u0902"}}[an(Ne)])===null||le===void 0?void 0:le[M])||M}function Ve(){if(!Be&&!tt&&(ze==null?void 0:ze())!==!1){if(xt&&!_&&!Me.current.date&&!N&&!G&&!Y){var M=new l.default({calendar:v,locale:w,format:S,months:z,weekDays:K,digits:Ue,ignoreList:JSON.parse(pe)});(!X||M>$e(X,v,S))&&(!ae||M<$e(ae,v,S))&&(Pt(M),ke==null||ke(d(d({},Ir),{},{value:M})),Me.current.date=M)}var le=dr(yn);Y&&le.length>0&&le.forEach(function(Ne){return Ne.blur()}),le.length>0||!ln?Kn(!0):Re()}}function Et(M){var le="";return M&&(le=G&&N&&g(M)?M.map(function(Ne){return cr(Ne,cn)}).join(" ".concat(Cn," ")):cr(M,cn)),le}function Pt(M,le,Ne){if(Y&&!le)return En(M);var Dt=Et(M),Ut=Ne||Dt.toString().replace(/\s,\s$/,"");return M&&[].concat(M).flat().some(function(yt){return X&&yt<$e(X,v,S)||ae&&yt>$e(ae,v,S)})?(Me.current.validInputValue=Et(_||Me.current.date),Yt(Ut)):(Me.current.validInputValue=Dt,(W==null?void 0:W(M,{validatedValue:Dt,input:yn.current,isTyping:!!Ne}))===!1?(Yt(bn),!1):(hr(M),Yt(Ut),void(Me.current=d(d({},Me.current),{},{date:M}))))}function dn(M){if(De){Me.current.isTyping=!0,setTimeout(function(){Me.current.isTyping=!1},Kr),Me.current.selection=M.target.selectionStart;var le=M.target.value,Ne={calendar:v,locale:w,format:S,ignoreList:JSON.parse(pe)};if(Ue=g(Ue)?Ue:w.digits,!le)return Yt(""),Pt(null);if(Ue){var Dt,Ut,yt=T(Ue);try{for(yt.s();!(Dt=yt.n()).done;){var Vt=Dt.value;le=le.replace(new RegExp(Vt,"g"),Ue.indexOf(Vt))}}catch(qe){yt.e(qe)}finally{yt.f()}Ut=g(Bn)?G&&N?(le||"").split(Cn).filter(Boolean).map(_r):_r(le):Tr(le),Pt(g(Bn)||Ut.isValid?Ut:null,void 0,se(le,Ue))}}function Tr(qe){return/(?=.*Y)(?=.*M)(?=.*D)/.test(S)?new l.default(d(d({},Ne),{},{date:qe})):new l.default(Ne).parse(qe)}function _r(qe){return(qe||"").split(cn).filter(Boolean).map(function(br){return Tr(br.trim())})}}function In(){if(yr(!0),Y){var M=On.current.parentNode.parentNode;M.className="rmdp-calendar-container-mobile",M.style.position="fixed",M.style.transform="",setTimeout(function(){M.style.visibility="visible"},50)}}function un(M,le){g(Me.current.date)||!le||Y||Re(),sn==null||sn(M,le)}}var Qr=t.forwardRef(wr);function cr(o,f){var _=[].concat(o).map(function(v){return v!=null&&v.isValid?v.format():""});return _.toString=function(){return this.filter(Boolean).join(f)},_}function dr(o){return o.current?o.current.tagName==="INPUT"?[o.current]:Array.from(o.current.querySelectorAll("input")):[]}Object.defineProperty(e,"DateObject",{enumerable:!0,get:function(){return l.default}}),e.Calendar=_n,e.default=Qr,e.getAllDatesInRange=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],f=arguments.length>1?arguments[1]:void 0;if(!Array.isArray(o))return[];var _=o[0],v=o[o.length-1],w=[];if(!(_ instanceof l.default&&v instanceof l.default&&_.isValid&&v.isValid&&!(_>v)))return[];for(_=new l.default(_),v=new l.default(v);_<=v;_.day++)w.push(f?_.toDate():new l.default(_));return w},e.toDateObject=$e})(gs);const Qd=Ms(gs);hn.exports.forwardRef((e,t)=>{const{error:r=!1,fullWidth:n=!0,size:i="base",rounded:a,className:s,label:l,helperText:c,startIcon:d,endIcon:u,rootClassName:h,labelExtractInfo:y,dateSeparator:m,placeholder:p,format:I,onChange:E,plugins:T,value:g,disableDayPicker:O,...P}=e,x=["appearance-none dark:bg-bg-form py-xs px-6 text-c-m text-sm	 text-text-base border-0 rounded-sm shadow-base bg-bg-field placeholder-text-muted hover:bg-bg-field-hover focus:bg-bg-field focus:ring-bg-brand focus:shadow-border-interactive-active focus:border-bg-brand disabled:bg-bg-disabled disabled:shadow-base disabled:text-text-disabled"],F=["before:absolute before:right-[-10px] before:top-0 before:text-text-error before:content-['*']"],J=["text-text-error"],[A,B]=hn.exports.useState(!1),ee=hn.exports.useRef(null),U=te=>{var Ee;const Se=te.target,L=!((Ee=ee.current)!=null&&Ee.contains(Se));B(L)};return hn.exports.useEffect(()=>(document.addEventListener("click",U,!0),()=>document.removeEventListener("click",U,!0)),[]),tn("div",{children:[l&&tn("label",{className:nn(["relative mb-1.5 inline-block text-c-m-p text-text-base dark:text-text-title-dark",P.required&&F]),htmlFor:P.name,children:[l,y&&tn("span",{className:"ml-1 text-c-m-p text-text-muted",children:["(",y,")"]})]}),tn("div",{className:"relative",children:[d&&pn("div",{className:"absolute left-2.5 top-2/4 -translate-y-2/4 [&>svg]:h-5 [&>svg]:w-5",children:d}),u&&pn("div",{className:"absolute right-2.5 top-2/4 -translate-y-2/4 [&>svg]:h-5 [&>svg]:w-5",children:u})]}),pn(Qd,{format:I,plugins:T,style:{width:"100%"},ref:ee,placeholder:p,value:g,dateSeparator:m,disableDayPicker:O,onChange:E,onClose:()=>A,className:nn([x,s,d&&"pl-9"])}),c&&pn("p",{className:nn(["mt-xs text-c-xs",r&&J]),children:c})]})});export{Jd as M,Zd as a};
