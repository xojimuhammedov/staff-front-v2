import{P as L,M as P,a as S}from"./MyDivider.9f45eeca.js";import{F as n,D as u,T as I,a as T}from"./ui.constants.4870ca8b.js";import{u as b,a7 as B,r as s,a,U as r,a0 as F,a1 as R,a2 as $,j as m,l as j,M as z,o as A}from"./index.e5d80a55.js";import{u as O,K as y,U as h}from"./url.1178bcbf.js";import{u as U,C as q}from"./Pagination.4bfa72ff.js";import"./MyCheckbox.f2e368bd.js";import"./MyDateRangePicker.9bf8c213.js";import"./index.esm.746166b2.js";import"./MySelect.c814ee28.js";import"./key-type.enum.09acb669.js";import"./helper.f810761f.js";const K=()=>{const{t:e}=b(),o=B(),[f,i]=s.exports.useState(!1),[x,v]=s.exports.useState(null),{data:d,isLoading:c,refetch:N}=O({key:y.getEmployeeList,url:h.getEmployeeList,params:{}}),C=s.exports.useMemo(()=>[{key:"fullName",label:e("Employees"),headerClassName:"w-1/3",cellRender:t=>a("div",{className:"flex items-center gap-4 dark:text-text-title-dark",children:t==null?void 0:t.name})},{key:"department",label:e("Department"),headerClassName:"w-1/3",cellRender:t=>{var l,p;return a("div",{className:"department-text",children:(p=(l=t==null?void 0:t.department)==null?void 0:l.shortName)!=null?p:"--"})}},{key:"phone",label:e("Phone Number"),headerClassName:"w-1/3",cellRender:t=>{var l;return a(r,{children:(l=t==null?void 0:t.phone)!=null?l:"--"})}}],[e]),E=[{id:1,label:e("Employees"),headerClassName:"w-1/3"},{id:2,label:e("Department"),headerClassName:"w-1/3"},{id:3,label:e("Phone Number"),headerClassName:"w-1/3"}],g=s.exports.useMemo(()=>[{label:e("State"),key:"online",type:n.multiselect,value:[],options:[{value:"yes",label:e("Online")},{value:"no",label:e("Offline")}]},{label:e("Deleted"),key:"deleted",type:n.multiselect,value:[],options:[{value:"yes",label:e("Not deleted")},{value:"no",label:e("Deleted")}]},{label:e("Monitored"),key:"monitored",type:n.multiselect,value:[],options:[{value:"yes",label:e("Monitored")},{value:"no",label:e("Not monitored")}]}],[e]),k=s.exports.useMemo(()=>[{icon:a(F,{size:u}),type:"primary",name:e("Edit employee"),action:(t,l)=>{o(`/employees/edit/${t.id}`)}},{icon:a(R,{size:u}),type:"danger",name:e("Delete employee"),action:(t,l)=>{i(!0),v(t==null?void 0:t.id)}}],[e]),{mutate:D}=U({listKeyId:y.getEmployeeList}),M=()=>{D({url:`${h.getEmployeeList}/${x}`},{onSuccess:()=>{N(),i(!1)}})};return c?a("div",{className:"absolute flex h-full w-full items-center justify-center",children:a($,{})}):m(r,{children:[a(I,{values:{columns:C,filter:g,rows:j.exports.get(d,"data",[]),keyExtractor:"id"},children:a(T,{isLoading:c,hasAction:!1,hasCustomizeColumns:!0,hasFilters:!1,dataColumn:E,hasExport:!1,hasCheckbox:!1,rowActions:k,pagination:d,hasButton:a(r,{children:a(z,{onClick:()=>{o("/employees/create")},startIcon:a(A,{}),variant:"primary",className:"[&_svg]:stroke-bg-white w-[200px] text-sm",children:e("Create an employee")})})})}),a(q,{title:e("Bu hodimni o'chirmoqchimisiz?"),subTitle:e("Bu amalni qaytarib bo'lmaydi!"),open:f,setOpen:i,confirmationDelete:M})]})};function ee(){const{t:e}=b(),o=[{label:e("Employees"),url:"#"}];return m(L,{children:[m("div",{className:"flex flex-col",children:[a("h1",{className:"headers-core dark:text-text-title-dark text-text-base",children:e("Employees")}),a(P,{items:o})]}),a(S,{}),a(K,{})]})}export{ee as default};
